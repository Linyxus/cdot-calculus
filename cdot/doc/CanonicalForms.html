<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="assets/resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="assets/resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="assets/resources/config.js"></script>
<script type="text/javascript" src="assets/resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">CanonicalForms</h1>

<div class="code">

<br/>
</div>

<div class="doc">
<a id="lab79"></a><h1 class="section">Canonical Forms</h1>
 This module proves the Canonical Forms Lemmas, which allow us
    to retrieve the shape of a value given its type. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Coq.Program.Equality</span> <span class="id" title="library">List</span> <span class="id" title="library">String</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Binding.html#"><span class="id" title="library">Binding</span></a> <a class="idref" href="Definitions.html#"><span class="id" title="library">Definitions</span></a> <a class="idref" href="GeneralToTight.html#"><span class="id" title="library">GeneralToTight</span></a> <a class="idref" href="InvertibleTyping.html#"><span class="id" title="library">InvertibleTyping</span></a> <a class="idref" href="Lookup.html#"><span class="id" title="library">Lookup</span></a> <a class="idref" href="Narrowing.html#"><span class="id" title="library">Narrowing</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#"><span class="id" title="library">PreciseTyping</span></a> <a class="idref" href="Replacement.html#"><span class="id" title="library">Replacement</span></a> <a class="idref" href="ReplacementTyping.html#"><span class="id" title="library">ReplacementTyping</span></a> <a class="idref" href="RecordAndInertTypes.html#"><span class="id" title="library">RecordAndInertTypes</span></a> <a class="idref" href="Substitution.html#"><span class="id" title="library">Substitution</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Subenvironments.html#"><span class="id" title="library">Subenvironments</span></a> <a class="idref" href="TightTyping.html#"><span class="id" title="library">TightTyping</span></a> <a class="idref" href="Weakening.html#"><span class="id" title="library">Weakening</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Sequences.html#"><span class="id" title="library">Sequences</span></a>.<br/>

<br/>
</div>

<div class="doc">
Converting a stable term to a general term 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="deftrm" class="idref" href="#deftrm"><span class="id" title="definition">deftrm</span></a> <a id="t:1" class="idref" href="#t:1"><span class="id" title="binder">t</span></a> : <a class="idref" href="Definitions.html#trm"><span class="id" title="inductive">trm</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CanonicalForms.html#t:1"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <span class="id" title="var">p</span> ⇒ <a class="idref" href="Definitions.html#trm_path"><span class="id" title="constructor">trm_path</span></a> <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#defv"><span class="id" title="constructor">defv</span></a> <span class="id" title="var">v</span> ⇒ <a class="idref" href="Definitions.html#trm_val"><span class="id" title="constructor">trm_val</span></a> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab80"></a><h2 class="section">Type preservation for path lookup</h2>

<div class="paragraph"> </div>

 If the record <span class="inlinecode">{<span class="id" title="var">a</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">t</span>}</span> has type <span class="inlinecode">{<span class="id" title="var">a</span>:</span> <span class="inlinecode"><span class="id" title="var">V</span>}</span> then <span class="inlinecode"><span class="id" title="var">t</span></span> is either
<ul class="doclist">
<li> a function that has type <span class="inlinecode"><span class="id" title="var">V</span></span>,

</li>
<li> an object <span class="inlinecode"><span class="id" title="var">ν</span>(<span class="id" title="var">U</span>)<span class="id" title="var">ds</span></span> that has type <span class="inlinecode"><span class="id" title="var">μ</span>(<span class="id" title="var">U</span>)</span>, and <span class="inlinecode"><span class="id" title="var">V</span>=<span class="id" title="var">μ</span>(<span class="id" title="var">U</span>)</span>, or

</li>
<li> a well-typed path <span class="inlinecode"><span class="id" title="var">q</span></span>, and <span class="inlinecode"><span class="id" title="var">V</span>=<span class="id" title="var">q.type</span></span> 

</li>
</ul>
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="object_typing" class="idref" href="#object_typing"><span class="id" title="lemma">object_typing</span></a> <a id="G:3" class="idref" href="#G:3"><span class="id" title="binder">G</span></a> <a id="x:4" class="idref" href="#x:4"><span class="id" title="binder">x</span></a> <a id="bs:5" class="idref" href="#bs:5"><span class="id" title="binder">bs</span></a> <a id="ds:6" class="idref" href="#ds:6"><span class="id" title="binder">ds</span></a> <a id="T:7" class="idref" href="#T:7"><span class="id" title="binder">T</span></a> <a id="a:8" class="idref" href="#a:8"><span class="id" title="binder">a</span></a> <a id="t:9" class="idref" href="#t:9"><span class="id" title="binder">t</span></a> <a id="V:10" class="idref" href="#V:10"><span class="id" title="binder">V</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:3"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#x:4"><span class="id" title="variable">x</span></a><a class="idref" href="Definitions.html#ed2865d5b6635aaa6d875cc0fd7c034b"><span class="id" title="notation">;</span></a> <a class="idref" href="CanonicalForms.html#bs:5"><span class="id" title="variable">bs</span></a><a class="idref" href="Definitions.html#ed2865d5b6635aaa6d875cc0fd7c034b"><span class="id" title="notation">;</span></a> <a class="idref" href="CanonicalForms.html#G:3"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#ed2865d5b6635aaa6d875cc0fd7c034b"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CanonicalForms.html#ds:6"><span class="id" title="variable">ds</span></a> <a class="idref" href="Definitions.html#ed2865d5b6635aaa6d875cc0fd7c034b"><span class="id" title="notation">::</span></a> <a class="idref" href="CanonicalForms.html#T:7"><span class="id" title="variable">T</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="Definitions.html#defs_has"><span class="id" title="definition">defs_has</span></a> <a class="idref" href="CanonicalForms.html#ds:6"><span class="id" title="variable">ds</span></a> <a class="idref" href="Definitions.html#5c1231770009cbe12d8b89eaf73bf800"><span class="id" title="notation">{</span></a><a class="idref" href="CanonicalForms.html#a:8"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#5c1231770009cbe12d8b89eaf73bf800"><span class="id" title="notation">:=</span></a> <a class="idref" href="CanonicalForms.html#t:9"><span class="id" title="variable">t</span></a><a class="idref" href="Definitions.html#5c1231770009cbe12d8b89eaf73bf800"><span class="id" title="notation">}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="Definitions.html#record_has"><span class="id" title="inductive">record_has</span></a> <a class="idref" href="CanonicalForms.html#T:7"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">{</span></a><a class="idref" href="CanonicalForms.html#a:8"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="CanonicalForms.html#V:10"><span class="id" title="variable">V</span></a><a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">∃</span> <a id="U:11" class="idref" href="#U:11"><span class="id" title="binder">U</span></a> <a id="u:12" class="idref" href="#u:12"><span class="id" title="binder">u</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#t:9"><span class="id" title="variable">t</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#defv"><span class="id" title="constructor">defv</span></a> (<a class="idref" href="Definitions.html#d9cc4b8b9bd644016bdfcf5f8009b5b6"><span class="id" title="notation">λ</span></a><a class="idref" href="Definitions.html#d9cc4b8b9bd644016bdfcf5f8009b5b6"><span class="id" title="notation">(</span></a><a class="idref" href="CanonicalForms.html#U:11"><span class="id" title="variable">U</span></a><a class="idref" href="Definitions.html#d9cc4b8b9bd644016bdfcf5f8009b5b6"><span class="id" title="notation">)</span></a> <a class="idref" href="CanonicalForms.html#u:12"><span class="id" title="variable">u</span></a>) <span class="id" title="notation">∧</span> <a class="idref" href="CanonicalForms.html#G:3"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CanonicalForms.html#deftrm"><span class="id" title="definition">deftrm</span></a> <a class="idref" href="CanonicalForms.html#t:9"><span class="id" title="variable">t</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#V:10"><span class="id" title="variable">V</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∨</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">∃</span> <a id="r0:13" class="idref" href="#r0:13"><span class="id" title="binder">r0</span></a> <a id="A:14" class="idref" href="#A:14"><span class="id" title="binder">A</span></a> <a id="U:15" class="idref" href="#U:15"><span class="id" title="binder">U</span></a> <a id="ds':16" class="idref" href="#ds':16"><span class="id" title="binder">ds'</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#t:9"><span class="id" title="variable">t</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#defv"><span class="id" title="constructor">defv</span></a> (<a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">ν</span></a><a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">[</span></a><a class="idref" href="CanonicalForms.html#r0:13"><span class="id" title="variable">r0</span></a><a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">↘</span></a><a class="idref" href="CanonicalForms.html#A:14"><span class="id" title="variable">A</span></a><a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">](</span></a><a class="idref" href="CanonicalForms.html#U:15"><span class="id" title="variable">U</span></a><a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">)</span></a> <a class="idref" href="CanonicalForms.html#ds':16"><span class="id" title="variable">ds'</span></a>) <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#x:4"><span class="id" title="variable">x</span></a><a class="idref" href="Definitions.html#ed2865d5b6635aaa6d875cc0fd7c034b"><span class="id" title="notation">;</span></a> <a class="idref" href="Definitions.html#ed2865d5b6635aaa6d875cc0fd7c034b"><span class="id" title="notation">(</span></a><a class="idref" href="CanonicalForms.html#a:8"><span class="id" title="variable">a</span></a> <span class="id" title="notation">::</span> <a class="idref" href="CanonicalForms.html#bs:5"><span class="id" title="variable">bs</span></a><a class="idref" href="Definitions.html#ed2865d5b6635aaa6d875cc0fd7c034b"><span class="id" title="notation">);</span></a> <a class="idref" href="CanonicalForms.html#G:3"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#ed2865d5b6635aaa6d875cc0fd7c034b"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#open_defs_p"><span class="id" title="definition">open_defs_p</span></a> (<a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="CanonicalForms.html#x:4"><span class="id" title="variable">x</span></a>) (<a class="idref" href="CanonicalForms.html#a:8"><span class="id" title="variable">a</span></a> <span class="id" title="notation">::</span> <a class="idref" href="CanonicalForms.html#bs:5"><span class="id" title="variable">bs</span></a>)) <a class="idref" href="CanonicalForms.html#ds':16"><span class="id" title="variable">ds'</span></a> <a class="idref" href="Definitions.html#ed2865d5b6635aaa6d875cc0fd7c034b"><span class="id" title="notation">::</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#open_typ_p"><span class="id" title="definition">open_typ_p</span></a> (<a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="CanonicalForms.html#x:4"><span class="id" title="variable">x</span></a>) (<a class="idref" href="CanonicalForms.html#a:8"><span class="id" title="variable">a</span></a> <span class="id" title="notation">::</span> <a class="idref" href="CanonicalForms.html#bs:5"><span class="id" title="variable">bs</span></a>)) <a class="idref" href="CanonicalForms.html#U:15"><span class="id" title="variable">U</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:3"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_path"><span class="id" title="constructor">trm_path</span></a> (<a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="CanonicalForms.html#x:4"><span class="id" title="variable">x</span></a>) (<a class="idref" href="CanonicalForms.html#a:8"><span class="id" title="variable">a</span></a> <span class="id" title="notation">::</span> <a class="idref" href="CanonicalForms.html#bs:5"><span class="id" title="variable">bs</span></a>)) <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#open_typ_p"><span class="id" title="definition">open_typ_p</span></a> (<a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="CanonicalForms.html#x:4"><span class="id" title="variable">x</span></a>) (<a class="idref" href="CanonicalForms.html#a:8"><span class="id" title="variable">a</span></a> <span class="id" title="notation">::</span> <a class="idref" href="CanonicalForms.html#bs:5"><span class="id" title="variable">bs</span></a>)) (<a class="idref" href="CanonicalForms.html#r0:13"><span class="id" title="variable">r0</span></a> <a class="idref" href="Definitions.html#56a240108deb0dfbaeb49e48db859cf7"><span class="id" title="notation">↓</span></a> <a class="idref" href="CanonicalForms.html#A:14"><span class="id" title="variable">A</span></a>) <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#V:10"><span class="id" title="variable">V</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#57e8a3f1aebb1c6069654ec2f0cd7a19"><span class="id" title="notation">μ</span></a> <a class="idref" href="CanonicalForms.html#U:15"><span class="id" title="variable">U</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∨</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">∃</span> <a id="q:17" class="idref" href="#q:17"><span class="id" title="binder">q</span></a> <a id="S:18" class="idref" href="#S:18"><span class="id" title="binder">S</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#t:9"><span class="id" title="variable">t</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#q:17"><span class="id" title="variable">q</span></a> <span class="id" title="notation">∧</span> <a class="idref" href="CanonicalForms.html#V:10"><span class="id" title="variable">V</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="CanonicalForms.html#q:17"><span class="id" title="variable">q</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a> <span class="id" title="notation">∧</span> <a class="idref" href="CanonicalForms.html#G:3"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_path"><span class="id" title="constructor">trm_path</span></a> <a class="idref" href="CanonicalForms.html#q:17"><span class="id" title="variable">q</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#S:18"><span class="id" title="variable">S</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hds</span> <span class="id" title="var">Hdh</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Binding.html#record_has_ty_defs"><span class="id" title="lemma">record_has_ty_defs</span></a> <span class="id" title="var">Hds</span> <span class="id" title="var">Hr</span>) <span class="id" title="keyword">as</span> [? [<span class="id" title="var">Hdh'</span> <span class="id" title="var">Hdt</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="RecordAndInertTypes.html#defs_invert_trm"><span class="id" title="lemma">defs_invert_trm</span></a> <span class="id" title="var">Hdt</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">t'</span> -&gt;].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Binding.html#defs_has_inv"><span class="id" title="lemma">defs_has_inv</span></a> <span class="id" title="var">Hdh</span> <span class="id" title="var">Hdh'</span>) <span class="id" title="keyword">as</span> &lt;-. <span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">q</span> | <span class="id" title="var">v</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span>× <span class="id" title="var">Hdt</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">right</span>. <span class="id" title="tactic">left</span>. <span class="id" title="var">inversions</span> <span class="id" title="var">Hdt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">left</span>. <span class="id" title="var">inversions</span> <span class="id" title="var">Hdt</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><span class="id" title="var">p</span></span> looks up to <span class="inlinecode"><span class="id" title="var">t</span></span> in a value environment, <span class="inlinecode"><span class="id" title="var">p</span></span>'s environment type
    is <span class="inlinecode"><span class="id" title="var">T</span></span> and <span class="inlinecode"><span class="id" title="var">p</span></span>'s precise type is <span class="inlinecode"><span class="id" title="var">U</span></span>, then either <span class="inlinecode"><span class="id" title="var">t</span></span> is
<ul class="doclist">
<li> a function that has type <span class="inlinecode"><span class="id" title="var">T</span></span>,

</li>
<li> an object <span class="inlinecode"><span class="id" title="var">ν</span>(<span class="id" title="var">S</span>)<span class="id" title="var">ds</span></span> that has type <span class="inlinecode"><span class="id" title="var">μ</span>(<span class="id" title="var">S</span>)</span>, and <span class="inlinecode"><span class="id" title="var">T</span></span> and <span class="inlinecode"><span class="id" title="var">μ</span>(<span class="id" title="var">s</span>)</span> are equivalent, or

</li>
<li> a well-typed path <span class="inlinecode"><span class="id" title="var">q</span></span>, and <span class="inlinecode"><span class="id" title="var">T</span></span> is equivalent to <span class="inlinecode"><span class="id" title="var">q.type</span></span> 

</li>
</ul>
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="lookup_step_preservation_prec1" class="idref" href="#lookup_step_preservation_prec1"><span class="id" title="lemma">lookup_step_preservation_prec1</span></a>: <span class="id" title="keyword">∀</span> <a id="G:19" class="idref" href="#G:19"><span class="id" title="binder">G</span></a> <a id="cd73289fe2b98ac38c2f430fe6093303" class="idref" href="#cd73289fe2b98ac38c2f430fe6093303"><span class="id" title="binder">γ</span></a> <a id="p:21" class="idref" href="#p:21"><span class="id" title="binder">p</span></a> <a id="px:22" class="idref" href="#px:22"><span class="id" title="binder">px</span></a> <a id="pbs:23" class="idref" href="#pbs:23"><span class="id" title="binder">pbs</span></a> <a id="t:24" class="idref" href="#t:24"><span class="id" title="binder">t</span></a> <a id="T:25" class="idref" href="#T:25"><span class="id" title="binder">T</span></a> <a id="U:26" class="idref" href="#U:26"><span class="id" title="binder">U</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:19"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:19"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#cd73289fe2b98ac38c2f430fe6093303"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:19"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#cd73289fe2b98ac38c2f430fe6093303"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟦</span></a> <a class="idref" href="CanonicalForms.html#p:21"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⤳</span></a> <a class="idref" href="CanonicalForms.html#t:24"><span class="id" title="variable">t</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟧</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:19"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseFlow.html#27d10efae8295170a08832205c915493"><span class="id" title="notation">⊢!</span></a> <a class="idref" href="CanonicalForms.html#p:21"><span class="id" title="variable">p</span></a> <a class="idref" href="PreciseFlow.html#27d10efae8295170a08832205c915493"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#T:25"><span class="id" title="variable">T</span></a> <a class="idref" href="PreciseFlow.html#27d10efae8295170a08832205c915493"><span class="id" title="notation">⪼</span></a> <a class="idref" href="CanonicalForms.html#U:26"><span class="id" title="variable">U</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#p:21"><span class="id" title="variable">p</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="CanonicalForms.html#px:22"><span class="id" title="variable">px</span></a>) <a class="idref" href="CanonicalForms.html#pbs:23"><span class="id" title="variable">pbs</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">∃</span> <a id="S:27" class="idref" href="#S:27"><span class="id" title="binder">S</span></a> <a id="u:28" class="idref" href="#u:28"><span class="id" title="binder">u</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#t:24"><span class="id" title="variable">t</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#defv"><span class="id" title="constructor">defv</span></a> (<a class="idref" href="Definitions.html#d9cc4b8b9bd644016bdfcf5f8009b5b6"><span class="id" title="notation">λ</span></a><a class="idref" href="Definitions.html#d9cc4b8b9bd644016bdfcf5f8009b5b6"><span class="id" title="notation">(</span></a><a class="idref" href="CanonicalForms.html#S:27"><span class="id" title="variable">S</span></a><a class="idref" href="Definitions.html#d9cc4b8b9bd644016bdfcf5f8009b5b6"><span class="id" title="notation">)</span></a> <a class="idref" href="CanonicalForms.html#u:28"><span class="id" title="variable">u</span></a>) <span class="id" title="notation">∧</span> <a class="idref" href="CanonicalForms.html#G:19"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CanonicalForms.html#deftrm"><span class="id" title="definition">deftrm</span></a> <a class="idref" href="CanonicalForms.html#t:24"><span class="id" title="variable">t</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#T:25"><span class="id" title="variable">T</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∨</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">∃</span> <a id="S:29" class="idref" href="#S:29"><span class="id" title="binder">S</span></a> <a id="ds:30" class="idref" href="#ds:30"><span class="id" title="binder">ds</span></a> <a id="W:31" class="idref" href="#W:31"><span class="id" title="binder">W</span></a> <a id="T':32" class="idref" href="#T':32"><span class="id" title="binder">T'</span></a> <a id="r0:33" class="idref" href="#r0:33"><span class="id" title="binder">r0</span></a> <a id="A:34" class="idref" href="#A:34"><span class="id" title="binder">A</span></a> <a id="G1:35" class="idref" href="#G1:35"><span class="id" title="binder">G1</span></a> <a id="G2:36" class="idref" href="#G2:36"><span class="id" title="binder">G2</span></a> <a id="pT:37" class="idref" href="#pT:37"><span class="id" title="binder">pT</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#t:24"><span class="id" title="variable">t</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#defv"><span class="id" title="constructor">defv</span></a> (<a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">ν</span></a><a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">[</span></a><a class="idref" href="CanonicalForms.html#r0:33"><span class="id" title="variable">r0</span></a> <a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">↘</span></a> <a class="idref" href="CanonicalForms.html#A:34"><span class="id" title="variable">A</span></a><a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">](</span></a><a class="idref" href="CanonicalForms.html#S:29"><span class="id" title="variable">S</span></a><a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">)</span></a> <a class="idref" href="CanonicalForms.html#ds:30"><span class="id" title="variable">ds</span></a>) <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#T:25"><span class="id" title="variable">T</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#57e8a3f1aebb1c6069654ec2f0cd7a19"><span class="id" title="notation">μ</span></a> <a class="idref" href="CanonicalForms.html#T':32"><span class="id" title="variable">T'</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:19"><span class="id" title="variable">G</span></a> <span class="id" title="notation">=</span> <a class="idref" href="CanonicalForms.html#G1:35"><span class="id" title="variable">G1</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="CanonicalForms.html#px:22"><span class="id" title="variable">px</span></a> <span class="id" title="notation">~</span> <a class="idref" href="CanonicalForms.html#pT:37"><span class="id" title="variable">pT</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="CanonicalForms.html#G2:36"><span class="id" title="variable">G2</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#px:22"><span class="id" title="variable">px</span></a> <a class="idref" href="Definitions.html#ed2865d5b6635aaa6d875cc0fd7c034b"><span class="id" title="notation">;</span></a> <a class="idref" href="CanonicalForms.html#pbs:23"><span class="id" title="variable">pbs</span></a><a class="idref" href="Definitions.html#ed2865d5b6635aaa6d875cc0fd7c034b"><span class="id" title="notation">;</span></a> <a class="idref" href="CanonicalForms.html#G:19"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#ed2865d5b6635aaa6d875cc0fd7c034b"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#open_defs_p"><span class="id" title="definition">open_defs_p</span></a> <a class="idref" href="CanonicalForms.html#p:21"><span class="id" title="variable">p</span></a> <a class="idref" href="CanonicalForms.html#ds:30"><span class="id" title="variable">ds</span></a> <a class="idref" href="Definitions.html#ed2865d5b6635aaa6d875cc0fd7c034b"><span class="id" title="notation">::</span></a> <a class="idref" href="Definitions.html#open_typ_p"><span class="id" title="definition">open_typ_p</span></a> <a class="idref" href="CanonicalForms.html#p:21"><span class="id" title="variable">p</span></a> <a class="idref" href="CanonicalForms.html#S:29"><span class="id" title="variable">S</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:19"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_path"><span class="id" title="constructor">trm_path</span></a> <a class="idref" href="CanonicalForms.html#p:21"><span class="id" title="variable">p</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#open_typ_p"><span class="id" title="definition">open_typ_p</span></a> <a class="idref" href="CanonicalForms.html#p:21"><span class="id" title="variable">p</span></a> (<a class="idref" href="CanonicalForms.html#r0:33"><span class="id" title="variable">r0</span></a> <a class="idref" href="Definitions.html#56a240108deb0dfbaeb49e48db859cf7"><span class="id" title="notation">↓</span></a> <a class="idref" href="CanonicalForms.html#A:34"><span class="id" title="variable">A</span></a>) <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G1:35"><span class="id" title="variable">G1</span></a> <a class="idref" href="PreciseTyping.html#218c7b55c498333123efe7fa512ad9ed"><span class="id" title="notation">⊩</span></a> <a class="idref" href="CanonicalForms.html#S:29"><span class="id" title="variable">S</span></a> <a class="idref" href="PreciseTyping.html#218c7b55c498333123efe7fa512ad9ed"><span class="id" title="notation">⟿</span></a> <a class="idref" href="CanonicalForms.html#W:31"><span class="id" title="variable">W</span></a> <a class="idref" href="PreciseTyping.html#218c7b55c498333123efe7fa512ad9ed"><span class="id" title="notation">⬳</span></a> <a class="idref" href="CanonicalForms.html#T':32"><span class="id" title="variable">T'</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∨</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">∃</span> <a id="q:38" class="idref" href="#q:38"><span class="id" title="binder">q</span></a> <a id="r:39" class="idref" href="#r:39"><span class="id" title="binder">r</span></a> <a id="r':40" class="idref" href="#r':40"><span class="id" title="binder">r'</span></a> <a id="G1:41" class="idref" href="#G1:41"><span class="id" title="binder">G1</span></a> <a id="G2:42" class="idref" href="#G2:42"><span class="id" title="binder">G2</span></a> <a id="pT:43" class="idref" href="#pT:43"><span class="id" title="binder">pT</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#t:24"><span class="id" title="variable">t</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#q:38"><span class="id" title="variable">q</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#T:25"><span class="id" title="variable">T</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="CanonicalForms.html#r:39"><span class="id" title="variable">r</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:19"><span class="id" title="variable">G</span></a> <span class="id" title="notation">=</span> <a class="idref" href="CanonicalForms.html#G1:41"><span class="id" title="variable">G1</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="CanonicalForms.html#px:22"><span class="id" title="variable">px</span></a> <span class="id" title="notation">~</span> <a class="idref" href="CanonicalForms.html#pT:43"><span class="id" title="variable">pT</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="CanonicalForms.html#G2:42"><span class="id" title="variable">G2</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="CanonicalForms.html#r:39"><span class="id" title="variable">r</span></a> <span class="id" title="notation">=</span> <a class="idref" href="CanonicalForms.html#r':40"><span class="id" title="variable">r'</span></a> <span class="id" title="notation">∨</span> <a class="idref" href="CanonicalForms.html#G1:41"><span class="id" title="variable">G1</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#r:39"><span class="id" title="variable">r</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="CanonicalForms.html#r':40"><span class="id" title="variable">r'</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∧</span> <span class="id" title="notation">(</span><a class="idref" href="CanonicalForms.html#q:38"><span class="id" title="variable">q</span></a> <span class="id" title="notation">=</span> <a class="idref" href="CanonicalForms.html#r':40"><span class="id" title="variable">r'</span></a> <span class="id" title="notation">∨</span> <a class="idref" href="CanonicalForms.html#G1:41"><span class="id" title="variable">G1</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#q:38"><span class="id" title="variable">q</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="CanonicalForms.html#r':40"><span class="id" title="variable">r'</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a><span class="id" title="notation">)</span><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span>. <span class="id" title="var">gen</span> <span class="id" title="var">p</span> <span class="id" title="var">px</span> <span class="id" title="var">pbs</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;induction&nbsp;on&nbsp;well-formedness&nbsp;**)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hwt</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">Case</span> "G is empty"%<span class="id" title="var">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span>× <a class="idref" href="Lookup.html#lookup_empty"><span class="id" title="lemma">lookup_empty</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">Case</span> "G is not empty"%<span class="id" title="var">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Binding.html#typed_paths_named"><span class="id" title="lemma">typed_paths_named</span></a> (<a class="idref" href="PreciseFlow.html#precise_to_general"><span class="id" title="lemma">precise_to_general</span></a> <span class="id" title="var">Hp</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">px'</span> [<span class="id" title="var">bs</span> -&gt;]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="lemma">classicT</span> (<span class="id" title="var">x</span> <span class="id" title="notation">=</span> <span class="id" title="var">px'</span>)) <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hn</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">SCase</span> "x = px"%<span class="id" title="var">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;induction&nbsp;on&nbsp;⟦⤳⟧&nbsp;**)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gen</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span> <span class="id" title="var">T0</span> <span class="id" title="var">px</span> <span class="id" title="var">pbs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hs</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hv</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Hp</span>; <span class="id" title="var">introv</span> [= → &lt;-];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">simpl_dot</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Binding.html#proj_rewrite"><span class="id" title="lemma">proj_rewrite</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">SSCase</span> "lookup_var"%<span class="id" title="var">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">binds_push_eq_inv</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hb</span>: (<a class="idref" href="PreciseFlow.html#pf_binds"><span class="id" title="lemma">pf_binds</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp</span>). <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="lemma">binds_push_eq_inv</span> <span class="id" title="var">Hb</span>) <span class="id" title="keyword">as</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PreciseFlow.html#binds_inert"><span class="id" title="lemma">binds_inert</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hb</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">r0</span> <span class="id" title="var">A</span> <span class="id" title="var">S</span> <span class="id" title="var">ds</span> | <span class="id" title="var">S</span> <span class="id" title="var">u</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="comment">(*&nbsp;v&nbsp;is&nbsp;an&nbsp;object&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hi'</span>: (<a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a> <span class="id" title="var">Hi</span>). <span class="id" title="var">lets</span> <span class="id" title="var">Hwf'</span>: (<a class="idref" href="PreciseTyping.html#wf_prefix"><span class="id" title="lemma">wf_prefix</span></a> <span class="id" title="var">Hwf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">Hb</span>; <span class="id" title="var">proof_recipe</span>. { <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvpr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">Hv</span>. <span class="id" title="var">pick_fresh</span> <span class="id" title="var">z</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">z</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hz</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H5</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hz</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_empty_r</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">apply</span> <a class="idref" href="Binding.html#open_env_last_defs"><span class="id" title="lemma">open_env_last_defs</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Narrowing.html#narrow_defs"><span class="id" title="lemma">narrow_defs</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">G</span>:=<span class="id" title="var">G</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">px</span> <span class="id" title="notation">~</span> <a class="idref" href="Definitions.html#open_typ"><span class="id" title="definition">open_typ</span></a> <span class="id" title="var">px</span> <span class="id" title="var">U''</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Definitions.html#open_defs_p"><span class="id" title="definition">open_defs_p</span></a> (<a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <span class="id" title="var">px</span>) <span class="id" title="constructor">nil</span>) <span class="id" title="var">ds</span> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#open_defs"><span class="id" title="definition">open_defs</span></a> <span class="id" title="var">px</span> <span class="id" title="var">ds</span>) <span class="id" title="keyword">as</span> → <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span>× <a class="idref" href="Binding.html#open_var_defs_eq"><span class="id" title="lemma">open_var_defs_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Definitions.html#open_typ_p"><span class="id" title="definition">open_typ_p</span></a> (<a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <span class="id" title="var">px</span>) <span class="id" title="constructor">nil</span>) <span class="id" title="var">U''</span> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#open_typ"><span class="id" title="definition">open_typ</span></a> <span class="id" title="var">px</span> <span class="id" title="var">U''</span>) <span class="id" title="keyword">as</span> → <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span>× <a class="idref" href="Binding.html#open_var_typ_eq"><span class="id" title="lemma">open_var_typ_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substitution.html#rename_defs"><span class="id" title="lemma">rename_defs</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> := <span class="id" title="var">z</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Subenvironments.html#subenv_last"><span class="id" title="lemma">subenv_last</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="PreciseTyping.html#repl_composition_open"><span class="id" title="lemma">repl_composition_open</span></a> (<a class="idref" href="Definitions.html#pvar"><span class="id" title="abbreviation">pvar</span></a> <span class="id" title="var">px</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hrc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="PreciseTyping.html#repl_composition_open"><span class="id" title="lemma">repl_composition_open</span></a> (<a class="idref" href="Definitions.html#pvar"><span class="id" title="abbreviation">pvar</span></a> <span class="id" title="var">px</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hrc'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Definitions.html#subtyp_trans"><span class="id" title="constructor">subtyp_trans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">T</span>:=<a class="idref" href="Definitions.html#open_typ"><span class="id" title="definition">open_typ</span></a> <span class="id" title="var">px</span> <span class="id" title="var">U'</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="InvertibleTyping.html#repl_composition_sub"><span class="id" title="lemma">repl_composition_sub</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrc'</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="InvertibleTyping.html#repl_composition_sub"><span class="id" title="lemma">repl_composition_sub</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrc</span>; <span class="id" title="var">destruct_all</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Binding.html#open_var_typ_eq"><span class="id" title="lemma">open_var_typ_eq</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">auto</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">apply</span> <a class="idref" href="Binding.html#open_env_last_trm"><span class="id" title="lemma">open_env_last_trm</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Narrowing.html#narrow_typing"><span class="id" title="lemma">narrow_typing</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">G</span>:=<span class="id" title="var">G</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">px</span> <span class="id" title="notation">~</span> <a class="idref" href="Definitions.html#open_typ"><span class="id" title="definition">open_typ</span></a> <span class="id" title="var">px</span> <span class="id" title="var">U''</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;assert&nbsp;(open_defs_p&nbsp;(p_sel&nbsp;(avar_f&nbsp;px)&nbsp;nil)&nbsp;ds&nbsp;=&nbsp;open_defs&nbsp;px&nbsp;ds)&nbsp;as&nbsp;-&gt;&nbsp;by&nbsp;rewrite*&nbsp;open_var_defs_eq.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Definitions.html#open_typ_p"><span class="id" title="definition">open_typ_p</span></a> (<a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <span class="id" title="var">px</span>) <span class="id" title="constructor">nil</span>) (<span class="id" title="var">r0</span> <a class="idref" href="Definitions.html#56a240108deb0dfbaeb49e48db859cf7"><span class="id" title="notation">↓</span></a> <span class="id" title="var">A</span>) <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#open_typ"><span class="id" title="definition">open_typ</span></a> <span class="id" title="var">px</span> (<span class="id" title="var">r0</span> <a class="idref" href="Definitions.html#56a240108deb0dfbaeb49e48db859cf7"><span class="id" title="notation">↓</span></a> <span class="id" title="var">A</span>)) <span class="id" title="keyword">as</span> → <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span>× <a class="idref" href="Binding.html#open_var_typ_eq"><span class="id" title="lemma">open_var_typ_eq</span></a>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">z</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hz</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H9</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Substitution.html#rename_trms"><span class="id" title="lemma">rename_trms</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> := <span class="id" title="var">z</span>); <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Subenvironments.html#subenv_last"><span class="id" title="lemma">subenv_last</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="PreciseTyping.html#repl_composition_open"><span class="id" title="lemma">repl_composition_open</span></a> (<a class="idref" href="Definitions.html#pvar"><span class="id" title="abbreviation">pvar</span></a> <span class="id" title="var">px</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hrc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="PreciseTyping.html#repl_composition_open"><span class="id" title="lemma">repl_composition_open</span></a> (<a class="idref" href="Definitions.html#pvar"><span class="id" title="abbreviation">pvar</span></a> <span class="id" title="var">px</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hrc'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Definitions.html#subtyp_trans"><span class="id" title="constructor">subtyp_trans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">T</span>:=<a class="idref" href="Definitions.html#open_typ"><span class="id" title="definition">open_typ</span></a> <span class="id" title="var">px</span> <span class="id" title="var">U'</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="InvertibleTyping.html#repl_composition_sub"><span class="id" title="lemma">repl_composition_sub</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrc'</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="InvertibleTyping.html#repl_composition_sub"><span class="id" title="lemma">repl_composition_sub</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrc</span>; <span class="id" title="var">destruct_all</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Binding.html#open_var_typ_eq"><span class="id" title="lemma">open_var_typ_eq</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">auto</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="comment">(*&nbsp;v&nbsp;is&nbsp;a&nbsp;function&nbsp;*)</span> <span class="id" title="tactic">left</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="Weakening.html#weaken_ty_trm"><span class="id" title="lemma">weaken_ty_trm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">SSCase</span> "lookup_sel_p"%<span class="id" title="var">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="PreciseFlow.html#pf_path_sel"><span class="id" title="lemma">pf_path_sel</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">V</span> <span class="id" title="var">Hp'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">IHHwt</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">H</span> <span class="id" title="constructor">JMeq_refl</span> <span class="id" title="constructor">eq_refl</span> <span class="id" title="var">_</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hv</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hp'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="constructor">eq_refl</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[? [? [[=] ?]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[? [? [? [? [? [? [? [? [? [[=]]]]]]]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[? [? [? [? [? [? [[= -&gt;] [[=] ?]]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">SSCase</span> "lookup_sel_v"%<span class="id" title="var">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="PreciseFlow.html#pf_path_sel"><span class="id" title="lemma">pf_path_sel</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">V</span> <span class="id" title="var">Hp'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">IHHwt</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">H</span> <span class="id" title="constructor">JMeq_refl</span> <span class="id" title="constructor">eq_refl</span> <span class="id" title="var">_</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hv</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hp'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="constructor">eq_refl</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[? [? [[=] ?]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[<span class="id" title="var">S</span> [<span class="id" title="var">ds'</span> [<span class="id" title="var">W</span> [<span class="id" title="var">T''</span> [<span class="id" title="var">r0</span> [<span class="id" title="var">A0</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [[= → -&gt;] [[= -&gt;] [<span class="id" title="var">Heq</span> [<span class="id" title="var">Hds</span> [<span class="id" title="var">Htag</span> <span class="id" title="var">Hrc</span>]]]]]]]]]]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[? [? [? [? [? [? [[= -&gt;] [-&gt; [[= -&gt;] ?]]]]]]]]]]]. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">H'</span>: (<a class="idref" href="RecordAndInertTypes.html#defs_has_open"><span class="id" title="lemma">defs_has_open</span></a> (<a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <span class="id" title="var">px</span>) <span class="id" title="var">f</span>) <span class="id" title="var">H1</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hr</span>: (<a class="idref" href="PreciseFlow.html#pf_record_has_U"><span class="id" title="lemma">pf_record_has_U</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>, <span class="id" title="var">Hwf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#repl_comp_trans_open"><span class="id" title="lemma">repl_comp_trans_open</span></a> (<a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <span class="id" title="var">px</span>) <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a> (<a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a> <span class="id" title="var">Hi</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hrc</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hrc_op</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#repl_comp_trans_record_has"><span class="id" title="lemma">repl_comp_trans_record_has</span></a> <span class="id" title="var">Hrc_op</span> <span class="id" title="var">Hr</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">V</span> [<span class="id" title="var">W'</span> [<span class="id" title="var">Hrh</span> [<span class="id" title="var">Hrc1'</span> <span class="id" title="var">Hrc2'</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">concat_empty_r</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">G2</span> <span class="id" title="notation">=</span> <span class="id" title="axiom">empty</span>) <span class="id" title="keyword">as</span> →. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Binding.html#env_ok_inv"><span class="id" title="lemma">env_ok_inv</span></a>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_empty_r</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heq</span>, <span class="id" title="lemma">concat_empty_r</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_empty_r</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">eq_push_inv</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [&lt;- &lt;-]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">G</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">px</span> <span class="id" title="notation">~</span> <span class="id" title="var">T0</span> <a class="idref" href="Definitions.html#d77433d9a5f06bee50380b6ca9a3f271"><span class="id" title="notation">⊢</span></a> <span class="id" title="var">V</span> <a class="idref" href="Definitions.html#d77433d9a5f06bee50380b6ca9a3f271"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">T1</span> <span class="id" title="notation">∧</span> <span class="id" title="var">G</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">px</span> <span class="id" title="notation">~</span> <span class="id" title="var">T0</span> <a class="idref" href="Definitions.html#d77433d9a5f06bee50380b6ca9a3f271"><span class="id" title="notation">⊢</span></a> <span class="id" title="var">T1</span> <a class="idref" href="Definitions.html#d77433d9a5f06bee50380b6ca9a3f271"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">V</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">HVT</span> <span class="id" title="var">HTV</span>]. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="InvertibleTyping.html#repl_composition_sub"><span class="id" title="lemma">repl_composition_sub</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrc2'</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="InvertibleTyping.html#repl_composition_sub"><span class="id" title="lemma">repl_composition_sub</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrc1'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Weakening.html#weaken_subtyp"><span class="id" title="lemma">weaken_subtyp</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heq</span>: <a class="idref" href="Definitions.html#open_def_p"><span class="id" title="definition">open_def_p</span></a> (<a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <span class="id" title="var">px</span>) <span class="id" title="var">f</span>) <a class="idref" href="Definitions.html#5c1231770009cbe12d8b89eaf73bf800"><span class="id" title="notation">{</span></a><span class="id" title="var">a</span> <a class="idref" href="Definitions.html#5c1231770009cbe12d8b89eaf73bf800"><span class="id" title="notation">:=</span></a> <span class="id" title="var">t</span><a class="idref" href="Definitions.html#5c1231770009cbe12d8b89eaf73bf800"><span class="id" title="notation">}</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#5c1231770009cbe12d8b89eaf73bf800"><span class="id" title="notation">{</span></a><span class="id" title="var">a</span> <a class="idref" href="Definitions.html#5c1231770009cbe12d8b89eaf73bf800"><span class="id" title="notation">:=</span></a> <a class="idref" href="Definitions.html#open_rec_defrhs_p"><span class="id" title="definition">open_rec_defrhs_p</span></a> 0 (<a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <span class="id" title="var">px</span>) <span class="id" title="var">f</span>) <span class="id" title="var">t</span><a class="idref" href="Definitions.html#5c1231770009cbe12d8b89eaf73bf800"><span class="id" title="notation">}</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CanonicalForms.html#object_typing"><span class="id" title="lemma">object_typing</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hds</span> <span class="id" title="var">H'</span> <span class="id" title="var">Hrh</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">U'</span> [<span class="id" title="var">u</span> [<span class="id" title="var">Heq</span> <span class="id" title="var">Ht'</span>]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[<span class="id" title="var">r'</span> [<span class="id" title="var">A</span> [<span class="id" title="var">U'</span> [<span class="id" title="var">ds''</span> [<span class="id" title="var">Heq</span> [<span class="id" title="var">Hds''</span> [<span class="id" title="var">Hr'</span> -&gt;]]]]]]] | [<span class="id" title="var">q</span> [<span class="id" title="var">V'</span> [<span class="id" title="var">Heq1</span> [-&gt; <span class="id" title="var">Hq</span>]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>; <span class="id" title="var">inversions</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">v0</span>; <span class="id" title="var">inversions</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span> <span class="id" title="keyword">as</span> [|]; <span class="id" title="var">inversions</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">v0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">X</span> <span class="id" title="var">ds</span> |]; <span class="id" title="var">inversions</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">fold</span> <a class="idref" href="Definitions.html#open_rec_defs_p"><span class="id" title="definition">open_rec_defs_p</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hds''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#repl_comp_bnd_inv1"><span class="id" title="lemma">repl_comp_bnd_inv1</span></a> <span class="id" title="var">Hrc1'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Y</span> -&gt;]. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#repl_comp_bnd_inv2"><span class="id" title="lemma">repl_comp_bnd_inv2</span></a> <span class="id" title="var">Hrc2'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Z</span> -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">apply</span> <a class="idref" href="PreciseTyping.html#repl_comp_bnd'"><span class="id" title="lemma">repl_comp_bnd'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrc1'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_empty_r</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">apply</span> <a class="idref" href="PreciseTyping.html#repl_comp_bnd'"><span class="id" title="lemma">repl_comp_bnd'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrc1'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hrc1'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#repl_comp_bnd'"><span class="id" title="lemma">repl_comp_bnd'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>; <span class="id" title="var">inversions</span> <span class="id" title="var">Heq1</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#repl_comp_sngl_inv1"><span class="id" title="lemma">repl_comp_sngl_inv1</span></a> <span class="id" title="var">Hrc1'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">r</span> -&gt;]. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#repl_comp_sngl_inv2"><span class="id" title="lemma">repl_comp_sngl_inv2</span></a> <span class="id" title="var">Hrc2'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">r'</span> -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseFlow.html#pf_sngl_U"><span class="id" title="lemma">pf_sngl_U</span></a> <span class="id" title="var">Hp</span>) <span class="id" title="keyword">as</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#sngl_typed"><span class="id" title="lemma">sngl_typed</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hp</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">V</span> <span class="id" title="var">Hr'</span>%<a class="idref" href="PreciseTyping.html#pt3"><span class="id" title="constructor">pt3</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="GeneralToTight.html#pt3_exists"><span class="id" title="lemma">pt3_exists</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hq</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">V''</span> <span class="id" title="var">Hp3</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#repl_comp_to_prec'"><span class="id" title="lemma">repl_comp_to_prec'</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hrc2'</span> <span class="id" title="var">Hr'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hpr</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#repl_comp_to_prec'"><span class="id" title="lemma">repl_comp_to_prec'</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hrc1'</span> <span class="id" title="var">Hp3</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [&lt;- | <span class="id" title="var">Hpr'</span>]; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hrc1'</span> <span class="id" title="var">Hrc2'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_empty_r</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">SCase</span> "x &lt;&gt; x0"%<span class="id" title="var">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PreciseFlow.html#pf_strengthen"><span class="id" title="lemma">pf_strengthen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Lookup.html#lookup_strengthen_one"><span class="id" title="lemma">lookup_strengthen_one</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inversions</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHwt</span> (<a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a> <span class="id" title="var">Hi</span>) (<a class="idref" href="PreciseTyping.html#wf_prefix"><span class="id" title="lemma">wf_prefix</span></a> <span class="id" title="var">Hwf</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hp</span> <span class="id" title="constructor">eq_refl</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[? [? [[= -&gt;]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[? [? [? [? [? [? [? [? [? [-&gt; [-&gt; [-&gt; [<span class="id" title="var">Hds</span> [<span class="id" title="var">Hr0</span> [? ?]]]]]]]]]]]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[? [? [? [? [? [? [[= -&gt;] [[= -&gt;] [-&gt; [? ?]]]]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="Weakening.html#weaken_ty_trm"><span class="id" title="lemma">weaken_ty_trm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_assoc</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="Weakening.html#weaken_ty_defs"><span class="id" title="lemma">weaken_ty_defs</span></a>. <span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="Weakening.html#weaken_ty_trm"><span class="id" title="lemma">weaken_ty_trm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_assoc</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">all</span>: <span class="id" title="var">solve_ex_typ_L</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><span class="id" title="var">p</span></span> looks up to <span class="inlinecode"><span class="id" title="var">t</span></span> in a value environment and <span class="inlinecode"><span class="id" title="var">p</span></span>'s II-level precise type
    is <span class="inlinecode"><span class="id" title="var">T</span></span>, then either <span class="inlinecode"><span class="id" title="var">t</span></span> is
<ul class="doclist">
<li> a function that has type <span class="inlinecode"><span class="id" title="var">T</span></span>, and <span class="inlinecode"><span class="id" title="var">T</span></span> is <span class="inlinecode"><span class="id" title="var">p</span></span>'s precise type,

</li>
<li> an object <span class="inlinecode"><span class="id" title="var">ν</span>(<span class="id" title="var">S</span>)<span class="id" title="var">ds</span></span> that has type <span class="inlinecode"><span class="id" title="var">μ</span>(<span class="id" title="var">S</span>)</span>, and <span class="inlinecode"><span class="id" title="var">T</span></span> and <span class="inlinecode"><span class="id" title="var">μ</span>(<span class="id" title="var">s</span>)</span> are equivalent, or

</li>
<li> a well-typed path <span class="inlinecode"><span class="id" title="var">q</span></span>, and <span class="inlinecode"><span class="id" title="var">T</span></span> is equivalent to <span class="inlinecode"><span class="id" title="var">q.type</span></span> 

</li>
</ul>
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="lookup_step_preservation_prec2" class="idref" href="#lookup_step_preservation_prec2"><span class="id" title="lemma">lookup_step_preservation_prec2</span></a> <a id="G:44" class="idref" href="#G:44"><span class="id" title="binder">G</span></a> <a id="3ae2575469228ed526a4ee65423a21f3" class="idref" href="#3ae2575469228ed526a4ee65423a21f3"><span class="id" title="binder">γ</span></a> <a id="p:46" class="idref" href="#p:46"><span class="id" title="binder">p</span></a> <a id="px:47" class="idref" href="#px:47"><span class="id" title="binder">px</span></a> <a id="pbs:48" class="idref" href="#pbs:48"><span class="id" title="binder">pbs</span></a> <a id="t:49" class="idref" href="#t:49"><span class="id" title="binder">t</span></a> <a id="T:50" class="idref" href="#T:50"><span class="id" title="binder">T</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:44"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:44"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#3ae2575469228ed526a4ee65423a21f3"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:44"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#3ae2575469228ed526a4ee65423a21f3"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟦</span></a> <a class="idref" href="CanonicalForms.html#p:46"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⤳</span></a> <a class="idref" href="CanonicalForms.html#t:49"><span class="id" title="variable">t</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟧</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:44"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#eb1918df832a03c95bc5e667bbcce5b5"><span class="id" title="notation">⊢!!</span></a> <a class="idref" href="CanonicalForms.html#p:46"><span class="id" title="variable">p</span></a> <a class="idref" href="PreciseTyping.html#eb1918df832a03c95bc5e667bbcce5b5"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#T:50"><span class="id" title="variable">T</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#p:46"><span class="id" title="variable">p</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="CanonicalForms.html#px:47"><span class="id" title="variable">px</span></a>) <a class="idref" href="CanonicalForms.html#pbs:48"><span class="id" title="variable">pbs</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">∃</span> <a id="S:51" class="idref" href="#S:51"><span class="id" title="binder">S</span></a> <a id="U:52" class="idref" href="#U:52"><span class="id" title="binder">U</span></a> <a id="u:53" class="idref" href="#u:53"><span class="id" title="binder">u</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#t:49"><span class="id" title="variable">t</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#defv"><span class="id" title="constructor">defv</span></a> (<a class="idref" href="Definitions.html#d9cc4b8b9bd644016bdfcf5f8009b5b6"><span class="id" title="notation">λ</span></a><a class="idref" href="Definitions.html#d9cc4b8b9bd644016bdfcf5f8009b5b6"><span class="id" title="notation">(</span></a><a class="idref" href="CanonicalForms.html#S:51"><span class="id" title="variable">S</span></a><a class="idref" href="Definitions.html#d9cc4b8b9bd644016bdfcf5f8009b5b6"><span class="id" title="notation">)</span></a> <a class="idref" href="CanonicalForms.html#u:53"><span class="id" title="variable">u</span></a>) <span class="id" title="notation">∧</span> <a class="idref" href="CanonicalForms.html#G:44"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CanonicalForms.html#deftrm"><span class="id" title="definition">deftrm</span></a> <a class="idref" href="CanonicalForms.html#t:49"><span class="id" title="variable">t</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#U:52"><span class="id" title="variable">U</span></a> <span class="id" title="notation">∧</span> <a class="idref" href="CanonicalForms.html#G:44"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseFlow.html#27d10efae8295170a08832205c915493"><span class="id" title="notation">⊢!</span></a> <a class="idref" href="CanonicalForms.html#p:46"><span class="id" title="variable">p</span></a> <a class="idref" href="PreciseFlow.html#27d10efae8295170a08832205c915493"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#U:52"><span class="id" title="variable">U</span></a> <a class="idref" href="PreciseFlow.html#27d10efae8295170a08832205c915493"><span class="id" title="notation">⪼</span></a> <a class="idref" href="CanonicalForms.html#T:50"><span class="id" title="variable">T</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∨</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">∃</span> <a id="S:54" class="idref" href="#S:54"><span class="id" title="binder">S</span></a> <a id="ds:55" class="idref" href="#ds:55"><span class="id" title="binder">ds</span></a> <a id="W:56" class="idref" href="#W:56"><span class="id" title="binder">W</span></a> <a id="U:57" class="idref" href="#U:57"><span class="id" title="binder">U</span></a> <a id="r0:58" class="idref" href="#r0:58"><span class="id" title="binder">r0</span></a> <a id="A:59" class="idref" href="#A:59"><span class="id" title="binder">A</span></a> <a id="G1:60" class="idref" href="#G1:60"><span class="id" title="binder">G1</span></a> <a id="G2:61" class="idref" href="#G2:61"><span class="id" title="binder">G2</span></a> <a id="pT:62" class="idref" href="#pT:62"><span class="id" title="binder">pT</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#t:49"><span class="id" title="variable">t</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#defv"><span class="id" title="constructor">defv</span></a> (<a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">ν</span></a><a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">[</span></a><a class="idref" href="CanonicalForms.html#r0:58"><span class="id" title="variable">r0</span></a><a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">↘</span></a><a class="idref" href="CanonicalForms.html#A:59"><span class="id" title="variable">A</span></a><a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">](</span></a><a class="idref" href="CanonicalForms.html#S:54"><span class="id" title="variable">S</span></a><a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">)</span></a> <a class="idref" href="CanonicalForms.html#ds:55"><span class="id" title="variable">ds</span></a>) <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:44"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseFlow.html#27d10efae8295170a08832205c915493"><span class="id" title="notation">⊢!</span></a> <a class="idref" href="CanonicalForms.html#p:46"><span class="id" title="variable">p</span></a> <a class="idref" href="PreciseFlow.html#27d10efae8295170a08832205c915493"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#57e8a3f1aebb1c6069654ec2f0cd7a19"><span class="id" title="notation">μ</span></a> <a class="idref" href="CanonicalForms.html#U:57"><span class="id" title="variable">U</span></a> <a class="idref" href="PreciseFlow.html#27d10efae8295170a08832205c915493"><span class="id" title="notation">⪼</span></a> <a class="idref" href="CanonicalForms.html#T:50"><span class="id" title="variable">T</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:44"><span class="id" title="variable">G</span></a> <span class="id" title="notation">=</span> <a class="idref" href="CanonicalForms.html#G1:60"><span class="id" title="variable">G1</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="CanonicalForms.html#px:47"><span class="id" title="variable">px</span></a> <span class="id" title="notation">~</span> <a class="idref" href="CanonicalForms.html#pT:62"><span class="id" title="variable">pT</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="CanonicalForms.html#G2:61"><span class="id" title="variable">G2</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#px:47"><span class="id" title="variable">px</span></a> <a class="idref" href="Definitions.html#ed2865d5b6635aaa6d875cc0fd7c034b"><span class="id" title="notation">;</span></a> <a class="idref" href="CanonicalForms.html#pbs:48"><span class="id" title="variable">pbs</span></a><a class="idref" href="Definitions.html#ed2865d5b6635aaa6d875cc0fd7c034b"><span class="id" title="notation">;</span></a> <a class="idref" href="CanonicalForms.html#G:44"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#ed2865d5b6635aaa6d875cc0fd7c034b"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#open_defs_p"><span class="id" title="definition">open_defs_p</span></a> <a class="idref" href="CanonicalForms.html#p:46"><span class="id" title="variable">p</span></a> <a class="idref" href="CanonicalForms.html#ds:55"><span class="id" title="variable">ds</span></a> <a class="idref" href="Definitions.html#ed2865d5b6635aaa6d875cc0fd7c034b"><span class="id" title="notation">::</span></a> <a class="idref" href="Definitions.html#open_typ_p"><span class="id" title="definition">open_typ_p</span></a> <a class="idref" href="CanonicalForms.html#p:46"><span class="id" title="variable">p</span></a> <a class="idref" href="CanonicalForms.html#S:54"><span class="id" title="variable">S</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:44"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_path"><span class="id" title="constructor">trm_path</span></a> <a class="idref" href="CanonicalForms.html#p:46"><span class="id" title="variable">p</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#open_typ_p"><span class="id" title="definition">open_typ_p</span></a> <a class="idref" href="CanonicalForms.html#p:46"><span class="id" title="variable">p</span></a> (<a class="idref" href="CanonicalForms.html#r0:58"><span class="id" title="variable">r0</span></a> <a class="idref" href="Definitions.html#56a240108deb0dfbaeb49e48db859cf7"><span class="id" title="notation">↓</span></a> <a class="idref" href="CanonicalForms.html#A:59"><span class="id" title="variable">A</span></a>) <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G1:60"><span class="id" title="variable">G1</span></a> <a class="idref" href="PreciseTyping.html#218c7b55c498333123efe7fa512ad9ed"><span class="id" title="notation">⊩</span></a> <a class="idref" href="CanonicalForms.html#S:54"><span class="id" title="variable">S</span></a> <a class="idref" href="PreciseTyping.html#218c7b55c498333123efe7fa512ad9ed"><span class="id" title="notation">⟿</span></a> <a class="idref" href="CanonicalForms.html#W:56"><span class="id" title="variable">W</span></a> <a class="idref" href="PreciseTyping.html#218c7b55c498333123efe7fa512ad9ed"><span class="id" title="notation">⬳</span></a> <a class="idref" href="CanonicalForms.html#U:57"><span class="id" title="variable">U</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∨</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">∃</span> <a id="q:63" class="idref" href="#q:63"><span class="id" title="binder">q</span></a> <a id="r:64" class="idref" href="#r:64"><span class="id" title="binder">r</span></a> <a id="r':65" class="idref" href="#r':65"><span class="id" title="binder">r'</span></a> <a id="G1:66" class="idref" href="#G1:66"><span class="id" title="binder">G1</span></a> <a id="G2:67" class="idref" href="#G2:67"><span class="id" title="binder">G2</span></a> <a id="pT:68" class="idref" href="#pT:68"><span class="id" title="binder">pT</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#t:49"><span class="id" title="variable">t</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#q:63"><span class="id" title="variable">q</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#T:50"><span class="id" title="variable">T</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="CanonicalForms.html#r:64"><span class="id" title="variable">r</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:44"><span class="id" title="variable">G</span></a> <span class="id" title="notation">=</span> <a class="idref" href="CanonicalForms.html#G1:66"><span class="id" title="variable">G1</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="CanonicalForms.html#px:47"><span class="id" title="variable">px</span></a> <span class="id" title="notation">~</span> <a class="idref" href="CanonicalForms.html#pT:68"><span class="id" title="variable">pT</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="CanonicalForms.html#G2:67"><span class="id" title="variable">G2</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="CanonicalForms.html#r:64"><span class="id" title="variable">r</span></a> <span class="id" title="notation">=</span> <a class="idref" href="CanonicalForms.html#r':65"><span class="id" title="variable">r'</span></a> <span class="id" title="notation">∨</span> <a class="idref" href="CanonicalForms.html#G1:66"><span class="id" title="variable">G1</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#r:64"><span class="id" title="variable">r</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="CanonicalForms.html#r':65"><span class="id" title="variable">r'</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∧</span> <span class="id" title="notation">(</span><a class="idref" href="CanonicalForms.html#r':65"><span class="id" title="variable">r'</span></a> <span class="id" title="notation">=</span> <a class="idref" href="CanonicalForms.html#q:63"><span class="id" title="variable">q</span></a> <span class="id" title="notation">∨</span> <a class="idref" href="CanonicalForms.html#G1:66"><span class="id" title="variable">G1</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#q:63"><span class="id" title="variable">q</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="CanonicalForms.html#r':65"><span class="id" title="variable">r'</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a><span class="id" title="notation">)</span><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Heq</span>. <span class="id" title="var">gen</span> <span class="id" title="var">γ</span> <span class="id" title="var">t</span> <span class="id" title="var">px</span> <span class="id" title="var">pbs</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Hwt</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Hs</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="CanonicalForms.html#lookup_step_preservation_prec1"><span class="id" title="lemma">lookup_step_preservation_prec1</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hs</span> <span class="id" title="var">H</span> <span class="id" title="var">Heq</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[? [? [[= -&gt;]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[<span class="id" title="var">S</span> [<span class="id" title="var">ds'</span> [<span class="id" title="var">W</span> [<span class="id" title="var">T''</span> [<span class="id" title="var">r0</span> [<span class="id" title="var">A</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [-&gt; [-&gt; [-&gt; [<span class="id" title="var">Hds</span> [<span class="id" title="var">Htagr0</span> [<span class="id" title="var">Hrc1</span> <span class="id" title="var">Hrc2</span>]]]]]]]]]]]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[? [? [? [? [? [? [-&gt; [-&gt; [-&gt; [? ?]]]]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">left</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">right</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseFlow.html#pf_sngl_U"><span class="id" title="lemma">pf_sngl_U</span></a> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> →. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_all</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">IHHp2</span>. <span class="id" title="var">simpl_dot</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHp1</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">_</span> <span class="id" title="var">Hwt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gen</span> <span class="id" title="var">q</span> <span class="id" title="var">U</span>. <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hs</span>; <span class="id" title="var">simpl_dot</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Hp</span> <span class="id" title="var">IHHp1</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHp1</span> <span class="id" title="var">_</span> <span class="id" title="var">Hs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="constructor">eq_refl</span>) <span class="id" title="keyword">as</span> [[? [? [? [[=] ?]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[? [? [? [? [? [? [? [? [? [[=] ?]]]]]]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">q'</span> [<span class="id" title="var">r</span> [<span class="id" title="var">r'</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [[= &lt;-] [[= -&gt;] [-&gt; [<span class="id" title="var">Hrc1</span> <span class="id" title="var">Hrc2</span>]]]]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">∃</span> (<span class="id" title="var">q</span> <a class="idref" href="Definitions.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <span class="id" title="var">a</span>) (<span class="id" title="var">r</span> <a class="idref" href="Definitions.html#71ca1960dd16f5a2fd2bf72245ca13b9"><span class="id" title="notation">•</span></a> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a> (<a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a> <span class="id" title="var">Hi</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hi'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#wf_prefix"><span class="id" title="lemma">wf_prefix</span></a> (<a class="idref" href="PreciseTyping.html#wf_prefix"><span class="id" title="lemma">wf_prefix</span></a> <span class="id" title="var">Hwf</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hwf'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc1</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hr1</span>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc2</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hr2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_field_elim_p"><span class="id" title="lemma">pt3_field_elim_p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_trans2"><span class="id" title="lemma">pt3_trans2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#sngl_typed3"><span class="id" title="lemma">sngl_typed3</span></a> <span class="id" title="var">Hi'</span> <span class="id" title="var">Hwf'</span> <span class="id" title="var">Hr2</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">T</span> <span class="id" title="var">Ht</span>]%<a class="idref" href="PreciseTyping.html#pt2_exists"><span class="id" title="lemma">pt2_exists</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">concat_assoc</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt2_fld_strengthen"><span class="id" title="lemma">pt2_fld_strengthen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_field_elim_p"><span class="id" title="lemma">pt3_field_elim_p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">concat_assoc</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_fld_strengthen"><span class="id" title="lemma">pt3_fld_strengthen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#field_elim_q3"><span class="id" title="lemma">field_elim_q3</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">concat_assoc</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a> (<a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a> <span class="id" title="var">Hi</span>) <span class="id" title="var">Hr1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hf</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hi</span> <span class="id" title="var">H</span> (<a class="idref" href="PreciseTyping.html#pt3"><span class="id" title="constructor">pt3</span></a> <span class="id" title="var">Hv</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">S</span> <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">rewrite</span>× <span class="id" title="lemma">concat_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_field_elim_p"><span class="id" title="lemma">pt3_field_elim_p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_fld_strengthen"><span class="id" title="lemma">pt3_fld_strengthen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_field_elim_p"><span class="id" title="lemma">pt3_field_elim_p</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_fld_strengthen"><span class="id" title="lemma">pt3_fld_strengthen</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#pt3_trans2"><span class="id" title="lemma">pt3_trans2</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hr2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr1</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Ht</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHp1</span> <span class="id" title="var">_</span> <span class="id" title="var">Hs</span>) <span class="id" title="keyword">as</span> [[? [? [? [[= -&gt;] ?]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[? [? [? [? [? [? [? [? [? [? [[=]%<a class="idref" href="PreciseFlow.html#pf_sngl_T"><span class="id" title="lemma">pf_sngl_T</span></a> [[=] [<span class="id" title="var">HH</span> [<span class="id" title="var">HHH</span> ?]]]]]]]]]]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[? [? [? [? [? [? [[=] ?]]]]]]]]]; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><span class="id" title="var">p</span></span> looks up to <span class="inlinecode"><span class="id" title="var">t</span></span> in a value environment and <span class="inlinecode"><span class="id" title="var">p</span></span>'s III-level precise type
    is an <i>inert</i> type <span class="inlinecode"><span class="id" title="var">T</span></span>, then either <span class="inlinecode"><span class="id" title="var">t</span></span> is
<ul class="doclist">
<li> a function that has type <span class="inlinecode"><span class="id" title="var">T</span></span>,

</li>
<li> an object <span class="inlinecode"><span class="id" title="var">ν</span>(<span class="id" title="var">S</span>)<span class="id" title="var">ds</span></span> that has type <span class="inlinecode"><span class="id" title="var">μ</span>(<span class="id" title="var">S</span>)</span>, and <span class="inlinecode"><span class="id" title="var">T</span></span> and <span class="inlinecode"><span class="id" title="var">μ</span>(<span class="id" title="var">s</span>)</span> are equivalent, or

</li>
<li> a well-typed path <span class="inlinecode"><span class="id" title="var">q</span></span>, and <span class="inlinecode"><span class="id" title="var">q</span></span>'s type is <span class="inlinecode"><span class="id" title="var">T</span></span> 

</li>
</ul>
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="lookup_step_preservation_inert_prec3" class="idref" href="#lookup_step_preservation_inert_prec3"><span class="id" title="lemma">lookup_step_preservation_inert_prec3</span></a>: <span class="id" title="keyword">∀</span> <a id="G:69" class="idref" href="#G:69"><span class="id" title="binder">G</span></a> <a id="d597bdc56aa010d26ce7716eec58aac4" class="idref" href="#d597bdc56aa010d26ce7716eec58aac4"><span class="id" title="binder">γ</span></a> <a id="p:71" class="idref" href="#p:71"><span class="id" title="binder">p</span></a> <a id="T:72" class="idref" href="#T:72"><span class="id" title="binder">T</span></a> <a id="t:73" class="idref" href="#t:73"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:69"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:69"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#d597bdc56aa010d26ce7716eec58aac4"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:69"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#d597bdc56aa010d26ce7716eec58aac4"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟦</span></a> <a class="idref" href="CanonicalForms.html#p:71"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⤳</span></a> <a class="idref" href="CanonicalForms.html#t:73"><span class="id" title="variable">t</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟧</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:69"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#p:71"><span class="id" title="variable">p</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#T:72"><span class="id" title="variable">T</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert_typ"><span class="id" title="inductive">inert_typ</span></a> <a class="idref" href="CanonicalForms.html#T:72"><span class="id" title="variable">T</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">∃</span> <a id="S:74" class="idref" href="#S:74"><span class="id" title="binder">S</span></a> <a id="U:75" class="idref" href="#U:75"><span class="id" title="binder">U</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#T:72"><span class="id" title="variable">T</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">∀(</span></a><a class="idref" href="CanonicalForms.html#S:74"><span class="id" title="variable">S</span></a><a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">)</span></a> <a class="idref" href="CanonicalForms.html#U:75"><span class="id" title="variable">U</span></a> <span class="id" title="notation">∧</span> <a class="idref" href="CanonicalForms.html#G:69"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CanonicalForms.html#deftrm"><span class="id" title="definition">deftrm</span></a> <a class="idref" href="CanonicalForms.html#t:73"><span class="id" title="variable">t</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">∀(</span></a><a class="idref" href="CanonicalForms.html#S:74"><span class="id" title="variable">S</span></a><a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">)</span></a> <a class="idref" href="CanonicalForms.html#U:75"><span class="id" title="variable">U</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∨</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">∃</span> <a id="U:76" class="idref" href="#U:76"><span class="id" title="binder">U</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#T:72"><span class="id" title="variable">T</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#57e8a3f1aebb1c6069654ec2f0cd7a19"><span class="id" title="notation">μ</span></a> <a class="idref" href="CanonicalForms.html#U:76"><span class="id" title="variable">U</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">(</span><span class="id" title="notation">∃</span> <a id="r0:77" class="idref" href="#r0:77"><span class="id" title="binder">r0</span></a> <a id="A:78" class="idref" href="#A:78"><span class="id" title="binder">A</span></a> <a id="S:79" class="idref" href="#S:79"><span class="id" title="binder">S</span></a> <a id="ds:80" class="idref" href="#ds:80"><span class="id" title="binder">ds</span></a> <a id="px:81" class="idref" href="#px:81"><span class="id" title="binder">px</span></a> <a id="pbs:82" class="idref" href="#pbs:82"><span class="id" title="binder">pbs</span></a> <a id="W:83" class="idref" href="#W:83"><span class="id" title="binder">W</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#t:73"><span class="id" title="variable">t</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#defv"><span class="id" title="constructor">defv</span></a> (<a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">ν</span></a><a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">[</span></a><a class="idref" href="CanonicalForms.html#r0:77"><span class="id" title="variable">r0</span></a> <a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">↘</span></a> <a class="idref" href="CanonicalForms.html#A:78"><span class="id" title="variable">A</span></a><a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">](</span></a><a class="idref" href="CanonicalForms.html#S:79"><span class="id" title="variable">S</span></a><a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">)</span></a> <a class="idref" href="CanonicalForms.html#ds:80"><span class="id" title="variable">ds</span></a>) <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#p:71"><span class="id" title="variable">p</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="CanonicalForms.html#px:81"><span class="id" title="variable">px</span></a>) <a class="idref" href="CanonicalForms.html#pbs:82"><span class="id" title="variable">pbs</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#px:81"><span class="id" title="variable">px</span></a><a class="idref" href="Definitions.html#ed2865d5b6635aaa6d875cc0fd7c034b"><span class="id" title="notation">;</span></a> <a class="idref" href="CanonicalForms.html#pbs:82"><span class="id" title="variable">pbs</span></a><a class="idref" href="Definitions.html#ed2865d5b6635aaa6d875cc0fd7c034b"><span class="id" title="notation">;</span></a> <a class="idref" href="CanonicalForms.html#G:69"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#ed2865d5b6635aaa6d875cc0fd7c034b"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#open_defs_p"><span class="id" title="definition">open_defs_p</span></a> <a class="idref" href="CanonicalForms.html#p:71"><span class="id" title="variable">p</span></a> <a class="idref" href="CanonicalForms.html#ds:80"><span class="id" title="variable">ds</span></a> <a class="idref" href="Definitions.html#ed2865d5b6635aaa6d875cc0fd7c034b"><span class="id" title="notation">::</span></a> <a class="idref" href="Definitions.html#open_typ_p"><span class="id" title="definition">open_typ_p</span></a> <a class="idref" href="CanonicalForms.html#p:71"><span class="id" title="variable">p</span></a> <a class="idref" href="CanonicalForms.html#S:79"><span class="id" title="variable">S</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:69"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_path"><span class="id" title="constructor">trm_path</span></a> <a class="idref" href="CanonicalForms.html#p:71"><span class="id" title="variable">p</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#open_typ_p"><span class="id" title="definition">open_typ_p</span></a> <a class="idref" href="CanonicalForms.html#p:71"><span class="id" title="variable">p</span></a> (<a class="idref" href="CanonicalForms.html#r0:77"><span class="id" title="variable">r0</span></a> <a class="idref" href="Definitions.html#56a240108deb0dfbaeb49e48db859cf7"><span class="id" title="notation">↓</span></a> <a class="idref" href="CanonicalForms.html#A:78"><span class="id" title="variable">A</span></a>) <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:69"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#218c7b55c498333123efe7fa512ad9ed"><span class="id" title="notation">⊩</span></a> <a class="idref" href="CanonicalForms.html#S:79"><span class="id" title="variable">S</span></a> <a class="idref" href="PreciseTyping.html#218c7b55c498333123efe7fa512ad9ed"><span class="id" title="notation">⟿</span></a> <a class="idref" href="CanonicalForms.html#W:83"><span class="id" title="variable">W</span></a> <a class="idref" href="PreciseTyping.html#218c7b55c498333123efe7fa512ad9ed"><span class="id" title="notation">⬳</span></a> <a class="idref" href="CanonicalForms.html#U:76"><span class="id" title="variable">U</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∨</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">∃</span> <a id="q:84" class="idref" href="#q:84"><span class="id" title="binder">q</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#t:73"><span class="id" title="variable">t</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#q:84"><span class="id" title="variable">q</span></a> <span class="id" title="notation">∧</span> <a class="idref" href="CanonicalForms.html#G:69"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#q:84"><span class="id" title="variable">q</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#T:72"><span class="id" title="variable">T</span></a><span class="id" title="notation">)</span><span class="id" title="notation">)</span><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">gen</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Binding.html#typed_paths_named"><span class="id" title="lemma">typed_paths_named</span></a> (<a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a> <span class="id" title="var">Hp</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">px</span> [<span class="id" title="var">pbs</span> <span class="id" title="var">Heq</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Check</span> <a class="idref" href="CanonicalForms.html#lookup_step_preservation_prec2"><span class="id" title="lemma">lookup_step_preservation_prec2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hit</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CanonicalForms.html#lookup_step_preservation_prec2"><span class="id" title="lemma">lookup_step_preservation_prec2</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hs</span> <span class="id" title="var">H</span> <span class="id" title="var">Heq</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[<span class="id" title="var">S'</span> [<span class="id" title="var">U</span> [<span class="id" title="var">u</span> [[= -&gt;] [<span class="id" title="var">Hv</span> <span class="id" title="var">Hp'</span>]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[<span class="id" title="var">S'</span> [<span class="id" title="var">ds</span> [<span class="id" title="var">W</span> [<span class="id" title="var">U</span> [<span class="id" title="var">r0</span> [<span class="id" title="var">A</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [[= -&gt;] [<span class="id" title="var">Hp'</span> [-&gt; [<span class="id" title="var">Hds</span> [<span class="id" title="var">Htagr0</span> [<span class="id" title="var">Hrc1</span> <span class="id" title="var">Hrc2</span>]]]]]]]]]]]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">q'</span> [<span class="id" title="var">r</span> [<span class="id" title="var">r'</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [[= -&gt;] [[= -&gt;] [<span class="id" title="var">Heq'</span> [<span class="id" title="var">Hrc1</span> <span class="id" title="var">Hrc2</span>]]]]]]]]]]]]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">inversions</span> <span class="id" title="var">Hit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> (<a class="idref" href="PreciseFlow.html#pf_forall_T"><span class="id" title="lemma">pf_forall_T</span></a> <span class="id" title="var">Hi</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hp'</span> <span class="id" title="keyword">as</span> →. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> (<a class="idref" href="PreciseFlow.html#pf_bnd_T"><span class="id" title="lemma">pf_bnd_T</span></a> <span class="id" title="var">Hi</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hp'</span> <span class="id" title="keyword">as</span> →. <span class="id" title="var">proof_recipe</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="var">inversions</span> <span class="id" title="var">Hit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> (<a class="idref" href="PreciseFlow.html#pf_forall_T"><span class="id" title="lemma">pf_forall_T</span></a> <span class="id" title="var">Hi</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hp'</span> <span class="id" title="keyword">as</span> [=].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> (<a class="idref" href="PreciseFlow.html#pf_bnd_T"><span class="id" title="lemma">pf_bnd_T</span></a> <span class="id" title="var">Hi</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hp'</span> <span class="id" title="keyword">as</span> [= -&gt;]. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>×. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#repl_composition_weaken"><span class="id" title="lemma">repl_composition_weaken</span></a>; <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>; <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hit</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="PreciseFlow.html#pf_sngl_T"><span class="id" title="lemma">pf_sngl_T</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp'</span> <span class="id" title="keyword">as</span> -&gt;; <span class="id" title="tactic">auto</span>. <span class="id" title="var">proof_recipe</span>. <span class="id" title="var">inversions</span> <span class="id" title="var">Hv</span>. <span class="id" title="var">inversions</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="PreciseFlow.html#pf_sngl_T"><span class="id" title="lemma">pf_sngl_T</span></a> <span class="id" title="var">Hi</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hp'</span> <span class="id" title="keyword">as</span> [=].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">IHHp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="notation">∃</span> <a id="V:86" class="idref" href="#V:86"><span class="id" title="binder">V</span></a><span class="id" title="notation">,</span> <span class="id" title="var">G</span> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <span class="id" title="var">q'</span> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#V:85"><span class="id" title="variable">V</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">V</span> <span class="id" title="var">Hq'</span>]. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc1</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hr</span>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc2</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hr'</span>]; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">concat_assoc</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="PreciseTyping.html#sngl_typed3"><span class="id" title="lemma">sngl_typed3</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">S</span> <span class="id" title="var">Ht</span>]. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#wf_prefix"><span class="id" title="lemma">wf_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hok</span>: (<a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a> <span class="id" title="var">Hi</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hok</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc1</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hr</span>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc2</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hr'</span>]; <span class="id" title="var">inversions</span> <span class="id" title="var">Hit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_sngl_trans3"><span class="id" title="lemma">pt3_sngl_trans3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>×. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_sngl_trans3"><span class="id" title="lemma">pt3_sngl_trans3</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#pt3_inert_sngl_invert"><span class="id" title="lemma">pt3_inert_sngl_invert</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hr</span> (<a class="idref" href="Definitions.html#inert_typ_all"><span class="id" title="constructor">inert_typ_all</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hr'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>. <span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>×. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× (<a class="idref" href="PreciseTyping.html#pt3_inert_sngl_invert"><span class="id" title="lemma">pt3_inert_sngl_invert</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#pt3_sngl_trans3"><span class="id" title="lemma">pt3_sngl_trans3</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_inert_sngl_invert"><span class="id" title="lemma">pt3_inert_sngl_invert</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>×. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#pt3_sngl_trans3"><span class="id" title="lemma">pt3_sngl_trans3</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_inert_sngl_invert"><span class="id" title="lemma">pt3_inert_sngl_invert</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><span class="id" title="var">p</span></span> looks up to <span class="inlinecode"><span class="id" title="var">t</span></span> in a value environment and <span class="inlinecode"><span class="id" title="var">p</span></span>'s III-level precise type
    is a function type, then <span class="inlinecode"><span class="id" title="var">t</span></span> has the same function type 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="lookup_step_preservation_prec3_fun" class="idref" href="#lookup_step_preservation_prec3_fun"><span class="id" title="lemma">lookup_step_preservation_prec3_fun</span></a> <a id="G:87" class="idref" href="#G:87"><span class="id" title="binder">G</span></a> <a id="1a27d20c76704df8c08d1cf1e2a581ce" class="idref" href="#1a27d20c76704df8c08d1cf1e2a581ce"><span class="id" title="binder">γ</span></a> <a id="p:89" class="idref" href="#p:89"><span class="id" title="binder">p</span></a> <a id="T:90" class="idref" href="#T:90"><span class="id" title="binder">T</span></a> <a id="S:91" class="idref" href="#S:91"><span class="id" title="binder">S</span></a> <a id="t:92" class="idref" href="#t:92"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:87"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:87"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#1a27d20c76704df8c08d1cf1e2a581ce"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:87"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#1a27d20c76704df8c08d1cf1e2a581ce"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟦</span></a> <a class="idref" href="CanonicalForms.html#p:89"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⤳</span></a> <a class="idref" href="CanonicalForms.html#t:92"><span class="id" title="variable">t</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟧</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:87"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#p:89"><span class="id" title="variable">p</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">∀(</span></a><a class="idref" href="CanonicalForms.html#T:90"><span class="id" title="variable">T</span></a><a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">)</span></a> <a class="idref" href="CanonicalForms.html#S:91"><span class="id" title="variable">S</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:87"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CanonicalForms.html#deftrm"><span class="id" title="definition">deftrm</span></a> <a class="idref" href="CanonicalForms.html#t:92"><span class="id" title="variable">t</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">∀(</span></a><a class="idref" href="CanonicalForms.html#T:90"><span class="id" title="variable">T</span></a><a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">)</span></a> <a class="idref" href="CanonicalForms.html#S:91"><span class="id" title="variable">S</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CanonicalForms.html#lookup_step_preservation_inert_prec3"><span class="id" title="lemma">lookup_step_preservation_inert_prec3</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hp</span>) <span class="id" title="keyword">as</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[? [? [-&gt; <span class="id" title="var">Ht</span>]]] | [? [[=] ?]]]; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="repl_comp_to_sub_qp_step" class="idref" href="#repl_comp_to_sub_qp_step"><span class="id" title="lemma">repl_comp_to_sub_qp_step</span></a> : <span class="id" title="keyword">∀</span> <a id="G:93" class="idref" href="#G:93"><span class="id" title="binder">G</span></a> <a id="S:94" class="idref" href="#S:94"><span class="id" title="binder">S</span></a> <a id="T:95" class="idref" href="#T:95"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#typed_repl_comp_qp"><span class="id" title="definition">typed_repl_comp_qp</span></a> <a class="idref" href="CanonicalForms.html#G:93"><span class="id" title="variable">G</span></a> <a class="idref" href="CanonicalForms.html#S:94"><span class="id" title="variable">S</span></a> <a class="idref" href="CanonicalForms.html#T:95"><span class="id" title="variable">T</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:93"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#d77433d9a5f06bee50380b6ca9a3f271"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CanonicalForms.html#S:94"><span class="id" title="variable">S</span></a> <a class="idref" href="Definitions.html#d77433d9a5f06bee50380b6ca9a3f271"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="CanonicalForms.html#T:95"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hr</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hr</span>. <span class="id" title="var">destruct_all</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Definitions.html#subtyp_sngl_qp"><span class="id" title="constructor">subtyp_sngl_qp</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span>:=<span class="id" title="var">x</span>) (<span class="id" title="var">q</span>:=<span class="id" title="var">x0</span>) (<span class="id" title="var">U</span>:=<span class="id" title="var">x1</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#precise_to_general"><span class="id" title="lemma">precise_to_general</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#precise_to_general2"><span class="id" title="lemma">precise_to_general2</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="repl_comp_to_sub_pq_step" class="idref" href="#repl_comp_to_sub_pq_step"><span class="id" title="lemma">repl_comp_to_sub_pq_step</span></a> : <span class="id" title="keyword">∀</span> <a id="G:96" class="idref" href="#G:96"><span class="id" title="binder">G</span></a> <a id="S:97" class="idref" href="#S:97"><span class="id" title="binder">S</span></a> <a id="T:98" class="idref" href="#T:98"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#typed_repl_comp_qp"><span class="id" title="definition">typed_repl_comp_qp</span></a> <a class="idref" href="CanonicalForms.html#G:96"><span class="id" title="variable">G</span></a> <a class="idref" href="CanonicalForms.html#S:97"><span class="id" title="variable">S</span></a> <a class="idref" href="CanonicalForms.html#T:98"><span class="id" title="variable">T</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:96"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#d77433d9a5f06bee50380b6ca9a3f271"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CanonicalForms.html#T:98"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#d77433d9a5f06bee50380b6ca9a3f271"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="CanonicalForms.html#S:97"><span class="id" title="variable">S</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hr</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hr</span>. <span class="id" title="var">destruct_all</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Definitions.html#subtyp_sngl_pq"><span class="id" title="constructor">subtyp_sngl_pq</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span>:=<span class="id" title="var">x</span>) (<span class="id" title="var">q</span>:=<span class="id" title="var">x0</span>) (<span class="id" title="var">U</span>:=<span class="id" title="var">x1</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#precise_to_general"><span class="id" title="lemma">precise_to_general</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#precise_to_general2"><span class="id" title="lemma">precise_to_general2</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>× <a class="idref" href="Replacement.html#repl_swap"><span class="id" title="lemma">repl_swap</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="repl_comp_to_sub_qp" class="idref" href="#repl_comp_to_sub_qp"><span class="id" title="lemma">repl_comp_to_sub_qp</span></a> : <span class="id" title="keyword">∀</span> <a id="G:99" class="idref" href="#G:99"><span class="id" title="binder">G</span></a> <a id="S:100" class="idref" href="#S:100"><span class="id" title="binder">S</span></a> <a id="T:101" class="idref" href="#T:101"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:99"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#c7ef41c91aa73ea0925fafe08ac00851"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CanonicalForms.html#S:100"><span class="id" title="variable">S</span></a> <a class="idref" href="PreciseTyping.html#c7ef41c91aa73ea0925fafe08ac00851"><span class="id" title="notation">⟿</span></a> <a class="idref" href="CanonicalForms.html#T:101"><span class="id" title="variable">T</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:99"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#d77433d9a5f06bee50380b6ca9a3f271"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CanonicalForms.html#T:101"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#d77433d9a5f06bee50380b6ca9a3f271"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="CanonicalForms.html#S:100"><span class="id" title="variable">S</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hr</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Definitions.html#subtyp_trans"><span class="id" title="constructor">subtyp_trans</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">IHHr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="CanonicalForms.html#repl_comp_to_sub_qp_step"><span class="id" title="lemma">repl_comp_to_sub_qp_step</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="repl_comp_to_sub_pq" class="idref" href="#repl_comp_to_sub_pq"><span class="id" title="lemma">repl_comp_to_sub_pq</span></a> : <span class="id" title="keyword">∀</span> <a id="G:102" class="idref" href="#G:102"><span class="id" title="binder">G</span></a> <a id="S:103" class="idref" href="#S:103"><span class="id" title="binder">S</span></a> <a id="T:104" class="idref" href="#T:104"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:102"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#c7ef41c91aa73ea0925fafe08ac00851"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CanonicalForms.html#S:103"><span class="id" title="variable">S</span></a> <a class="idref" href="PreciseTyping.html#c7ef41c91aa73ea0925fafe08ac00851"><span class="id" title="notation">⟿</span></a> <a class="idref" href="CanonicalForms.html#T:104"><span class="id" title="variable">T</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:102"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#d77433d9a5f06bee50380b6ca9a3f271"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CanonicalForms.html#S:103"><span class="id" title="variable">S</span></a> <a class="idref" href="Definitions.html#d77433d9a5f06bee50380b6ca9a3f271"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="CanonicalForms.html#T:104"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hr</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Definitions.html#subtyp_trans"><span class="id" title="constructor">subtyp_trans</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">IHHr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="CanonicalForms.html#repl_comp_to_sub_pq_step"><span class="id" title="lemma">repl_comp_to_sub_pq_step</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><span class="id" title="var">p</span></span> looks up to <span class="inlinecode"><span class="id" title="var">t</span></span> in a value environment and <span class="inlinecode"><span class="id" title="var">p</span></span>'s III-level precise type
    is a object type, then <span class="inlinecode"><span class="id" title="var">t</span></span> has the same object type 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="lookup_step_preservation_prec3_obj" class="idref" href="#lookup_step_preservation_prec3_obj"><span class="id" title="lemma">lookup_step_preservation_prec3_obj</span></a> <a id="G:105" class="idref" href="#G:105"><span class="id" title="binder">G</span></a> <a id="4c93215c481d04d7a47000fc59c90355" class="idref" href="#4c93215c481d04d7a47000fc59c90355"><span class="id" title="binder">γ</span></a> <a id="p:107" class="idref" href="#p:107"><span class="id" title="binder">p</span></a> <a id="T:108" class="idref" href="#T:108"><span class="id" title="binder">T</span></a> <a id="t:109" class="idref" href="#t:109"><span class="id" title="binder">t</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:105"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:105"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#4c93215c481d04d7a47000fc59c90355"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:105"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#4c93215c481d04d7a47000fc59c90355"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟦</span></a> <a class="idref" href="CanonicalForms.html#p:107"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⤳</span></a> <a class="idref" href="CanonicalForms.html#t:109"><span class="id" title="variable">t</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟧</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:105"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#p:107"><span class="id" title="variable">p</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#57e8a3f1aebb1c6069654ec2f0cd7a19"><span class="id" title="notation">μ</span></a> <a class="idref" href="CanonicalForms.html#T:108"><span class="id" title="variable">T</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">∃</span> <a id="r0:110" class="idref" href="#r0:110"><span class="id" title="binder">r0</span></a> <a id="A:111" class="idref" href="#A:111"><span class="id" title="binder">A</span></a> <a id="S:112" class="idref" href="#S:112"><span class="id" title="binder">S</span></a> <a id="ds:113" class="idref" href="#ds:113"><span class="id" title="binder">ds</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#t:109"><span class="id" title="variable">t</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#defv"><span class="id" title="constructor">defv</span></a> (<a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">ν</span></a><a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">[</span></a><a class="idref" href="CanonicalForms.html#r0:110"><span class="id" title="variable">r0</span></a> <a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">↘</span></a> <a class="idref" href="CanonicalForms.html#A:111"><span class="id" title="variable">A</span></a><a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">](</span></a><a class="idref" href="CanonicalForms.html#S:112"><span class="id" title="variable">S</span></a><a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">)</span></a> <a class="idref" href="CanonicalForms.html#ds:113"><span class="id" title="variable">ds</span></a>) <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:105"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_path"><span class="id" title="constructor">trm_path</span></a> <a class="idref" href="CanonicalForms.html#p:107"><span class="id" title="variable">p</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#open_typ_p"><span class="id" title="definition">open_typ_p</span></a> <a class="idref" href="CanonicalForms.html#p:107"><span class="id" title="variable">p</span></a> (<a class="idref" href="CanonicalForms.html#r0:110"><span class="id" title="variable">r0</span></a> <a class="idref" href="Definitions.html#56a240108deb0dfbaeb49e48db859cf7"><span class="id" title="notation">↓</span></a> <a class="idref" href="CanonicalForms.html#A:111"><span class="id" title="variable">A</span></a>)<span class="id" title="notation">)</span> <span class="id" title="notation">∨</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">∃</span> <a id="q:114" class="idref" href="#q:114"><span class="id" title="binder">q</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#t:109"><span class="id" title="variable">t</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#q:114"><span class="id" title="variable">q</span></a> <span class="id" title="notation">∧</span> <a class="idref" href="CanonicalForms.html#G:105"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#q:114"><span class="id" title="variable">q</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#57e8a3f1aebb1c6069654ec2f0cd7a19"><span class="id" title="notation">μ</span></a> <a class="idref" href="CanonicalForms.html#T:108"><span class="id" title="variable">T</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">H</span>: (<a class="idref" href="CanonicalForms.html#lookup_step_preservation_inert_prec3"><span class="id" title="lemma">lookup_step_preservation_inert_prec3</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hp</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hin</span>: <a class="idref" href="Definitions.html#inert_typ"><span class="id" title="inductive">inert_typ</span></a> (<a class="idref" href="Definitions.html#57e8a3f1aebb1c6069654ec2f0cd7a19"><span class="id" title="notation">μ</span></a> <span class="id" title="var">T</span>)).<br/>
&nbsp;&nbsp;{ <span class="id" title="var">lets</span> <span class="id" title="var">Hsi</span>: (<a class="idref" href="PreciseTyping.html#pt3_inertsngl"><span class="id" title="lemma">pt3_inertsngl</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">Hin</span>). <span class="id" title="var">destruct_all</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
The following two lemmas are needed only for path safety (not for term safety) 
<div class="paragraph"> </div>

 If a well-typed path <span class="inlinecode"><span class="id" title="var">p</span></span> looks up to a path <span class="inlinecode"><span class="id" title="var">q</span></span> then <span class="inlinecode"><span class="id" title="var">q</span></span> is also well-typed. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="lookup_step_pres" class="idref" href="#lookup_step_pres"><span class="id" title="lemma">lookup_step_pres</span></a> <a id="G:115" class="idref" href="#G:115"><span class="id" title="binder">G</span></a> <a id="p:116" class="idref" href="#p:116"><span class="id" title="binder">p</span></a> <a id="T:117" class="idref" href="#T:117"><span class="id" title="binder">T</span></a> <a id="q:118" class="idref" href="#q:118"><span class="id" title="binder">q</span></a> <a id="363e9342fb900062fde30410334abd39" class="idref" href="#363e9342fb900062fde30410334abd39"><span class="id" title="binder">γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:115"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:115"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#363e9342fb900062fde30410334abd39"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:115"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:115"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#p:116"><span class="id" title="variable">p</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#T:117"><span class="id" title="variable">T</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#363e9342fb900062fde30410334abd39"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟦</span></a> <a class="idref" href="CanonicalForms.html#p:116"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⤳</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#q:118"><span class="id" title="variable">q</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟧</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="U:120" class="idref" href="#U:120"><span class="id" title="binder">U</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#G:115"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#q:118"><span class="id" title="variable">q</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#U:120"><span class="id" title="variable">U</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PreciseTyping.html#pt2_exists"><span class="id" title="lemma">pt2_exists</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">U</span> <span class="id" title="var">Hp</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Lookup.html#named_lookup_step"><span class="id" title="lemma">named_lookup_step</span></a> <span class="id" title="var">Hl</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [<span class="id" title="var">bs</span> <span class="id" title="var">Heq</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#lookup_step_preservation_prec2"><span class="id" title="lemma">lookup_step_preservation_prec2</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Heq</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[? [? [? [[=] ?]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[? [? [? [? [? [? [? [? [? [[=] ?]]]]]]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">r'</span> [<span class="id" title="var">r</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [<span class="id" title="var">S</span> [[= -&gt;] [-&gt; [-&gt; [[-&gt; | <span class="id" title="var">Hr</span>] [-&gt; | <span class="id" title="var">Hr'</span>]]]]]]]]]]]]].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="PreciseTyping.html#sngl_typed2"><span class="id" title="lemma">sngl_typed2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">U</span> <span class="id" title="var">Hr</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="lemma">ok_concat_inv_l</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="PreciseTyping.html#sngl_typed3"><span class="id" title="lemma">sngl_typed3</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">U</span> <span class="id" title="var">Hr</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="lemma">ok_concat_inv_l</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="lemma">ok_concat_inv_l</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If a well-typed path <span class="inlinecode"><span class="id" title="var">p</span></span> looks up to a path <span class="inlinecode"><span class="id" title="var">q</span></span> then <span class="inlinecode"><span class="id" title="var">q</span></span> is also well-typed. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="lookup_step_pres_prec2" class="idref" href="#lookup_step_pres_prec2"><span class="id" title="lemma">lookup_step_pres_prec2</span></a> <a id="G:121" class="idref" href="#G:121"><span class="id" title="binder">G</span></a> <a id="p:122" class="idref" href="#p:122"><span class="id" title="binder">p</span></a> <a id="T:123" class="idref" href="#T:123"><span class="id" title="binder">T</span></a> <a id="q:124" class="idref" href="#q:124"><span class="id" title="binder">q</span></a> <a id="ac13c88d81a8b651676851533e38d385" class="idref" href="#ac13c88d81a8b651676851533e38d385"><span class="id" title="binder">γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:121"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:121"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#ac13c88d81a8b651676851533e38d385"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:121"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:121"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#eb1918df832a03c95bc5e667bbcce5b5"><span class="id" title="notation">⊢!!</span></a> <a class="idref" href="CanonicalForms.html#p:122"><span class="id" title="variable">p</span></a> <a class="idref" href="PreciseTyping.html#eb1918df832a03c95bc5e667bbcce5b5"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#T:123"><span class="id" title="variable">T</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#ac13c88d81a8b651676851533e38d385"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟦</span></a> <a class="idref" href="CanonicalForms.html#p:122"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⤳</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#q:124"><span class="id" title="variable">q</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟧</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="U:126" class="idref" href="#U:126"><span class="id" title="binder">U</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#G:121"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#eb1918df832a03c95bc5e667bbcce5b5"><span class="id" title="notation">⊢!!</span></a> <a class="idref" href="CanonicalForms.html#q:124"><span class="id" title="variable">q</span></a> <a class="idref" href="PreciseTyping.html#eb1918df832a03c95bc5e667bbcce5b5"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#U:126"><span class="id" title="variable">U</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hin</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hpt2</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hpt3</span>: (<a class="idref" href="PreciseTyping.html#pt3"><span class="id" title="constructor">pt3</span></a> <span class="id" title="var">Hpt2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hpre3</span>: (<a class="idref" href="CanonicalForms.html#lookup_step_pres"><span class="id" title="lemma">lookup_step_pres</span></a> <span class="id" title="var">Hin</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hpt3</span> <span class="id" title="var">Hl</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpre3</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">U</span> <span class="id" title="var">Hp3</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt2_exists"><span class="id" title="lemma">pt2_exists</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If a well-typed path <span class="inlinecode"><span class="id" title="var">p</span></span> looks up to a path <span class="inlinecode"><span class="id" title="var">q</span></span> in a finite number
    of steps then <span class="inlinecode"><span class="id" title="var">q</span></span> is also well-typed.
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="lookup_pres" class="idref" href="#lookup_pres"><span class="id" title="lemma">lookup_pres</span></a> <a id="G:127" class="idref" href="#G:127"><span class="id" title="binder">G</span></a> <a id="p:128" class="idref" href="#p:128"><span class="id" title="binder">p</span></a> <a id="T:129" class="idref" href="#T:129"><span class="id" title="binder">T</span></a> <a id="q:130" class="idref" href="#q:130"><span class="id" title="binder">q</span></a> <a id="a286dcb26af28c99f7928aa06cc9edaa" class="idref" href="#a286dcb26af28c99f7928aa06cc9edaa"><span class="id" title="binder">γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:127"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:127"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#a286dcb26af28c99f7928aa06cc9edaa"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:127"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:127"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#p:128"><span class="id" title="variable">p</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#T:129"><span class="id" title="variable">T</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#a286dcb26af28c99f7928aa06cc9edaa"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟦</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#p:128"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⤳*</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#q:130"><span class="id" title="variable">q</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟧</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="U:132" class="idref" href="#U:132"><span class="id" title="binder">U</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#G:127"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#q:130"><span class="id" title="variable">q</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#U:132"><span class="id" title="variable">U</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hl</span>. <span class="id" title="var">gen</span> <span class="id" title="var">T</span>. <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hl</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#lookup_step_pres"><span class="id" title="lemma">lookup_step_pres</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">U</span> <span class="id" title="var">Hq</span>]. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Lookup.html#lookup_val_inv"><span class="id" title="lemma">lookup_val_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span> <span class="id" title="keyword">as</span> [=].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If a well-typed path <span class="inlinecode"><span class="id" title="var">p</span></span> looks up to a path <span class="inlinecode"><span class="id" title="var">q</span></span> in a finite number
    of steps then <span class="inlinecode"><span class="id" title="var">q</span></span> is also well-typed.
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="lookup_pres_prec2" class="idref" href="#lookup_pres_prec2"><span class="id" title="lemma">lookup_pres_prec2</span></a> <a id="G:133" class="idref" href="#G:133"><span class="id" title="binder">G</span></a> <a id="p:134" class="idref" href="#p:134"><span class="id" title="binder">p</span></a> <a id="T:135" class="idref" href="#T:135"><span class="id" title="binder">T</span></a> <a id="q:136" class="idref" href="#q:136"><span class="id" title="binder">q</span></a> <a id="c06e56358adb605b00fc1932473294d5" class="idref" href="#c06e56358adb605b00fc1932473294d5"><span class="id" title="binder">γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:133"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:133"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#c06e56358adb605b00fc1932473294d5"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:133"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:133"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#eb1918df832a03c95bc5e667bbcce5b5"><span class="id" title="notation">⊢!!</span></a> <a class="idref" href="CanonicalForms.html#p:134"><span class="id" title="variable">p</span></a> <a class="idref" href="PreciseTyping.html#eb1918df832a03c95bc5e667bbcce5b5"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#T:135"><span class="id" title="variable">T</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#c06e56358adb605b00fc1932473294d5"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟦</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#p:134"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⤳*</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#q:136"><span class="id" title="variable">q</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟧</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="U:138" class="idref" href="#U:138"><span class="id" title="binder">U</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#G:133"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#eb1918df832a03c95bc5e667bbcce5b5"><span class="id" title="notation">⊢!!</span></a> <a class="idref" href="CanonicalForms.html#q:136"><span class="id" title="variable">q</span></a> <a class="idref" href="PreciseTyping.html#eb1918df832a03c95bc5e667bbcce5b5"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#U:138"><span class="id" title="variable">U</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hl</span>. <span class="id" title="var">gen</span> <span class="id" title="var">T</span>. <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hl</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#lookup_step_pres_prec2"><span class="id" title="lemma">lookup_step_pres_prec2</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">U</span> <span class="id" title="var">Hq</span>]. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Lookup.html#lookup_val_inv"><span class="id" title="lemma">lookup_val_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span> <span class="id" title="keyword">as</span> [=].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If a well-typed path <span class="inlinecode"><span class="id" title="var">p</span></span> looks up to a path <span class="inlinecode"><span class="id" title="var">q</span></span> then <span class="inlinecode"><span class="id" title="var">q</span></span> is also well-typed. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="lookup_step_sngl" class="idref" href="#lookup_step_sngl"><span class="id" title="lemma">lookup_step_sngl</span></a> <a id="G:139" class="idref" href="#G:139"><span class="id" title="binder">G</span></a> <a id="p:140" class="idref" href="#p:140"><span class="id" title="binder">p</span></a> <a id="T:141" class="idref" href="#T:141"><span class="id" title="binder">T</span></a> <a id="q:142" class="idref" href="#q:142"><span class="id" title="binder">q</span></a> <a id="93fc82f4f76469c8d7ac12f1413de1af" class="idref" href="#93fc82f4f76469c8d7ac12f1413de1af"><span class="id" title="binder">γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:139"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:139"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#93fc82f4f76469c8d7ac12f1413de1af"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:139"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:139"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#p:140"><span class="id" title="variable">p</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#T:141"><span class="id" title="variable">T</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#93fc82f4f76469c8d7ac12f1413de1af"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟦</span></a> <a class="idref" href="CanonicalForms.html#p:140"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⤳</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#q:142"><span class="id" title="variable">q</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟧</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:139"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_path"><span class="id" title="constructor">trm_path</span></a> <a class="idref" href="CanonicalForms.html#p:140"><span class="id" title="variable">p</span></a><a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="CanonicalForms.html#q:142"><span class="id" title="variable">q</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PreciseTyping.html#pt2_exists"><span class="id" title="lemma">pt2_exists</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">U</span> <span class="id" title="var">Hp</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Lookup.html#named_lookup_step"><span class="id" title="lemma">named_lookup_step</span></a> <span class="id" title="var">Hl</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [<span class="id" title="var">bs</span> <span class="id" title="var">Heq</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CanonicalForms.html#lookup_step_preservation_prec2"><span class="id" title="lemma">lookup_step_preservation_prec2</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Heq</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[<span class="id" title="var">S'</span> [<span class="id" title="var">U0</span> [<span class="id" title="var">u</span> [[= -&gt;] [<span class="id" title="var">Hv</span> <span class="id" title="var">Hp'</span>]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[<span class="id" title="var">S'</span> [<span class="id" title="var">ds</span> [<span class="id" title="var">W</span> [<span class="id" title="var">U0</span> [<span class="id" title="var">r0</span> [<span class="id" title="var">A</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [[= -&gt;] [<span class="id" title="var">Hp'</span> [-&gt; [<span class="id" title="var">Hds</span> [<span class="id" title="var">Htagr0</span> [<span class="id" title="var">Hrc1</span> <span class="id" title="var">Hrc2</span>]]]]]]]]]]]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">q'</span> [<span class="id" title="var">r</span> [<span class="id" title="var">r'</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [[= -&gt;] [[= -&gt;] [<span class="id" title="var">Heq'</span> [<span class="id" title="var">Hrc1</span> <span class="id" title="var">Hrc2</span>]]]]]]]]]]]]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc1</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#precise_to_general2"><span class="id" title="lemma">precise_to_general2</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span> <span class="id" title="var">r</span> <span class="id" title="var">G</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Definitions.html#ty_sub"><span class="id" title="constructor">ty_sub</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">T</span>:=<a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a><span class="id" title="var">r'</span><a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#precise_to_general2"><span class="id" title="lemma">precise_to_general2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hi'</span>: <a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <span class="id" title="var">G1</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hwf'</span>: <a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <span class="id" title="var">G1</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#wf_prefix"><span class="id" title="lemma">wf_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hr</span>: (<a class="idref" href="PreciseTyping.html#sngl_typed3"><span class="id" title="lemma">sngl_typed3</span></a> <span class="id" title="var">Hi'</span> <span class="id" title="var">Hwf'</span> <span class="id" title="var">H0</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">U'</span> <span class="id" title="var">Hr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Definitions.html#subtyp_sngl_qp"><span class="id" title="constructor">subtyp_sngl_qp</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span>:=<span class="id" title="var">q'</span>) (<span class="id" title="var">q</span>:=<span class="id" title="var">r'</span>) (<span class="id" title="var">U</span>:=<span class="id" title="var">U'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="Replacement.html#repl_intro_sngl"><span class="id" title="lemma">repl_intro_sngl</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span> <span class="id" title="var">r'</span> <span class="id" title="var">G</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hq'</span>: <span class="id" title="notation">∃</span> <a id="U:145" class="idref" href="#U:145"><span class="id" title="binder">U</span></a><span class="id" title="notation">,</span> <span class="id" title="var">G1</span> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <span class="id" title="var">q'</span> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#U:144"><span class="id" title="variable">U</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#sngl_typed3"><span class="id" title="lemma">sngl_typed3</span></a>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hq'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">U</span> <span class="id" title="var">Hq'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Definitions.html#ty_sub"><span class="id" title="constructor">ty_sub</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">T</span>:=<a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a><span class="id" title="var">r</span><a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#precise_to_general2"><span class="id" title="lemma">precise_to_general2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="Definitions.html#subtyp_sngl_pq"><span class="id" title="constructor">subtyp_sngl_pq</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span>:=<span class="id" title="var">r</span>) (<span class="id" title="var">q</span>:=<span class="id" title="var">q'</span>) (<span class="id" title="var">U</span>:=<span class="id" title="var">U</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="Replacement.html#repl_intro_sngl"><span class="id" title="lemma">repl_intro_sngl</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span> <span class="id" title="var">G</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hr'</span>: <span class="id" title="notation">∃</span> <a id="U:147" class="idref" href="#U:147"><span class="id" title="binder">U</span></a><span class="id" title="notation">,</span> <span class="id" title="var">G1</span> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <span class="id" title="var">r'</span> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#U:146"><span class="id" title="variable">U</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#sngl_typed3"><span class="id" title="lemma">sngl_typed3</span></a>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hr'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">U</span> <span class="id" title="var">Hr'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Definitions.html#ty_sub"><span class="id" title="constructor">ty_sub</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">T</span>:=<a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a><span class="id" title="var">r</span><a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#precise_to_general2"><span class="id" title="lemma">precise_to_general2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Definitions.html#subtyp_trans"><span class="id" title="constructor">subtyp_trans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">T</span>:=<a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a><span class="id" title="var">r'</span><a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Definitions.html#subtyp_sngl_pq"><span class="id" title="constructor">subtyp_sngl_pq</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span>:=<span class="id" title="var">r</span>) (<span class="id" title="var">q</span>:=<span class="id" title="var">r'</span>) (<span class="id" title="var">U</span>:=<span class="id" title="var">U</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="Replacement.html#repl_intro_sngl"><span class="id" title="lemma">repl_intro_sngl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Definitions.html#subtyp_sngl_qp"><span class="id" title="constructor">subtyp_sngl_qp</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span>:=<span class="id" title="var">q'</span>) (<span class="id" title="var">q</span>:=<span class="id" title="var">r'</span>) (<span class="id" title="var">U</span>:=<span class="id" title="var">U</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="Replacement.html#repl_intro_sngl"><span class="id" title="lemma">repl_intro_sngl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If a well-typed path <span class="inlinecode"><span class="id" title="var">p</span></span> looks up to a path <span class="inlinecode"><span class="id" title="var">q</span></span> then <span class="inlinecode"><span class="id" title="var">q</span></span> is also well-typed. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="lookup_sngl" class="idref" href="#lookup_sngl"><span class="id" title="lemma">lookup_sngl</span></a> <a id="G:148" class="idref" href="#G:148"><span class="id" title="binder">G</span></a> <a id="p:149" class="idref" href="#p:149"><span class="id" title="binder">p</span></a> <a id="T:150" class="idref" href="#T:150"><span class="id" title="binder">T</span></a> <a id="q:151" class="idref" href="#q:151"><span class="id" title="binder">q</span></a> <a id="f80b9ea601bcff2bb771dd5eb4d7fb31" class="idref" href="#f80b9ea601bcff2bb771dd5eb4d7fb31"><span class="id" title="binder">γ</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:148"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:148"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#f80b9ea601bcff2bb771dd5eb4d7fb31"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:148"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:148"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#p:149"><span class="id" title="variable">p</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#T:150"><span class="id" title="variable">T</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#f80b9ea601bcff2bb771dd5eb4d7fb31"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟦</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#p:149"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⤳*</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#q:151"><span class="id" title="variable">q</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟧</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#p:149"><span class="id" title="variable">p</span></a> <span class="id" title="notation">=</span> <a class="idref" href="CanonicalForms.html#q:151"><span class="id" title="variable">q</span></a> <span class="id" title="notation">∨</span> <a class="idref" href="CanonicalForms.html#G:148"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_path"><span class="id" title="constructor">trm_path</span></a> <a class="idref" href="CanonicalForms.html#p:149"><span class="id" title="variable">p</span></a><a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="CanonicalForms.html#q:151"><span class="id" title="variable">q</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hl</span>. <span class="id" title="var">gen</span> <span class="id" title="var">T</span>. <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hl</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hqu</span>: <span class="id" title="notation">∃</span> <a id="U:154" class="idref" href="#U:154"><span class="id" title="binder">U</span></a><span class="id" title="notation">,</span> <span class="id" title="var">G</span> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <span class="id" title="var">p0</span> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#U:153"><span class="id" title="variable">U</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="CanonicalForms.html#lookup_pres"><span class="id" title="lemma">lookup_pres</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hpp0</span>: <span class="id" title="var">G</span> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_path"><span class="id" title="constructor">trm_path</span></a> <span class="id" title="var">p</span> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <span class="id" title="var">p0</span> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="CanonicalForms.html#lookup_step_sngl"><span class="id" title="lemma">lookup_step_sngl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hqu</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">U</span> <span class="id" title="var">Hpu</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hqu</span>: <span class="id" title="notation">∃</span> <a id="U:156" class="idref" href="#U:156"><span class="id" title="binder">U</span></a><span class="id" title="notation">,</span> <span class="id" title="var">G</span> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <span class="id" title="var">q</span> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#U:155"><span class="id" title="variable">U</span></a>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="CanonicalForms.html#lookup_pres"><span class="id" title="lemma">lookup_pres</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hqu</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">U'</span> <span class="id" title="var">Hqu</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHl</span> <span class="id" title="var">p0</span> <span class="id" title="var">q</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="constructor">eq_refl</span> <span class="id" title="constructor">eq_refl</span> <span class="id" title="var">_</span> <span class="id" title="var">Hpu</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Definitions.html#ty_sub"><span class="id" title="constructor">ty_sub</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">exact</span> <span class="id" title="var">Hpp0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="Definitions.html#subtyp_sngl_pq"><span class="id" title="constructor">subtyp_sngl_pq</span></a>. <span class="id" title="tactic">exact</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="Replacement.html#repl_intro_sngl"><span class="id" title="lemma">repl_intro_sngl</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Lookup.html#lookup_val_inv"><span class="id" title="lemma">lookup_val_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subtyp_sngl_pq_repeat" class="idref" href="#subtyp_sngl_pq_repeat"><span class="id" title="lemma">subtyp_sngl_pq_repeat</span></a> : <span class="id" title="keyword">∀</span> <a id="G:157" class="idref" href="#G:157"><span class="id" title="binder">G</span></a> <a id="p:158" class="idref" href="#p:158"><span class="id" title="binder">p</span></a> <a id="q:159" class="idref" href="#q:159"><span class="id" title="binder">q</span></a> <a id="U:160" class="idref" href="#U:160"><span class="id" title="binder">U</span></a> <a id="T:161" class="idref" href="#T:161"><span class="id" title="binder">T</span></a> <a id="T':162" class="idref" href="#T':162"><span class="id" title="binder">T'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:157"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_path"><span class="id" title="constructor">trm_path</span></a> <a class="idref" href="CanonicalForms.html#p:158"><span class="id" title="variable">p</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="CanonicalForms.html#q:159"><span class="id" title="variable">q</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:157"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_path"><span class="id" title="constructor">trm_path</span></a> <a class="idref" href="CanonicalForms.html#q:159"><span class="id" title="variable">q</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#U:160"><span class="id" title="variable">U</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Replacement.html#repl_repeat_typ"><span class="id" title="abbreviation">repl_repeat_typ</span></a> <a class="idref" href="CanonicalForms.html#p:158"><span class="id" title="variable">p</span></a> <a class="idref" href="CanonicalForms.html#q:159"><span class="id" title="variable">q</span></a> <a class="idref" href="CanonicalForms.html#T:161"><span class="id" title="variable">T</span></a> <a class="idref" href="CanonicalForms.html#T':162"><span class="id" title="variable">T'</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:157"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#d77433d9a5f06bee50380b6ca9a3f271"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CanonicalForms.html#T:161"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#d77433d9a5f06bee50380b6ca9a3f271"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="CanonicalForms.html#T':162"><span class="id" title="variable">T'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hpq</span> <span class="id" title="var">Hq</span> <span class="id" title="var">Hrep</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hrep</span>; <span class="id" title="tactic">eauto</span> 2.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Definitions.html#subtyp_trans"><span class="id" title="constructor">subtyp_trans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">T</span>:=<span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>× <a class="idref" href="Definitions.html#subtyp_sngl_pq"><span class="id" title="constructor">subtyp_sngl_pq</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subtyp_sngl_qp_repeat" class="idref" href="#subtyp_sngl_qp_repeat"><span class="id" title="lemma">subtyp_sngl_qp_repeat</span></a> : <span class="id" title="keyword">∀</span> <a id="G:163" class="idref" href="#G:163"><span class="id" title="binder">G</span></a> <a id="p:164" class="idref" href="#p:164"><span class="id" title="binder">p</span></a> <a id="q:165" class="idref" href="#q:165"><span class="id" title="binder">q</span></a> <a id="U:166" class="idref" href="#U:166"><span class="id" title="binder">U</span></a> <a id="T:167" class="idref" href="#T:167"><span class="id" title="binder">T</span></a> <a id="T':168" class="idref" href="#T':168"><span class="id" title="binder">T'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:163"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_path"><span class="id" title="constructor">trm_path</span></a> <a class="idref" href="CanonicalForms.html#p:164"><span class="id" title="variable">p</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="CanonicalForms.html#q:165"><span class="id" title="variable">q</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:163"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_path"><span class="id" title="constructor">trm_path</span></a> <a class="idref" href="CanonicalForms.html#q:165"><span class="id" title="variable">q</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#U:166"><span class="id" title="variable">U</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Replacement.html#repl_repeat_typ"><span class="id" title="abbreviation">repl_repeat_typ</span></a> <a class="idref" href="CanonicalForms.html#q:165"><span class="id" title="variable">q</span></a> <a class="idref" href="CanonicalForms.html#p:164"><span class="id" title="variable">p</span></a> <a class="idref" href="CanonicalForms.html#T:167"><span class="id" title="variable">T</span></a> <a class="idref" href="CanonicalForms.html#T':168"><span class="id" title="variable">T'</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:163"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#d77433d9a5f06bee50380b6ca9a3f271"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CanonicalForms.html#T:167"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#d77433d9a5f06bee50380b6ca9a3f271"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="CanonicalForms.html#T':168"><span class="id" title="variable">T'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hpq</span> <span class="id" title="var">Hq</span> <span class="id" title="var">Hrep</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hrep</span>; <span class="id" title="tactic">eauto</span> 2.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Definitions.html#subtyp_trans"><span class="id" title="constructor">subtyp_trans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">T</span>:=<span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>× <a class="idref" href="Definitions.html#subtyp_sngl_qp"><span class="id" title="constructor">subtyp_sngl_qp</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lookup_preservation_prec2_obj" class="idref" href="#lookup_preservation_prec2_obj"><span class="id" title="lemma">lookup_preservation_prec2_obj</span></a>: <span class="id" title="keyword">∀</span> <a id="G:169" class="idref" href="#G:169"><span class="id" title="binder">G</span></a> <a id="7a87cbfe844bac6ae6b9098dbf9fa92a" class="idref" href="#7a87cbfe844bac6ae6b9098dbf9fa92a"><span class="id" title="binder">γ</span></a> <a id="p:171" class="idref" href="#p:171"><span class="id" title="binder">p</span></a> <a id="T:172" class="idref" href="#T:172"><span class="id" title="binder">T</span></a> <a id="r0:173" class="idref" href="#r0:173"><span class="id" title="binder">r0</span></a> <a id="A:174" class="idref" href="#A:174"><span class="id" title="binder">A</span></a> <a id="S:175" class="idref" href="#S:175"><span class="id" title="binder">S</span></a> <a id="ds:176" class="idref" href="#ds:176"><span class="id" title="binder">ds</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:169"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:169"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#7a87cbfe844bac6ae6b9098dbf9fa92a"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:169"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#7a87cbfe844bac6ae6b9098dbf9fa92a"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟦</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#p:171"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⤳*</span></a> <a class="idref" href="Definitions.html#defv"><span class="id" title="constructor">defv</span></a> (<a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">ν</span></a><a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">[</span></a><a class="idref" href="CanonicalForms.html#r0:173"><span class="id" title="variable">r0</span></a><a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">↘</span></a><a class="idref" href="CanonicalForms.html#A:174"><span class="id" title="variable">A</span></a><a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">](</span></a><a class="idref" href="CanonicalForms.html#S:175"><span class="id" title="variable">S</span></a><a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">)</span></a><a class="idref" href="CanonicalForms.html#ds:176"><span class="id" title="variable">ds</span></a>) <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟧</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:169"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#eb1918df832a03c95bc5e667bbcce5b5"><span class="id" title="notation">⊢!!</span></a> <a class="idref" href="CanonicalForms.html#p:171"><span class="id" title="variable">p</span></a> <a class="idref" href="PreciseTyping.html#eb1918df832a03c95bc5e667bbcce5b5"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#T:172"><span class="id" title="variable">T</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:169"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_path"><span class="id" title="constructor">trm_path</span></a> <a class="idref" href="CanonicalForms.html#p:171"><span class="id" title="variable">p</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#open_typ_p"><span class="id" title="definition">open_typ_p</span></a> <a class="idref" href="CanonicalForms.html#p:171"><span class="id" title="variable">p</span></a> (<a class="idref" href="CanonicalForms.html#r0:173"><span class="id" title="variable">r0</span></a> <a class="idref" href="Definitions.html#56a240108deb0dfbaeb49e48db859cf7"><span class="id" title="notation">↓</span></a> <a class="idref" href="CanonicalForms.html#A:174"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hin</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">gen</span> <span class="id" title="var">T</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hl</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHl</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hin</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="constructor">eq_refl</span> <span class="id" title="constructor">eq_refl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hp0</span>: (<a class="idref" href="CanonicalForms.html#lookup_step_pres_prec2"><span class="id" title="lemma">lookup_step_pres_prec2</span></a> <span class="id" title="var">Hin</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp</span> <span class="id" title="var">H</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hp0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">U</span> <span class="id" title="var">Hp0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHl</span> <span class="id" title="var">_</span> <span class="id" title="var">Hp0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hpp</span>: (<a class="idref" href="PreciseTyping.html#pt3"><span class="id" title="constructor">pt3</span></a> <span class="id" title="var">Hp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hls</span>: (<a class="idref" href="CanonicalForms.html#lookup_step_sngl"><span class="id" title="lemma">lookup_step_sngl</span></a> <span class="id" title="var">Hin</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hpp</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Definitions.html#ty_sngl"><span class="id" title="constructor">ty_sngl</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">q</span> := <span class="id" title="var">p0</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Definitions.html#ty_sub"><span class="id" title="constructor">ty_sub</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">T</span>:=<a class="idref" href="Definitions.html#open_typ_p"><span class="id" title="definition">open_typ_p</span></a> <span class="id" title="var">p0</span> (<span class="id" title="var">r0</span> <a class="idref" href="Definitions.html#56a240108deb0dfbaeb49e48db859cf7"><span class="id" title="notation">↓</span></a> <span class="id" title="var">A</span>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CanonicalForms.html#subtyp_sngl_qp_repeat"><span class="id" title="lemma">subtyp_sngl_qp_repeat</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span> := <span class="id" title="var">p</span>) (<span class="id" title="var">q</span> := <span class="id" title="var">p0</span>) (<span class="id" title="var">U</span> := <span class="id" title="var">U</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#precise_to_general2"><span class="id" title="lemma">precise_to_general2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <a class="idref" href="Replacement.html#repl_comp_open"><span class="id" title="lemma">repl_comp_open</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Lookup.html#lookup_val_inv"><span class="id" title="lemma">lookup_val_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Lookup.html#named_lookup_step"><span class="id" title="lemma">named_lookup_step</span></a> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [<span class="id" title="var">bs</span> <span class="id" title="var">Heq</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Check</span> <a class="idref" href="CanonicalForms.html#lookup_step_preservation_prec2"><span class="id" title="lemma">lookup_step_preservation_prec2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CanonicalForms.html#lookup_step_preservation_prec2"><span class="id" title="lemma">lookup_step_preservation_prec2</span></a> <span class="id" title="var">Hin</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">H</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Heq</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[<span class="id" title="var">S'</span> [<span class="id" title="var">U0</span> [<span class="id" title="var">u</span> [[= -&gt;] [<span class="id" title="var">Hv</span> <span class="id" title="var">Hp'</span>]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[<span class="id" title="var">S'</span> [<span class="id" title="var">ds0</span> [<span class="id" title="var">W</span> [<span class="id" title="var">U0</span> [<span class="id" title="var">r1</span> [<span class="id" title="var">A0</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [[= -&gt;] [<span class="id" title="var">Hp'</span> [-&gt; [<span class="id" title="var">Hds</span> [<span class="id" title="var">Htagr0</span> [<span class="id" title="var">Hrc1</span> <span class="id" title="var">Hrc2</span>]]]]]]]]]]]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">q'</span> [<span class="id" title="var">r</span> [<span class="id" title="var">r'</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [[= -&gt;] [[= -&gt;] [<span class="id" title="var">Heq'</span> [<span class="id" title="var">Hrc1</span> <span class="id" title="var">Hrc2</span>]]]]]]]]]]]]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">A0</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">Htagr0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If a stable term <span class="inlinecode"><span class="id" title="var">t</span></span> has a function type and <span class="inlinecode"><span class="id" title="var">t</span></span> can be looked
    up to <span class="inlinecode"><span class="id" title="var">u</span></span> in a finite number of steps in the value environment,
    then <span class="inlinecode"><span class="id" title="var">u</span></span> has the same function type. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="lookup_preservation_forall" class="idref" href="#lookup_preservation_forall"><span class="id" title="lemma">lookup_preservation_forall</span></a> : <span class="id" title="keyword">∀</span> <a id="G:177" class="idref" href="#G:177"><span class="id" title="binder">G</span></a> <a id="63746e9ae9dd2a610df7c0e78237d0c3" class="idref" href="#63746e9ae9dd2a610df7c0e78237d0c3"><span class="id" title="binder">γ</span></a> <a id="t:179" class="idref" href="#t:179"><span class="id" title="binder">t</span></a> <a id="u:180" class="idref" href="#u:180"><span class="id" title="binder">u</span></a> <a id="T:181" class="idref" href="#T:181"><span class="id" title="binder">T</span></a> <a id="S:182" class="idref" href="#S:182"><span class="id" title="binder">S</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:177"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:177"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#63746e9ae9dd2a610df7c0e78237d0c3"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:177"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#63746e9ae9dd2a610df7c0e78237d0c3"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟦</span></a> <a class="idref" href="CanonicalForms.html#t:179"><span class="id" title="variable">t</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⤳*</span></a> <a class="idref" href="CanonicalForms.html#u:180"><span class="id" title="variable">u</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟧</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:177"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CanonicalForms.html#deftrm"><span class="id" title="definition">deftrm</span></a> <a class="idref" href="CanonicalForms.html#t:179"><span class="id" title="variable">t</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">∀(</span></a><a class="idref" href="CanonicalForms.html#S:182"><span class="id" title="variable">S</span></a><a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">)</span></a> <a class="idref" href="CanonicalForms.html#T:181"><span class="id" title="variable">T</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:177"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CanonicalForms.html#deftrm"><span class="id" title="definition">deftrm</span></a> <a class="idref" href="CanonicalForms.html#u:180"><span class="id" title="variable">u</span></a><a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">∀(</span></a><a class="idref" href="CanonicalForms.html#S:182"><span class="id" title="variable">S</span></a><a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">)</span></a> <a class="idref" href="CanonicalForms.html#T:181"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hp</span>. <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="notation">∃</span> <a id="q:184" class="idref" href="#q:184"><span class="id" title="binder">q</span></a><span class="id" title="notation">,</span> <span class="id" title="var">a</span> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#q:183"><span class="id" title="variable">q</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">q</span> -&gt;] <span class="id" title="tactic">by</span> (<span class="id" title="var">inversions</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">proof_recipe</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#lookup_step_preservation_prec3_fun"><span class="id" title="lemma">lookup_step_preservation_prec3_fun</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">H</span> <span class="id" title="var">Hpr</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Definitions.html#ty_sub"><span class="id" title="constructor">ty_sub</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">T</span>:=<a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">∀(</span></a><span class="id" title="var">Spr</span><a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">)</span></a> <span class="id" title="var">Tpr</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="var">fresh_constructor</span>; <span class="id" title="tactic">apply</span>× <a class="idref" href="TightTyping.html#tight_to_general"><span class="id" title="lemma">tight_to_general</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab81"></a><h2 class="section">Looking up well-typed paths</h2>
 If a path has a precise type then it can be looked up in the value environment 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="typ_to_lookup1" class="idref" href="#typ_to_lookup1"><span class="id" title="lemma">typ_to_lookup1</span></a> <a id="G:185" class="idref" href="#G:185"><span class="id" title="binder">G</span></a> <a id="4b6e8a6167bdf17aee884961ca266dbc" class="idref" href="#4b6e8a6167bdf17aee884961ca266dbc"><span class="id" title="binder">γ</span></a> <a id="p:187" class="idref" href="#p:187"><span class="id" title="binder">p</span></a> <a id="T:188" class="idref" href="#T:188"><span class="id" title="binder">T</span></a> <a id="U:189" class="idref" href="#U:189"><span class="id" title="binder">U</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:185"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:185"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#4b6e8a6167bdf17aee884961ca266dbc"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:185"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:185"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseFlow.html#27d10efae8295170a08832205c915493"><span class="id" title="notation">⊢!</span></a> <a class="idref" href="CanonicalForms.html#p:187"><span class="id" title="variable">p</span></a> <a class="idref" href="PreciseFlow.html#27d10efae8295170a08832205c915493"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#T:188"><span class="id" title="variable">T</span></a> <a class="idref" href="PreciseFlow.html#27d10efae8295170a08832205c915493"><span class="id" title="notation">⪼</span></a> <a class="idref" href="CanonicalForms.html#U:189"><span class="id" title="variable">U</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="t:190" class="idref" href="#t:190"><span class="id" title="binder">t</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#4b6e8a6167bdf17aee884961ca266dbc"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟦</span></a> <a class="idref" href="CanonicalForms.html#p:187"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⤳</span></a> <a class="idref" href="CanonicalForms.html#t:190"><span class="id" title="variable">t</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟧</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">gen</span> <span class="id" title="var">p</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Hwt</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;induction&nbsp;on&nbsp;⟦~⟧&nbsp;**)</span><br/>
&nbsp;&nbsp;- <span class="id" title="var">false</span>. <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span>× <span class="id" title="lemma">binds_empty_inv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Binding.html#typed_paths_named"><span class="id" title="lemma">typed_paths_named</span></a> (<a class="idref" href="PreciseFlow.html#precise_to_general"><span class="id" title="lemma">precise_to_general</span></a> <span class="id" title="var">Hp</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">y</span> [<span class="id" title="var">bs</span> -&gt;]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;later&nbsp;when&nbsp;we&nbsp;figure&nbsp;out&nbsp;how&nbsp;to&nbsp;make&nbsp;env&nbsp;closed&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="lemma">classicT</span> (<span class="id" title="var">x</span> <span class="id" title="notation">=</span> <span class="id" title="var">y</span>)) <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hn</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">SCase</span> "x = y"%<span class="id" title="var">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;induction&nbsp;on&nbsp;⟦⊢!⟧&nbsp;**)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">simpl_dot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="Lookup.html#lookup_var"><span class="id" title="constructor">lookup_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">H</span> <span class="id" title="var">H1</span> <span class="id" title="var">IHHwt</span> <span class="id" title="constructor">JMeq_refl</span> <span class="id" title="constructor">eq_refl</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">t</span> <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseFlow.html#pf_bnd_T2"><span class="id" title="lemma">pf_bnd_T2</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">V</span> -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CanonicalForms.html#lookup_step_preservation_prec1"><span class="id" title="lemma">lookup_step_preservation_prec1</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> (<a class="idref" href="Definitions.html#well_typed_push"><span class="id" title="constructor">well_typed_push</span></a> <span class="id" title="var">Hwt</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>) <span class="id" title="var">Hs</span> <span class="id" title="var">Hp</span> <span class="id" title="constructor">eq_refl</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[<span class="id" title="var">S</span> [<span class="id" title="var">u</span> [-&gt; <span class="id" title="var">Ht</span>]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[<span class="id" title="var">S</span> [<span class="id" title="var">ds'</span> [<span class="id" title="var">W</span> [<span class="id" title="var">T''</span> [<span class="id" title="var">r0</span> [<span class="id" title="var">A</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [-&gt; [[= -&gt;] [<span class="id" title="var">Heq</span> [<span class="id" title="var">Hds</span> [<span class="id" title="var">Htagr0</span> <span class="id" title="var">Hrc</span>]]]]]]]]]]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[? [? [? [? [? [? [? [[=] [? ?]]]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">proof_recipe</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">assert</span> (<span class="id" title="notation">∃</span> <a id="u:192" class="idref" href="#u:192"><span class="id" title="binder">u</span></a><span class="id" title="notation">,</span> <a class="idref" href="Definitions.html#defs_has"><span class="id" title="definition">defs_has</span></a> <span class="id" title="var">ds'</span> <a class="idref" href="Definitions.html#5c1231770009cbe12d8b89eaf73bf800"><span class="id" title="notation">{</span></a><span class="id" title="var">a</span> <a class="idref" href="Definitions.html#5c1231770009cbe12d8b89eaf73bf800"><span class="id" title="notation">:=</span></a> <a class="idref" href="CanonicalForms.html#u:191"><span class="id" title="variable">u</span></a><a class="idref" href="Definitions.html#5c1231770009cbe12d8b89eaf73bf800"><span class="id" title="notation">}</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">u</span> <span class="id" title="var">Hu</span>]. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PreciseFlow.html#pf_record_has_U"><span class="id" title="lemma">pf_record_has_U</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#repl_comp_trans_open"><span class="id" title="lemma">repl_comp_trans_open</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#repl_comp_trans_record_has"><span class="id" title="lemma">repl_comp_trans_record_has</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">V</span> [<span class="id" title="var">X</span> [<span class="id" title="var">Hr</span> <span class="id" title="var">_</span>]]]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Binding.html#record_has_ty_defs"><span class="id" title="lemma">record_has_ty_defs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hds</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">d</span> [<span class="id" title="var">Hdh</span> <span class="id" title="var">Hds</span>]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="RecordAndInertTypes.html#defs_invert_trm"><span class="id" title="lemma">defs_invert_trm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hds</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">t</span> -&gt;]. <span class="id" title="tactic">unfold</span> <a class="idref" href="Definitions.html#defs_has"><span class="id" title="definition">defs_has</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#defs_has_open'"><span class="id" title="lemma">defs_has_open'</span></a>. <span class="id" title="tactic">rewrite</span>  <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>, <span class="id" title="var">Hwf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Binding.html#proj_rewrite"><span class="id" title="lemma">proj_rewrite</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">SCase</span> "x &lt;&gt; y"%<span class="id" title="var">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PreciseFlow.html#pf_strengthen"><span class="id" title="lemma">pf_strengthen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHwt</span> (<a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a> <span class="id" title="var">Hi</span>) (<a class="idref" href="PreciseTyping.html#wf_prefix"><span class="id" title="lemma">wf_prefix</span></a> <span class="id" title="var">Hwf</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hp</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">t</span> <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="Lookup.html#lookup_step_weaken_one"><span class="id" title="lemma">lookup_step_weaken_one</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If a path has a II-level precise type then it can be looked up in the value environment 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="typ_to_lookup2" class="idref" href="#typ_to_lookup2"><span class="id" title="lemma">typ_to_lookup2</span></a> <a id="G:193" class="idref" href="#G:193"><span class="id" title="binder">G</span></a> <a id="8ccf86f024bf8e2488476a43f199acbc" class="idref" href="#8ccf86f024bf8e2488476a43f199acbc"><span class="id" title="binder">γ</span></a> <a id="p:195" class="idref" href="#p:195"><span class="id" title="binder">p</span></a> <a id="T:196" class="idref" href="#T:196"><span class="id" title="binder">T</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:193"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:193"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#8ccf86f024bf8e2488476a43f199acbc"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:193"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:193"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#eb1918df832a03c95bc5e667bbcce5b5"><span class="id" title="notation">⊢!!</span></a> <a class="idref" href="CanonicalForms.html#p:195"><span class="id" title="variable">p</span></a> <a class="idref" href="PreciseTyping.html#eb1918df832a03c95bc5e667bbcce5b5"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#T:196"><span class="id" title="variable">T</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="t:197" class="idref" href="#t:197"><span class="id" title="binder">t</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#8ccf86f024bf8e2488476a43f199acbc"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟦</span></a> <a class="idref" href="CanonicalForms.html#p:195"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⤳</span></a> <a class="idref" href="CanonicalForms.html#t:197"><span class="id" title="variable">t</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟧</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>× <a class="idref" href="CanonicalForms.html#typ_to_lookup1"><span class="id" title="lemma">typ_to_lookup1</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHp1</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">u1</span> <span class="id" title="var">Hs1</span>]. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHp2</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">u2</span> <span class="id" title="var">Hs2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Binding.html#typed_paths_named"><span class="id" title="lemma">typed_paths_named</span></a> (<a class="idref" href="PreciseTyping.html#precise_to_general2"><span class="id" title="lemma">precise_to_general2</span></a> <span class="id" title="var">Hp1</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">px</span> [<span class="id" title="var">pbs</span> -&gt;]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CanonicalForms.html#lookup_step_preservation_prec2"><span class="id" title="lemma">lookup_step_preservation_prec2</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hs1</span> <span class="id" title="var">Hp1</span> <span class="id" title="constructor">eq_refl</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[<span class="id" title="var">S'</span> [<span class="id" title="var">U'</span> [<span class="id" title="var">u</span> [[= -&gt;] [<span class="id" title="var">Hv</span> <span class="id" title="var">Hp'</span>]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[<span class="id" title="var">S'</span> [<span class="id" title="var">ds</span> [<span class="id" title="var">W</span> [<span class="id" title="var">U'</span> [<span class="id" title="var">r0</span> [<span class="id" title="var">A</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [-&gt; [<span class="id" title="var">Hp'</span> [<span class="id" title="var">Heq</span> [<span class="id" title="var">Hds</span> [<span class="id" title="var">Htagr0</span> [<span class="id" title="var">Hrc1</span> <span class="id" title="var">Hrc2</span>]]]]]]]]]]]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[? [? [? [? [? [? [-&gt; [[= -&gt;] ?]]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseFlow.html#pf_sngl_T"><span class="id" title="lemma">pf_sngl_T</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp'</span>) <span class="id" title="keyword">as</span> →. <span class="id" title="var">proof_recipe</span>. <span class="id" title="var">inversions</span> <span class="id" title="var">Hv</span>. <span class="id" title="var">inversions</span> <span class="id" title="var">H</span>. <span class="id" title="var">inversions</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseFlow.html#pf_sngl_T"><span class="id" title="lemma">pf_sngl_T</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp'</span>) <span class="id" title="keyword">as</span> [=].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If a path has a III-level precise type then it can be looked up
    in the value environment 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="typ_to_lookup3" class="idref" href="#typ_to_lookup3"><span class="id" title="lemma">typ_to_lookup3</span></a> <a id="G:198" class="idref" href="#G:198"><span class="id" title="binder">G</span></a> <a id="6b8b897b53825509484043b57ef582cc" class="idref" href="#6b8b897b53825509484043b57ef582cc"><span class="id" title="binder">γ</span></a> <a id="p:200" class="idref" href="#p:200"><span class="id" title="binder">p</span></a> <a id="T:201" class="idref" href="#T:201"><span class="id" title="binder">T</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:198"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:198"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#6b8b897b53825509484043b57ef582cc"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:198"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:198"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a><a class="idref" href="CanonicalForms.html#p:200"><span class="id" title="variable">p</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#T:201"><span class="id" title="variable">T</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="t:202" class="idref" href="#t:202"><span class="id" title="binder">t</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#6b8b897b53825509484043b57ef582cc"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟦</span></a> <a class="idref" href="CanonicalForms.html#p:200"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⤳</span></a> <a class="idref" href="CanonicalForms.html#t:202"><span class="id" title="variable">t</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟧</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">apply</span>× <a class="idref" href="CanonicalForms.html#typ_to_lookup2"><span class="id" title="lemma">typ_to_lookup2</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If a path <span class="inlinecode"><span class="id" title="var">p</span></span>'s environment type is a singleton type <span class="inlinecode"><span class="id" title="var">q.type</span></span>
    then <span class="inlinecode"><span class="id" title="var">p</span></span> can be looked up to a path <span class="inlinecode"><span class="id" title="var">r</span></span> in the value environment,
    and either <span class="inlinecode"><span class="id" title="var">q</span>=<span class="id" title="var">r</span></span>, or there exists a path <span class="inlinecode"><span class="id" title="var">r'</span></span> such that
    both <span class="inlinecode"><span class="id" title="var">r'</span></span> is the III-level precise type of both <span class="inlinecode"><span class="id" title="var">q</span></span> and <span class="inlinecode"><span class="id" title="var">r</span></span>.
    In other words, <span class="inlinecode"><span class="id" title="var">q</span></span> and <span class="inlinecode"><span class="id" title="var">r</span></span> are aliases of the same path <span class="inlinecode"><span class="id" title="var">r'</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="sngl_path_lookup" class="idref" href="#sngl_path_lookup"><span class="id" title="lemma">sngl_path_lookup</span></a> <a id="G:203" class="idref" href="#G:203"><span class="id" title="binder">G</span></a> <a id="4889590388fb4e382e402c3b8e33a3a5" class="idref" href="#4889590388fb4e382e402c3b8e33a3a5"><span class="id" title="binder">γ</span></a> <a id="p:205" class="idref" href="#p:205"><span class="id" title="binder">p</span></a> <a id="q:206" class="idref" href="#q:206"><span class="id" title="binder">q</span></a> <a id="U:207" class="idref" href="#U:207"><span class="id" title="binder">U</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:203"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:203"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#4889590388fb4e382e402c3b8e33a3a5"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:203"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:203"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseFlow.html#27d10efae8295170a08832205c915493"><span class="id" title="notation">⊢!</span></a> <a class="idref" href="CanonicalForms.html#p:205"><span class="id" title="variable">p</span></a> <a class="idref" href="PreciseFlow.html#27d10efae8295170a08832205c915493"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="CanonicalForms.html#q:206"><span class="id" title="variable">q</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a> <a class="idref" href="PreciseFlow.html#27d10efae8295170a08832205c915493"><span class="id" title="notation">⪼</span></a> <a class="idref" href="CanonicalForms.html#U:207"><span class="id" title="variable">U</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="r:208" class="idref" href="#r:208"><span class="id" title="binder">r</span></a> <a id="r':209" class="idref" href="#r':209"><span class="id" title="binder">r'</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#4889590388fb4e382e402c3b8e33a3a5"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟦</span></a> <a class="idref" href="CanonicalForms.html#p:205"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⤳</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#r:208"><span class="id" title="variable">r</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟧</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="CanonicalForms.html#r:208"><span class="id" title="variable">r</span></a> <span class="id" title="notation">=</span> <a class="idref" href="CanonicalForms.html#r':209"><span class="id" title="variable">r'</span></a> <span class="id" title="notation">∨</span> <a class="idref" href="CanonicalForms.html#G:203"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#r:208"><span class="id" title="variable">r</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="CanonicalForms.html#r':209"><span class="id" title="variable">r'</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="CanonicalForms.html#q:206"><span class="id" title="variable">q</span></a> <span class="id" title="notation">=</span> <a class="idref" href="CanonicalForms.html#r':209"><span class="id" title="variable">r'</span></a> <span class="id" title="notation">∨</span> <a class="idref" href="CanonicalForms.html#G:203"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#q:206"><span class="id" title="variable">q</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="CanonicalForms.html#r':209"><span class="id" title="variable">r'</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="CanonicalForms.html#typ_to_lookup1"><span class="id" title="lemma">typ_to_lookup1</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">t</span> <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Binding.html#typed_paths_named"><span class="id" title="lemma">typed_paths_named</span></a> (<a class="idref" href="PreciseFlow.html#precise_to_general"><span class="id" title="lemma">precise_to_general</span></a> <span class="id" title="var">Hp</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">px</span> [<span class="id" title="var">pbs</span> -&gt;]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CanonicalForms.html#lookup_step_preservation_prec1"><span class="id" title="lemma">lookup_step_preservation_prec1</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hp</span> <span class="id" title="constructor">eq_refl</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[<span class="id" title="var">S</span> [<span class="id" title="var">u</span> [-&gt; <span class="id" title="var">Ht</span>]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[<span class="id" title="var">S</span> [<span class="id" title="var">ds'</span> [<span class="id" title="var">W</span> [<span class="id" title="var">T''</span> [<span class="id" title="var">r0</span> [<span class="id" title="var">A</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [-&gt; [[= -&gt;] ?]]]]]]]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[? [? [? [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [-&gt; [[= → ] [-&gt; [<span class="id" title="var">Hrc1</span> <span class="id" title="var">Hrc2</span>]]]]]]]]]]]].<br/>
&nbsp;&nbsp;- <span class="id" title="var">proof_recipe</span>. <span class="id" title="var">inversions</span> <span class="id" title="var">Ht</span>. <span class="id" title="var">inversions</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a> <span class="id" title="var">Hi</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hok</span>%<span class="id" title="lemma">ok_concat_inv_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc1</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hx0</span>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc2</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hrx1</span>]; <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>×. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>×. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">left</span>×. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>×. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><span class="id" title="var">p</span></span> looks up to <span class="inlinecode"><span class="id" title="var">t</span></span> in a value environment and <span class="inlinecode"><span class="id" title="var">p</span></span>'s III-level precise type
    is <span class="inlinecode"><span class="id" title="var">q.type</span></span>, where <span class="inlinecode"><span class="id" title="var">q</span></span>'s environment type is a function type, then
    <span class="inlinecode"><span class="id" title="var">t</span></span> is a path <span class="inlinecode"><span class="id" title="var">r</span></span>, and <span class="inlinecode"><span class="id" title="var">q</span></span> and <span class="inlinecode"><span class="id" title="var">r</span></span> are aliases. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="lookup_step_preservation_sngl_prec3" class="idref" href="#lookup_step_preservation_sngl_prec3"><span class="id" title="lemma">lookup_step_preservation_sngl_prec3</span></a>: <span class="id" title="keyword">∀</span> <a id="G:210" class="idref" href="#G:210"><span class="id" title="binder">G</span></a> <a id="efba63096149916e9de9bf5cbaa3593e" class="idref" href="#efba63096149916e9de9bf5cbaa3593e"><span class="id" title="binder">γ</span></a> <a id="p:212" class="idref" href="#p:212"><span class="id" title="binder">p</span></a> <a id="q:213" class="idref" href="#q:213"><span class="id" title="binder">q</span></a> <a id="t:214" class="idref" href="#t:214"><span class="id" title="binder">t</span></a> <a id="Q1:215" class="idref" href="#Q1:215"><span class="id" title="binder">Q1</span></a> <a id="Q2:216" class="idref" href="#Q2:216"><span class="id" title="binder">Q2</span></a> <a id="Q3:217" class="idref" href="#Q3:217"><span class="id" title="binder">Q3</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:210"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:210"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#efba63096149916e9de9bf5cbaa3593e"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:210"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#efba63096149916e9de9bf5cbaa3593e"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟦</span></a> <a class="idref" href="CanonicalForms.html#p:212"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⤳</span></a> <a class="idref" href="CanonicalForms.html#t:214"><span class="id" title="variable">t</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟧</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:210"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#p:212"><span class="id" title="variable">p</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="CanonicalForms.html#q:213"><span class="id" title="variable">q</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:210"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseFlow.html#27d10efae8295170a08832205c915493"><span class="id" title="notation">⊢!</span></a> <a class="idref" href="CanonicalForms.html#q:213"><span class="id" title="variable">q</span></a> <a class="idref" href="PreciseFlow.html#27d10efae8295170a08832205c915493"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">∀(</span></a><a class="idref" href="CanonicalForms.html#Q1:215"><span class="id" title="variable">Q1</span></a><a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">)</span></a> <a class="idref" href="CanonicalForms.html#Q2:216"><span class="id" title="variable">Q2</span></a> <a class="idref" href="PreciseFlow.html#27d10efae8295170a08832205c915493"><span class="id" title="notation">⪼</span></a> <a class="idref" href="CanonicalForms.html#Q3:217"><span class="id" title="variable">Q3</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="r:218" class="idref" href="#r:218"><span class="id" title="binder">r</span></a> <a id="r':219" class="idref" href="#r':219"><span class="id" title="binder">r'</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#t:214"><span class="id" title="variable">t</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#r:218"><span class="id" title="variable">r</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="CanonicalForms.html#q:213"><span class="id" title="variable">q</span></a> <span class="id" title="notation">=</span> <a class="idref" href="CanonicalForms.html#r':219"><span class="id" title="variable">r'</span></a> <span class="id" title="notation">∨</span> <a class="idref" href="CanonicalForms.html#G:210"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#q:213"><span class="id" title="variable">q</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="CanonicalForms.html#r':219"><span class="id" title="variable">r'</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="CanonicalForms.html#r:218"><span class="id" title="variable">r</span></a> <span class="id" title="notation">=</span> <a class="idref" href="CanonicalForms.html#r':219"><span class="id" title="variable">r'</span></a> <span class="id" title="notation">∨</span> <a class="idref" href="CanonicalForms.html#G:210"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#r:218"><span class="id" title="variable">r</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="CanonicalForms.html#r':219"><span class="id" title="variable">r'</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">gen</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Binding.html#typed_paths_named"><span class="id" title="lemma">typed_paths_named</span></a> (<a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a> <span class="id" title="var">Hp</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">px</span> [<span class="id" title="var">pbs</span> <span class="id" title="var">Heq</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hq</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CanonicalForms.html#lookup_step_preservation_prec2"><span class="id" title="lemma">lookup_step_preservation_prec2</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hs</span> <span class="id" title="var">H</span> <span class="id" title="var">Heq</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[<span class="id" title="var">S'</span> [<span class="id" title="var">U'</span> [<span class="id" title="var">u</span> [[= -&gt;] [<span class="id" title="var">Hv</span> <span class="id" title="var">Hp'</span>]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[<span class="id" title="var">S'</span> [<span class="id" title="var">ds</span> [<span class="id" title="var">W</span> [<span class="id" title="var">U</span> [<span class="id" title="var">r0</span> [<span class="id" title="var">A</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [-&gt; [<span class="id" title="var">Hp'</span> [<span class="id" title="var">Heq'</span> [<span class="id" title="var">Hds</span> [<span class="id" title="var">Htagr0</span> [<span class="id" title="var">Hrc1</span> <span class="id" title="var">Hrc2</span>]]]]]]]]]]]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">q'</span> [<span class="id" title="var">r</span> [<span class="id" title="var">r'</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [-&gt; [[= -&gt;] [-&gt; [<span class="id" title="var">Hrc1</span> <span class="id" title="var">Hrc2</span>]]]]]]]]]]]].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseFlow.html#pf_sngl_T"><span class="id" title="lemma">pf_sngl_T</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp'</span>) <span class="id" title="keyword">as</span> →. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#sngl_path_lookup"><span class="id" title="lemma">sngl_path_lookup</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp'</span>) <span class="id" title="keyword">as</span> [? [? [<span class="id" title="var">Hl</span> ?]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Lookup.html#lookup_step_func"><span class="id" title="lemma">lookup_step_func</span></a> <span class="id" title="var">Hl</span> <span class="id" title="var">Hs</span>) <span class="id" title="keyword">as</span> [=].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseFlow.html#pf_sngl_T"><span class="id" title="lemma">pf_sngl_T</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp'</span>) <span class="id" title="keyword">as</span> [=].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc1</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hrc1</span>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc2</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hrc2</span>]; <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">split</span>*; <span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">left</span>× | <span class="id" title="tactic">right</span> | <span class="id" title="tactic">right</span> | <span class="id" title="tactic">left</span>× | <span class="id" title="tactic">right</span> | <span class="id" title="tactic">right</span> ]; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>; <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseFlow.html#pf_sngl_T"><span class="id" title="lemma">pf_sngl_T</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp'</span>) <span class="id" title="keyword">as</span> →. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#sngl_path_lookup"><span class="id" title="lemma">sngl_path_lookup</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp'</span>) <span class="id" title="keyword">as</span> [? [? [<span class="id" title="var">Hl</span> ?]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Lookup.html#lookup_step_func"><span class="id" title="lemma">lookup_step_func</span></a> <span class="id" title="var">Hl</span> <span class="id" title="var">Hs</span>) <span class="id" title="keyword">as</span> [=].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseFlow.html#pf_sngl_T"><span class="id" title="lemma">pf_sngl_T</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp'</span>) <span class="id" title="keyword">as</span> [=].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#typ_to_lookup3"><span class="id" title="lemma">typ_to_lookup3</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">t</span> <span class="id" title="var">Hl</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Binding.html#typed_paths_named"><span class="id" title="lemma">typed_paths_named</span></a> (<a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a> <span class="id" title="var">Hp</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">rx</span> [<span class="id" title="var">rbs</span> <span class="id" title="var">Heqr</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHp</span> <span class="id" title="var">_</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="constructor">eq_refl</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heqr</span> <span class="id" title="var">_</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hq</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">r1</span> [<span class="id" title="var">r2</span> [-&gt; [[-&gt; | <span class="id" title="var">Hq'</span>] [-&gt; | <span class="id" title="var">Hq''</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc1</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hp'</span>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc2</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hp''</span>]; <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">split</span>. <span class="id" title="tactic">left</span>×. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_sngl_trans3"><span class="id" title="lemma">pt3_sngl_trans3</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">split</span>. <span class="id" title="tactic">left</span>×. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp'</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#pt3_invert"><span class="id" title="lemma">pt3_invert</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hp'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [? | [<span class="id" title="var">r1</span> [[= -&gt;] [-&gt; | ?]]]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span>× <a class="idref" href="PreciseTyping.html#pf_inert_pt3_sngl_false"><span class="id" title="lemma">pf_inert_pt3_sngl_false</span></a>. <span class="id" title="var">all</span>: <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>; <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">split</span>. <span class="id" title="tactic">left</span>×. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>; <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#pt3_invert"><span class="id" title="lemma">pt3_invert</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hp'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [? | [<span class="id" title="var">r1</span> [[= -&gt;] [-&gt; | ?]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_sngl_trans3"><span class="id" title="lemma">pt3_sngl_trans3</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>, <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">right</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>, <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="var">false</span>× <a class="idref" href="PreciseTyping.html#pf_inert_pt3_sngl_false"><span class="id" title="lemma">pf_inert_pt3_sngl_false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc1</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hp'</span>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc2</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hp''</span>]; <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">split</span>. <span class="id" title="tactic">left</span>×. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#pt3_sngl_trans3"><span class="id" title="lemma">pt3_sngl_trans3</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">split</span>. <span class="id" title="tactic">left</span>×. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>; <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#pt3_invert"><span class="id" title="lemma">pt3_invert</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hp'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [? | [<span class="id" title="var">r1'</span> [[= -&gt;] [-&gt; | ?]]]]; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">false</span>× <a class="idref" href="PreciseTyping.html#pf_inert_pt3_sngl_false"><span class="id" title="lemma">pf_inert_pt3_sngl_false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">split</span>. <span class="id" title="tactic">left</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>; <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#pt3_invert"><span class="id" title="lemma">pt3_invert</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hp'</span>) <span class="id" title="keyword">as</span> [? | [<span class="id" title="var">r1'</span> [[= -&gt;] [-&gt; | <span class="id" title="var">HHH</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_sngl_trans3"><span class="id" title="lemma">pt3_sngl_trans3</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">right</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="var">false</span>× <a class="idref" href="PreciseTyping.html#pf_inert_pt3_sngl_false"><span class="id" title="lemma">pf_inert_pt3_sngl_false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc1</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hp'</span>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc2</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hp''</span>]; <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">split</span>. <span class="id" title="tactic">left</span>×. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_sngl_trans3"><span class="id" title="lemma">pt3_sngl_trans3</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">split</span>. <span class="id" title="tactic">left</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>; <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#pt3_invert"><span class="id" title="lemma">pt3_invert</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hp'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [? | [<span class="id" title="var">r1</span> [[= -&gt;] [-&gt; | ?]]]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span>× <a class="idref" href="PreciseTyping.html#pf_inert_pt3_sngl_false"><span class="id" title="lemma">pf_inert_pt3_sngl_false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">split</span>. <span class="id" title="tactic">left</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>; <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#pt3_invert"><span class="id" title="lemma">pt3_invert</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hp'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [? | [<span class="id" title="var">r1</span> [[= -&gt;] [-&gt; | ?]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_sngl_trans3"><span class="id" title="lemma">pt3_sngl_trans3</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>; <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">right</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>; <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="var">false</span>× <a class="idref" href="PreciseTyping.html#pf_inert_pt3_sngl_false"><span class="id" title="lemma">pf_inert_pt3_sngl_false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc1</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hp'</span>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc2</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hp''</span>]; <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">split</span>. <span class="id" title="tactic">left</span>×. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#pt3_sngl_trans3"><span class="id" title="lemma">pt3_sngl_trans3</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>; <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">split</span>. <span class="id" title="tactic">left</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>; <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#pt3_invert"><span class="id" title="lemma">pt3_invert</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hp'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [? | [<span class="id" title="var">r1'</span> [[= -&gt;] [-&gt; | ?]]]]; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">false</span>× <a class="idref" href="PreciseTyping.html#pf_inert_pt3_sngl_false"><span class="id" title="lemma">pf_inert_pt3_sngl_false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">split</span>. <span class="id" title="tactic">left</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>; <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#pt3_invert"><span class="id" title="lemma">pt3_invert</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hp'</span>) <span class="id" title="keyword">as</span> [? | [<span class="id" title="var">r1'</span> [[= -&gt;] [-&gt; | <span class="id" title="var">HHH</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_sngl_trans3"><span class="id" title="lemma">pt3_sngl_trans3</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">right</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="var">false</span>× <a class="idref" href="PreciseTyping.html#pf_inert_pt3_sngl_false"><span class="id" title="lemma">pf_inert_pt3_sngl_false</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><span class="id" title="var">p</span></span> looks up to <span class="inlinecode"><span class="id" title="var">t</span></span> in a value environment and <span class="inlinecode"><span class="id" title="var">p</span></span>'s III-level precise type
    is <span class="inlinecode"><span class="id" title="var">q.type</span></span>, where <span class="inlinecode"><span class="id" title="var">q</span></span>'s environment type is a object type, then
    <span class="inlinecode"><span class="id" title="var">t</span></span> is a path <span class="inlinecode"><span class="id" title="var">r</span></span>, and <span class="inlinecode"><span class="id" title="var">q</span></span> and <span class="inlinecode"><span class="id" title="var">r</span></span> are aliases. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="lookup_step_preservation_sngl_prec3_obj" class="idref" href="#lookup_step_preservation_sngl_prec3_obj"><span class="id" title="lemma">lookup_step_preservation_sngl_prec3_obj</span></a>: <span class="id" title="keyword">∀</span> <a id="G:220" class="idref" href="#G:220"><span class="id" title="binder">G</span></a> <a id="1f7feab83d95397e974e1d9756006ca8" class="idref" href="#1f7feab83d95397e974e1d9756006ca8"><span class="id" title="binder">γ</span></a> <a id="p:222" class="idref" href="#p:222"><span class="id" title="binder">p</span></a> <a id="q:223" class="idref" href="#q:223"><span class="id" title="binder">q</span></a> <a id="t:224" class="idref" href="#t:224"><span class="id" title="binder">t</span></a> <a id="Q1:225" class="idref" href="#Q1:225"><span class="id" title="binder">Q1</span></a> <a id="Q3:226" class="idref" href="#Q3:226"><span class="id" title="binder">Q3</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:220"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:220"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#1f7feab83d95397e974e1d9756006ca8"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:220"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#1f7feab83d95397e974e1d9756006ca8"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟦</span></a> <a class="idref" href="CanonicalForms.html#p:222"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⤳</span></a> <a class="idref" href="CanonicalForms.html#t:224"><span class="id" title="variable">t</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟧</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:220"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#p:222"><span class="id" title="variable">p</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="CanonicalForms.html#q:223"><span class="id" title="variable">q</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:220"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseFlow.html#27d10efae8295170a08832205c915493"><span class="id" title="notation">⊢!</span></a> <a class="idref" href="CanonicalForms.html#q:223"><span class="id" title="variable">q</span></a> <a class="idref" href="PreciseFlow.html#27d10efae8295170a08832205c915493"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#57e8a3f1aebb1c6069654ec2f0cd7a19"><span class="id" title="notation">μ</span></a><a class="idref" href="Definitions.html#57e8a3f1aebb1c6069654ec2f0cd7a19"><span class="id" title="notation">(</span></a><a class="idref" href="CanonicalForms.html#Q1:225"><span class="id" title="variable">Q1</span></a><a class="idref" href="Definitions.html#57e8a3f1aebb1c6069654ec2f0cd7a19"><span class="id" title="notation">)</span></a> <a class="idref" href="PreciseFlow.html#27d10efae8295170a08832205c915493"><span class="id" title="notation">⪼</span></a> <a class="idref" href="CanonicalForms.html#Q3:226"><span class="id" title="variable">Q3</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="r:227" class="idref" href="#r:227"><span class="id" title="binder">r</span></a> <a id="r':228" class="idref" href="#r':228"><span class="id" title="binder">r'</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#t:224"><span class="id" title="variable">t</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#r:227"><span class="id" title="variable">r</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="CanonicalForms.html#q:223"><span class="id" title="variable">q</span></a> <span class="id" title="notation">=</span> <a class="idref" href="CanonicalForms.html#r':228"><span class="id" title="variable">r'</span></a> <span class="id" title="notation">∨</span> <a class="idref" href="CanonicalForms.html#G:220"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#q:223"><span class="id" title="variable">q</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="CanonicalForms.html#r':228"><span class="id" title="variable">r'</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="CanonicalForms.html#r:227"><span class="id" title="variable">r</span></a> <span class="id" title="notation">=</span> <a class="idref" href="CanonicalForms.html#r':228"><span class="id" title="variable">r'</span></a> <span class="id" title="notation">∨</span> <a class="idref" href="CanonicalForms.html#G:220"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#r:227"><span class="id" title="variable">r</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="CanonicalForms.html#r':228"><span class="id" title="variable">r'</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hp</span>. <span class="id" title="var">gen</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Binding.html#typed_paths_named"><span class="id" title="lemma">typed_paths_named</span></a> (<a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a> <span class="id" title="var">Hp</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">px</span> [<span class="id" title="var">pbs</span> <span class="id" title="var">Heq</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hq</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CanonicalForms.html#lookup_step_preservation_prec2"><span class="id" title="lemma">lookup_step_preservation_prec2</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hs</span> <span class="id" title="var">H</span> <span class="id" title="var">Heq</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[<span class="id" title="var">S'</span> [<span class="id" title="var">U'</span> [<span class="id" title="var">u</span> [[= -&gt;] [<span class="id" title="var">Hv</span> <span class="id" title="var">Hp'</span>]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[<span class="id" title="var">S'</span> [<span class="id" title="var">ds</span> [<span class="id" title="var">W</span> [<span class="id" title="var">U</span> [<span class="id" title="var">r0</span> [<span class="id" title="var">A</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [-&gt; [<span class="id" title="var">Hp'</span> [<span class="id" title="var">Heq'</span> [<span class="id" title="var">Hds</span> [<span class="id" title="var">Htagr0</span> [<span class="id" title="var">Hrc1</span> <span class="id" title="var">Hrc2</span>]]]]]]]]]]]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">q'</span> [<span class="id" title="var">r</span> [<span class="id" title="var">r'</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [-&gt; [[= -&gt;] [-&gt; [<span class="id" title="var">Hrc1</span> <span class="id" title="var">Hrc2</span>]]]]]]]]]]]].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseFlow.html#pf_sngl_T"><span class="id" title="lemma">pf_sngl_T</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp'</span>) <span class="id" title="keyword">as</span> →. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#sngl_path_lookup"><span class="id" title="lemma">sngl_path_lookup</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp'</span>) <span class="id" title="keyword">as</span> [? [? [<span class="id" title="var">Hl</span> ?]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Lookup.html#lookup_step_func"><span class="id" title="lemma">lookup_step_func</span></a> <span class="id" title="var">Hl</span> <span class="id" title="var">Hs</span>) <span class="id" title="keyword">as</span> [=].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseFlow.html#pf_sngl_T"><span class="id" title="lemma">pf_sngl_T</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp'</span>) <span class="id" title="keyword">as</span> [=].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc1</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hrc1</span>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc2</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hrc2</span>]; <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">split</span>*; <span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">left</span>× | <span class="id" title="tactic">right</span> | <span class="id" title="tactic">right</span> | <span class="id" title="tactic">left</span>× | <span class="id" title="tactic">right</span> | <span class="id" title="tactic">right</span> ]; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>; <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseFlow.html#pf_sngl_T"><span class="id" title="lemma">pf_sngl_T</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp'</span>) <span class="id" title="keyword">as</span> →. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#sngl_path_lookup"><span class="id" title="lemma">sngl_path_lookup</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp'</span>) <span class="id" title="keyword">as</span> [? [? [<span class="id" title="var">Hl</span> ?]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Lookup.html#lookup_step_func"><span class="id" title="lemma">lookup_step_func</span></a> <span class="id" title="var">Hl</span> <span class="id" title="var">Hs</span>) <span class="id" title="keyword">as</span> [=].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseFlow.html#pf_sngl_T"><span class="id" title="lemma">pf_sngl_T</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp'</span>) <span class="id" title="keyword">as</span> [=].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#typ_to_lookup3"><span class="id" title="lemma">typ_to_lookup3</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">t</span> <span class="id" title="var">Hl</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Binding.html#typed_paths_named"><span class="id" title="lemma">typed_paths_named</span></a> (<a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a> <span class="id" title="var">Hp</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">rx</span> [<span class="id" title="var">rbs</span> <span class="id" title="var">Heqr</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHp</span> <span class="id" title="var">_</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="constructor">eq_refl</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heqr</span> <span class="id" title="var">_</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hq</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">r1</span> [<span class="id" title="var">r2</span> [-&gt; [[-&gt; | <span class="id" title="var">Hq'</span>] [-&gt; | <span class="id" title="var">Hq''</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc1</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hp'</span>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc2</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hp''</span>]; <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">split</span>. <span class="id" title="tactic">left</span>×. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_sngl_trans3"><span class="id" title="lemma">pt3_sngl_trans3</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">split</span>. <span class="id" title="tactic">left</span>×. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp'</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#pt3_invert"><span class="id" title="lemma">pt3_invert</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hp'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [? | [<span class="id" title="var">r1</span> [[= -&gt;] [-&gt; | ?]]]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span>× <a class="idref" href="PreciseTyping.html#pf_inert_pt3_sngl_false"><span class="id" title="lemma">pf_inert_pt3_sngl_false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hsi</span>: (<a class="idref" href="PreciseFlow.html#pf_inert"><span class="id" title="lemma">pf_inert</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>; <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">split</span>. <span class="id" title="tactic">left</span>×. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>; <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#pt3_invert"><span class="id" title="lemma">pt3_invert</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hp'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [? | [<span class="id" title="var">r1</span> [[= -&gt;] [-&gt; | ?]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_sngl_trans3"><span class="id" title="lemma">pt3_sngl_trans3</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>, <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">right</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>, <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="var">false</span>× <a class="idref" href="PreciseTyping.html#pf_inert_pt3_sngl_false"><span class="id" title="lemma">pf_inert_pt3_sngl_false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">lets</span> <span class="id" title="var">Hsi</span>: (<a class="idref" href="PreciseFlow.html#pf_inert"><span class="id" title="lemma">pf_inert</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc1</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hp'</span>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc2</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hp''</span>]; <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">split</span>. <span class="id" title="tactic">left</span>×. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#pt3_sngl_trans3"><span class="id" title="lemma">pt3_sngl_trans3</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">split</span>. <span class="id" title="tactic">left</span>×. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>; <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#pt3_invert"><span class="id" title="lemma">pt3_invert</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hp'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [? | [<span class="id" title="var">r1'</span> [[= -&gt;] [-&gt; | ?]]]]; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">false</span>× <a class="idref" href="PreciseTyping.html#pf_inert_pt3_sngl_false"><span class="id" title="lemma">pf_inert_pt3_sngl_false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">lets</span> <span class="id" title="var">Hsi</span>: (<a class="idref" href="PreciseFlow.html#pf_inert"><span class="id" title="lemma">pf_inert</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">split</span>. <span class="id" title="tactic">left</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>; <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#pt3_invert"><span class="id" title="lemma">pt3_invert</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hp'</span>) <span class="id" title="keyword">as</span> [? | [<span class="id" title="var">r1'</span> [[= -&gt;] [-&gt; | <span class="id" title="var">HHH</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_sngl_trans3"><span class="id" title="lemma">pt3_sngl_trans3</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">right</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="var">false</span>× <a class="idref" href="PreciseTyping.html#pf_inert_pt3_sngl_false"><span class="id" title="lemma">pf_inert_pt3_sngl_false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">lets</span> <span class="id" title="var">Hsi</span>: (<a class="idref" href="PreciseFlow.html#pf_inert"><span class="id" title="lemma">pf_inert</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc1</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hp'</span>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc2</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hp''</span>]; <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">split</span>. <span class="id" title="tactic">left</span>×. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_sngl_trans3"><span class="id" title="lemma">pt3_sngl_trans3</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">split</span>. <span class="id" title="tactic">left</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>; <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#pt3_invert"><span class="id" title="lemma">pt3_invert</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hp'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [? | [<span class="id" title="var">r1</span> [[= -&gt;] [-&gt; | ?]]]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span>× <a class="idref" href="PreciseTyping.html#pf_inert_pt3_sngl_false"><span class="id" title="lemma">pf_inert_pt3_sngl_false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">lets</span> <span class="id" title="var">Hsi</span>: (<a class="idref" href="PreciseFlow.html#pf_inert"><span class="id" title="lemma">pf_inert</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">split</span>. <span class="id" title="tactic">left</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>; <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#pt3_invert"><span class="id" title="lemma">pt3_invert</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hp'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [? | [<span class="id" title="var">r1</span> [[= -&gt;] [-&gt; | ?]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_sngl_trans3"><span class="id" title="lemma">pt3_sngl_trans3</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>; <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">right</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>; <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="var">false</span>× <a class="idref" href="PreciseTyping.html#pf_inert_pt3_sngl_false"><span class="id" title="lemma">pf_inert_pt3_sngl_false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">lets</span> <span class="id" title="var">Hsi</span>: (<a class="idref" href="PreciseFlow.html#pf_inert"><span class="id" title="lemma">pf_inert</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc1</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hp'</span>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc2</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hp''</span>]; <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">split</span>. <span class="id" title="tactic">left</span>×. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#pt3_sngl_trans3"><span class="id" title="lemma">pt3_sngl_trans3</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>; <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">split</span>. <span class="id" title="tactic">left</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>; <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#pt3_invert"><span class="id" title="lemma">pt3_invert</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hp'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [? | [<span class="id" title="var">r1'</span> [[= -&gt;] [-&gt; | ?]]]]; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">false</span>× <a class="idref" href="PreciseTyping.html#pf_inert_pt3_sngl_false"><span class="id" title="lemma">pf_inert_pt3_sngl_false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">lets</span> <span class="id" title="var">Hsi</span>: (<a class="idref" href="PreciseFlow.html#pf_inert"><span class="id" title="lemma">pf_inert</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">split</span>. <span class="id" title="tactic">left</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp'</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>; <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#pt3_invert"><span class="id" title="lemma">pt3_invert</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hp'</span>) <span class="id" title="keyword">as</span> [? | [<span class="id" title="var">r1'</span> [[= -&gt;] [-&gt; | <span class="id" title="var">HHH</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_sngl_trans3"><span class="id" title="lemma">pt3_sngl_trans3</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="tactic">right</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_weaken"><span class="id" title="lemma">pt3_weaken</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id" title="var">false</span>× <a class="idref" href="PreciseTyping.html#pf_inert_pt3_sngl_false"><span class="id" title="lemma">pf_inert_pt3_sngl_false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">lets</span> <span class="id" title="var">Hsi</span>: (<a class="idref" href="PreciseFlow.html#pf_inert"><span class="id" title="lemma">pf_inert</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If a <span class="inlinecode"><span class="id" title="var">x.bs</span></span> looks up to a path <span class="inlinecode"><span class="id" title="var">x.cs</span></span> in the value environment,
    and <span class="inlinecode"><span class="id" title="var">x.bs</span></span>'s environment type is <span class="inlinecode"><span class="id" title="var">T</span></span> then <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">x.cs.type</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="lookup_same_var_same_type" class="idref" href="#lookup_same_var_same_type"><span class="id" title="lemma">lookup_same_var_same_type</span></a> <a id="G:229" class="idref" href="#G:229"><span class="id" title="binder">G</span></a> <a id="c9f5e58081a5bdf39b543c750f4e81bb" class="idref" href="#c9f5e58081a5bdf39b543c750f4e81bb"><span class="id" title="binder">γ</span></a> <a id="x:231" class="idref" href="#x:231"><span class="id" title="binder">x</span></a> <a id="bs:232" class="idref" href="#bs:232"><span class="id" title="binder">bs</span></a> <a id="cs:233" class="idref" href="#cs:233"><span class="id" title="binder">cs</span></a> <a id="T:234" class="idref" href="#T:234"><span class="id" title="binder">T</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:229"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:229"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#c9f5e58081a5bdf39b543c750f4e81bb"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:229"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#c9f5e58081a5bdf39b543c750f4e81bb"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟦</span></a> <a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="CanonicalForms.html#x:231"><span class="id" title="variable">x</span></a>) <a class="idref" href="CanonicalForms.html#bs:232"><span class="id" title="variable">bs</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⤳</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> (<a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="CanonicalForms.html#x:231"><span class="id" title="variable">x</span></a>) <a class="idref" href="CanonicalForms.html#cs:233"><span class="id" title="variable">cs</span></a>) <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟧</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:229"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#eb1918df832a03c95bc5e667bbcce5b5"><span class="id" title="notation">⊢!!</span></a> <a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="CanonicalForms.html#x:231"><span class="id" title="variable">x</span></a>) <a class="idref" href="CanonicalForms.html#bs:232"><span class="id" title="variable">bs</span></a> <a class="idref" href="PreciseTyping.html#eb1918df832a03c95bc5e667bbcce5b5"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#T:234"><span class="id" title="variable">T</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#T:234"><span class="id" title="variable">T</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="CanonicalForms.html#x:231"><span class="id" title="variable">x</span></a>) <a class="idref" href="CanonicalForms.html#cs:233"><span class="id" title="variable">cs</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span>. <span class="id" title="var">gen</span> <span class="id" title="var">x</span> <span class="id" title="var">bs</span> <span class="id" title="var">cs</span> <span class="id" title="var">T</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Hwt</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">Case</span> "s is empty"%<span class="id" title="var">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span>× <a class="idref" href="Lookup.html#lookup_empty"><span class="id" title="lemma">lookup_empty</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">Case</span> "G is not empty"%<span class="id" title="var">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="lemma">classicT</span> (<span class="id" title="var">x</span> <span class="id" title="notation">=</span> <span class="id" title="var">x0</span>)) <span class="id" title="keyword">as</span> [&lt;- | <span class="id" title="var">Hn</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">SCase</span> "x = x0"%<span class="id" title="var">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#lookup_step_preservation_prec2"><span class="id" title="lemma">lookup_step_preservation_prec2</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> (<a class="idref" href="Definitions.html#well_typed_push"><span class="id" title="constructor">well_typed_push</span></a> <span class="id" title="var">Hwt</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>) <span class="id" title="var">Hs</span> <span class="id" title="var">Ht</span> <span class="id" title="constructor">eq_refl</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[<span class="id" title="var">S'</span> [<span class="id" title="var">U'</span> [<span class="id" title="var">u</span> [[= -&gt;] [<span class="id" title="var">Hv</span> <span class="id" title="var">Hp'</span>]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[<span class="id" title="var">S'</span> [<span class="id" title="var">ds</span> [<span class="id" title="var">W</span> [<span class="id" title="var">U'</span> [<span class="id" title="var">r0</span> [<span class="id" title="var">A</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [[=] [<span class="id" title="var">Hp'</span> [<span class="id" title="var">Heq</span> [<span class="id" title="var">Hds</span> [<span class="id" title="var">Hrc1</span> <span class="id" title="var">Hrc2</span>]]]]]]]]]]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">q</span> [<span class="id" title="var">r</span> [<span class="id" title="var">r'</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [[= &lt;-] [-&gt; [<span class="id" title="var">Heq</span> [<span class="id" title="var">Hrc1</span> <span class="id" title="var">Hrc2</span>]]]]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">concat_empty_r</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">eq_sym</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Binding.html#env_ok_inv"><span class="id" title="lemma">env_ok_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span> <span class="id" title="keyword">as</span> [&lt;- [&lt;- -&gt;]]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_empty_r</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#sngl_typed2"><span class="id" title="lemma">sngl_typed2</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Ht</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> [<span class="id" title="var">rx</span> [<span class="id" title="var">rbs</span> -&gt;]]%<a class="idref" href="PreciseTyping.html#precise_to_general2"><span class="id" title="lemma">precise_to_general2</span></a>%<a class="idref" href="Binding.html#typed_paths_named"><span class="id" title="lemma">typed_paths_named</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc1</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hrc1</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc2</span> <span class="id" title="keyword">as</span> [-&gt; | [<span class="id" title="var">U</span> <span class="id" title="var">Hu</span>]%<a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>%<a class="idref" href="Binding.html#typing_implies_bound"><span class="id" title="lemma">typing_implies_bound</span></a>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">false</span> <span class="id" title="lemma">binds_fresh_inv</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="PreciseTyping.html#sngl_typed3"><span class="id" title="lemma">sngl_typed3</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrc1</span> <span class="id" title="keyword">as</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[? [<span class="id" title="var">S</span> <span class="id" title="var">Hb</span>]%<a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>%<a class="idref" href="Binding.html#typing_implies_bound"><span class="id" title="lemma">typing_implies_bound</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span> <span class="id" title="lemma">binds_fresh_inv</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#wf_prefix"><span class="id" title="lemma">wf_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">false</span> <span class="id" title="lemma">binds_fresh_inv</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">SCase</span> "x &lt;&gt; x0"%<span class="id" title="var">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PreciseTyping.html#pt2_strengthen_one"><span class="id" title="lemma">pt2_strengthen_one</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Lookup.html#lookup_strengthen_one"><span class="id" title="lemma">lookup_strengthen_one</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHwt</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#wf_prefix"><span class="id" title="lemma">wf_prefix</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If the path <span class="inlinecode"><span class="id" title="var">y.bs</span></span> has II-level precise type <span class="inlinecode"><span class="id" title="var">y.cs.type</span></span> then
    <span class="inlinecode"><span class="id" title="var">y.bs</span></span> looks up to <span class="inlinecode"><span class="id" title="var">y.cs</span></span> in the value environment. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="typed_path_lookup_same_var2" class="idref" href="#typed_path_lookup_same_var2"><span class="id" title="lemma">typed_path_lookup_same_var2</span></a> <a id="G:235" class="idref" href="#G:235"><span class="id" title="binder">G</span></a> <a id="163c359457f555162616e6f82f7ea306" class="idref" href="#163c359457f555162616e6f82f7ea306"><span class="id" title="binder">γ</span></a> <a id="y:237" class="idref" href="#y:237"><span class="id" title="binder">y</span></a> <a id="bs:238" class="idref" href="#bs:238"><span class="id" title="binder">bs</span></a> <a id="cs:239" class="idref" href="#cs:239"><span class="id" title="binder">cs</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:235"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:235"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#163c359457f555162616e6f82f7ea306"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:235"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:235"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#eb1918df832a03c95bc5e667bbcce5b5"><span class="id" title="notation">⊢!!</span></a> <a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="CanonicalForms.html#y:237"><span class="id" title="variable">y</span></a>) <a class="idref" href="CanonicalForms.html#bs:238"><span class="id" title="variable">bs</span></a> <a class="idref" href="PreciseTyping.html#eb1918df832a03c95bc5e667bbcce5b5"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="CanonicalForms.html#y:237"><span class="id" title="variable">y</span></a>) <a class="idref" href="CanonicalForms.html#cs:239"><span class="id" title="variable">cs</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#163c359457f555162616e6f82f7ea306"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟦</span></a> <a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="CanonicalForms.html#y:237"><span class="id" title="variable">y</span></a>) <a class="idref" href="CanonicalForms.html#bs:238"><span class="id" title="variable">bs</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⤳</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> (<a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="CanonicalForms.html#y:237"><span class="id" title="variable">y</span></a>) <a class="idref" href="CanonicalForms.html#cs:239"><span class="id" title="variable">cs</span></a>) <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟧</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#typ_to_lookup2"><span class="id" title="lemma">typ_to_lookup2</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">t</span> <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#lookup_step_preservation_prec2"><span class="id" title="lemma">lookup_step_preservation_prec2</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hp</span> <span class="id" title="constructor">eq_refl</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[? [? [? [[= -&gt;] [<span class="id" title="var">Hv</span> -&gt;%<a class="idref" href="PreciseFlow.html#pf_sngl_T"><span class="id" title="lemma">pf_sngl_T</span></a>]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[? [? [? [? [? [? [? [? [? [[= -&gt;] [[=]%<a class="idref" href="PreciseFlow.html#pf_sngl_T"><span class="id" title="lemma">pf_sngl_T</span></a> ?]]]]]]]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">q'</span> [<span class="id" title="var">r</span> [<span class="id" title="var">r'</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [-&gt; [[= &lt;-] [-&gt; [<span class="id" title="var">Hrc1</span> <span class="id" title="var">Hrc2</span>]]]]]]]]]]]]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">proof_recipe</span>. <span class="id" title="var">inversions</span> <span class="id" title="var">Hv</span>. <span class="id" title="var">inversions</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="PreciseTyping.html#pt2_strengthen"><span class="id" title="lemma">pt2_strengthen</span></a> <span class="id" title="constructor">eq_refl</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Binding.html#wt_prefix"><span class="id" title="lemma">wt_prefix</span></a> <span class="id" title="var">Hwt</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span> [<span class="id" title="var">s1</span> [<span class="id" title="var">s2</span> [-&gt; <span class="id" title="var">Hwt'</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Binding.html#9010ed482d18614b421f3281efc61255"><span class="id" title="lemma">wt_to_ok_γ</span></a> <span class="id" title="var">Hwt</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hoks</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="Lookup.html#lookup_strengthen"><span class="id" title="lemma">lookup_strengthen</span></a> <span class="id" title="var">Hoks</span> <span class="id" title="constructor">eq_refl</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a> <span class="id" title="var">Hi</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hok</span>%<span class="id" title="lemma">ok_middle_inv_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc1</span> <span class="id" title="keyword">as</span> [&lt;- | <span class="id" title="var">Hrc1</span>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc2</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hrc2</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <a class="idref" href="Lookup.html#lookup_step_weaken"><span class="id" title="lemma">lookup_step_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<a class="idref" href="PreciseTyping.html#sngl_typed3"><span class="id" title="lemma">sngl_typed3</span></a> (<a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a> (<a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a> <span class="id" title="var">Hi</span>))) <span class="id" title="tactic">in</span> <span class="id" title="var">Hrc2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> [<span class="id" title="var">U</span> <span class="id" title="var">Hb</span>]%<a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>%<a class="idref" href="Binding.html#typing_implies_bound"><span class="id" title="lemma">typing_implies_bound</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span> <span class="id" title="lemma">binds_fresh_inv</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#wf_prefix"><span class="id" title="lemma">wf_prefix</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Binding.html#typing_implies_bound"><span class="id" title="lemma">typing_implies_bound</span></a> (<a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a> <span class="id" title="var">Hrc1</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">S</span> <span class="id" title="var">Hb</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span> <span class="id" title="lemma">binds_fresh_inv</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Binding.html#typing_implies_bound"><span class="id" title="lemma">typing_implies_bound</span></a> (<a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a> <span class="id" title="var">Hrc1</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">S</span> <span class="id" title="var">Hb</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">false</span> <span class="id" title="lemma">binds_fresh_inv</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If the path <span class="inlinecode"><span class="id" title="var">y.bs</span></span> has III-level precise type <span class="inlinecode"><span class="id" title="var">y.cs.type</span></span> then
    <span class="inlinecode"><span class="id" title="var">y.bs</span></span> looks up to <span class="inlinecode"><span class="id" title="var">y.cs</span></span> in the value environment in a finite number of steps. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="typed_path_lookup_same_var3" class="idref" href="#typed_path_lookup_same_var3"><span class="id" title="lemma">typed_path_lookup_same_var3</span></a> <a id="G:240" class="idref" href="#G:240"><span class="id" title="binder">G</span></a> <a id="9d2ddd0aadc811e8ed90d5fa84510fb5" class="idref" href="#9d2ddd0aadc811e8ed90d5fa84510fb5"><span class="id" title="binder">γ</span></a> <a id="y:242" class="idref" href="#y:242"><span class="id" title="binder">y</span></a> <a id="bs:243" class="idref" href="#bs:243"><span class="id" title="binder">bs</span></a> <a id="cs:244" class="idref" href="#cs:244"><span class="id" title="binder">cs</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:240"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:240"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#9d2ddd0aadc811e8ed90d5fa84510fb5"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:240"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:240"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="CanonicalForms.html#y:242"><span class="id" title="variable">y</span></a>) <a class="idref" href="CanonicalForms.html#bs:243"><span class="id" title="variable">bs</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="CanonicalForms.html#y:242"><span class="id" title="variable">y</span></a>) <a class="idref" href="CanonicalForms.html#cs:244"><span class="id" title="variable">cs</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#9d2ddd0aadc811e8ed90d5fa84510fb5"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟦</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> (<a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="CanonicalForms.html#y:242"><span class="id" title="variable">y</span></a>) <a class="idref" href="CanonicalForms.html#bs:243"><span class="id" title="variable">bs</span></a>) <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⤳*</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> (<a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="CanonicalForms.html#y:242"><span class="id" title="variable">y</span></a>) <a class="idref" href="CanonicalForms.html#cs:244"><span class="id" title="variable">cs</span></a>) <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟧</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp</span>. <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Sequences.html#star_one"><span class="id" title="lemma">star_one</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="CanonicalForms.html#typed_path_lookup_same_var2"><span class="id" title="lemma">typed_path_lookup_same_var2</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Binding.html#typed_paths_named"><span class="id" title="lemma">typed_paths_named</span></a> (<a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a> <span class="id" title="var">Hp</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">qx</span> [<span class="id" title="var">qbs</span> -&gt;]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="lemma">classicT</span> (<span class="id" title="var">qx</span> <span class="id" title="notation">=</span> <span class="id" title="var">y</span>)) <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hn</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="constructor">eq_refl</span> <span class="id" title="constructor">eq_refl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#typed_path_lookup_same_var2"><span class="id" title="lemma">typed_path_lookup_same_var2</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Sequences.html#star_trans"><span class="id" title="lemma">star_trans</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="Sequences.html#star_one"><span class="id" title="lemma">star_one</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> <span class="id" title="var">IHHp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Binding.html#typing_implies_bound"><span class="id" title="lemma">typing_implies_bound</span></a> (<a class="idref" href="PreciseTyping.html#precise_to_general2"><span class="id" title="lemma">precise_to_general2</span></a> <span class="id" title="var">H</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">S</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> -&gt;]]%<a class="idref" href="Binding.html#binds_destruct"><span class="id" title="lemma">binds_destruct</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseFlow.html#inert_ok"><span class="id" title="lemma">inert_ok</span></a> <span class="id" title="var">Hi</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hok</span>%<span class="id" title="lemma">ok_middle_inv_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="PreciseTyping.html#pt2_strengthen"><span class="id" title="lemma">pt2_strengthen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#sngl_typed2"><span class="id" title="lemma">sngl_typed2</span></a> (<a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a> <span class="id" title="var">Hi</span>) (<a class="idref" href="PreciseTyping.html#wf_prefix"><span class="id" title="lemma">wf_prefix</span></a> <span class="id" title="var">Hwf</span>) <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> [<span class="id" title="var">U</span> [[-&gt; -&gt;] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">Hn'</span> [<span class="id" title="var">G1'</span> [<span class="id" title="var">G2'</span> -&gt;]]%<a class="idref" href="Binding.html#binds_destruct"><span class="id" title="lemma">binds_destruct</span></a>]]%<span class="id" title="lemma">binds_push_inv</span>]%<a class="idref" href="PreciseTyping.html#precise_to_general2"><span class="id" title="lemma">precise_to_general2</span></a>%<a class="idref" href="Binding.html#typing_implies_bound"><span class="id" title="lemma">typing_implies_bound</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">false</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">concat_assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span>, <span class="id" title="var">Hi</span>, <span class="id" title="var">Hwf</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="PreciseTyping.html#pt3_strengthen"><span class="id" title="lemma">pt3_strengthen</span></a> <span class="id" title="constructor">eq_refl</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="PreciseTyping.html#sngl_typed3"><span class="id" title="lemma">sngl_typed3</span></a> (<a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a> <span class="id" title="var">Hi</span>) (<a class="idref" href="PreciseTyping.html#wf_prefix"><span class="id" title="lemma">wf_prefix</span></a> <span class="id" title="var">Hwf</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">V</span> [<span class="id" title="var">W</span> <span class="id" title="var">Hb</span>]%<a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>%<a class="idref" href="Binding.html#typing_implies_bound"><span class="id" title="lemma">typing_implies_bound</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpl_dom</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">notin_union</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hok</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hnu</span> <span class="id" title="var">_</span>]. <span class="id" title="var">false</span> <span class="id" title="lemma">binds_fresh_inv</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><span class="id" title="var">px.pbs</span></span> has III-level precise type <span class="inlinecode"><span class="id" title="var">qx.qbs.type</span></span>, and <span class="inlinecode"><span class="id" title="var">px</span></span> <span class="inlinecode">≠</span> <span class="inlinecode"><span class="id" title="var">qx</span></span>
    then there exists a type <span class="inlinecode"><span class="id" title="var">q'</span></span> that is <span class="inlinecode"><span class="id" title="var">px.pbs</span></span>'s II-level precise type,
    <span class="inlinecode"><span class="id" title="var">qx.qbs.type</span></span> is <span class="inlinecode"><span class="id" title="var">q'</span></span>'s III-level precise type, and <span class="inlinecode"><span class="id" title="var">q'</span></span>'s receiver is
    not equal to <span class="inlinecode"><span class="id" title="var">px</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="prev_var_exists" class="idref" href="#prev_var_exists"><span class="id" title="lemma">prev_var_exists</span></a> <a id="G:245" class="idref" href="#G:245"><span class="id" title="binder">G</span></a> <a id="p:246" class="idref" href="#p:246"><span class="id" title="binder">p</span></a> <a id="q:247" class="idref" href="#q:247"><span class="id" title="binder">q</span></a> <a id="px:248" class="idref" href="#px:248"><span class="id" title="binder">px</span></a> <a id="pbs:249" class="idref" href="#pbs:249"><span class="id" title="binder">pbs</span></a> <a id="qx:250" class="idref" href="#qx:250"><span class="id" title="binder">qx</span></a> <a id="qbs:251" class="idref" href="#qbs:251"><span class="id" title="binder">qbs</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:245"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:245"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#p:246"><span class="id" title="variable">p</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="CanonicalForms.html#px:248"><span class="id" title="variable">px</span></a>) <a class="idref" href="CanonicalForms.html#pbs:249"><span class="id" title="variable">pbs</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#q:247"><span class="id" title="variable">q</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="CanonicalForms.html#qx:250"><span class="id" title="variable">qx</span></a>) <a class="idref" href="CanonicalForms.html#qbs:251"><span class="id" title="variable">qbs</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:245"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#p:246"><span class="id" title="variable">p</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="CanonicalForms.html#q:247"><span class="id" title="variable">q</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#px:248"><span class="id" title="variable">px</span></a> <span class="id" title="notation">≠</span> <a class="idref" href="CanonicalForms.html#qx:250"><span class="id" title="variable">qx</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="p':252" class="idref" href="#p':252"><span class="id" title="binder">p'</span></a> <a id="cs:253" class="idref" href="#cs:253"><span class="id" title="binder">cs</span></a> <a id="q':254" class="idref" href="#q':254"><span class="id" title="binder">q'</span></a> <a id="ds:255" class="idref" href="#ds:255"><span class="id" title="binder">ds</span></a> <a id="rx:256" class="idref" href="#rx:256"><span class="id" title="binder">rx</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#rx:256"><span class="id" title="variable">rx</span></a> <span class="id" title="notation">≠</span> <a class="idref" href="CanonicalForms.html#px:248"><span class="id" title="variable">px</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#p':252"><span class="id" title="variable">p'</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="CanonicalForms.html#px:248"><span class="id" title="variable">px</span></a>) <a class="idref" href="CanonicalForms.html#cs:253"><span class="id" title="variable">cs</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#q':254"><span class="id" title="variable">q'</span></a> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="CanonicalForms.html#rx:256"><span class="id" title="variable">rx</span></a>) <a class="idref" href="CanonicalForms.html#ds:255"><span class="id" title="variable">ds</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="CanonicalForms.html#p:246"><span class="id" title="variable">p</span></a> <span class="id" title="notation">=</span> <a class="idref" href="CanonicalForms.html#p':252"><span class="id" title="variable">p'</span></a> <span class="id" title="notation">∨</span> <a class="idref" href="CanonicalForms.html#G:245"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#p:246"><span class="id" title="variable">p</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="CanonicalForms.html#p':252"><span class="id" title="variable">p'</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:245"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#eb1918df832a03c95bc5e667bbcce5b5"><span class="id" title="notation">⊢!!</span></a> <a class="idref" href="CanonicalForms.html#p':252"><span class="id" title="variable">p'</span></a> <a class="idref" href="PreciseTyping.html#eb1918df832a03c95bc5e667bbcce5b5"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="CanonicalForms.html#q':254"><span class="id" title="variable">q'</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="CanonicalForms.html#q':254"><span class="id" title="variable">q'</span></a> <span class="id" title="notation">=</span> <a class="idref" href="CanonicalForms.html#q:247"><span class="id" title="variable">q</span></a> <span class="id" title="notation">∨</span> <a class="idref" href="CanonicalForms.html#G:245"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#q':254"><span class="id" title="variable">q'</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="CanonicalForms.html#q:247"><span class="id" title="variable">q</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> → → <span class="id" title="var">Hp</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#sngl_typed2"><span class="id" title="lemma">sngl_typed2</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [? [<span class="id" title="var">rx</span> [<span class="id" title="var">rbs</span> -&gt;]]%<a class="idref" href="PreciseTyping.html#precise_to_general2"><span class="id" title="lemma">precise_to_general2</span></a>%<a class="idref" href="Binding.html#typed_paths_named"><span class="id" title="lemma">typed_paths_named</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="lemma">classicT</span> (<span class="id" title="var">rx</span> <span class="id" title="notation">=</span> <span class="id" title="var">qx</span>)) <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hn'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">do</span> 5 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="constructor">eq_refl</span> <span class="id" title="constructor">eq_refl</span> <span class="id" title="var">Hn'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">p'</span> [<span class="id" title="var">cs</span> [<span class="id" title="var">q'</span> [<span class="id" title="var">ds</span> [<span class="id" title="var">sx</span> [<span class="id" title="var">Hn''</span> [-&gt; [-&gt; [<span class="id" title="var">Hp'</span> [<span class="id" title="var">Hpq</span> <span class="id" title="var">Hq</span>]]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="lemma">classicT</span> (<span class="id" title="var">px</span> <span class="id" title="notation">=</span> <span class="id" title="var">rx</span>)) <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hnpr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">cs</span>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">ds</span> <span class="id" title="var">sx</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>×. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hp'</span> <span class="id" title="keyword">as</span> [&lt;- | <span class="id" title="var">Hnr</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">pbs</span>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">rbs</span> <span class="id" title="var">rx</span>. <span class="id" title="tactic">split</span>×.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><span class="id" title="var">p</span></span>'s III-level precise type is <span class="inlinecode"><span class="id" title="var">r.type</span></span> and <span class="inlinecode"><span class="id" title="var">r</span></span>'s environment type is
    a function type then <span class="inlinecode"><span class="id" title="var">p</span></span> can be looked up to <span class="inlinecode"><span class="id" title="var">r</span></span> in the value environment
    in a finite number of steps. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="typed_path_lookup_helper" class="idref" href="#typed_path_lookup_helper"><span class="id" title="lemma">typed_path_lookup_helper</span></a> <a id="G:257" class="idref" href="#G:257"><span class="id" title="binder">G</span></a> <a id="585564a72032a16047915ba9a67309bf" class="idref" href="#585564a72032a16047915ba9a67309bf"><span class="id" title="binder">γ</span></a> <a id="p:259" class="idref" href="#p:259"><span class="id" title="binder">p</span></a> <a id="r:260" class="idref" href="#r:260"><span class="id" title="binder">r</span></a> <a id="S:261" class="idref" href="#S:261"><span class="id" title="binder">S</span></a> <a id="T:262" class="idref" href="#T:262"><span class="id" title="binder">T</span></a> <a id="V:263" class="idref" href="#V:263"><span class="id" title="binder">V</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:257"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:257"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#585564a72032a16047915ba9a67309bf"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:257"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:257"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#p:259"><span class="id" title="variable">p</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="CanonicalForms.html#r:260"><span class="id" title="variable">r</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:257"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseFlow.html#27d10efae8295170a08832205c915493"><span class="id" title="notation">⊢!</span></a> <a class="idref" href="CanonicalForms.html#r:260"><span class="id" title="variable">r</span></a> <a class="idref" href="PreciseFlow.html#27d10efae8295170a08832205c915493"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">∀(</span></a><a class="idref" href="CanonicalForms.html#S:261"><span class="id" title="variable">S</span></a><a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">)</span></a> <a class="idref" href="CanonicalForms.html#T:262"><span class="id" title="variable">T</span></a> <a class="idref" href="PreciseFlow.html#27d10efae8295170a08832205c915493"><span class="id" title="notation">⪼</span></a> <a class="idref" href="CanonicalForms.html#V:263"><span class="id" title="variable">V</span></a><span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#585564a72032a16047915ba9a67309bf"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟦</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#p:259"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⤳*</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#r:260"><span class="id" title="variable">r</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟧</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span>. <span class="id" title="var">gen</span> <span class="id" title="var">p</span> <span class="id" title="var">r</span> <span class="id" title="var">S</span> <span class="id" title="var">T</span> <span class="id" title="var">V</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Hwt</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">Case</span> "G is empty"%<span class="id" title="var">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PreciseFlow.html#precise_to_general"><span class="id" title="lemma">precise_to_general</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>. <span class="id" title="var">false</span>× <a class="idref" href="Binding.html#typing_empty_false"><span class="id" title="lemma">typing_empty_false</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">Case</span> "G is not empty"%<span class="id" title="var">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x'</span> <span class="id" title="var">bs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Binding.html#typed_paths_named"><span class="id" title="lemma">typed_paths_named</span></a> (<a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a> <span class="id" title="var">Hp</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">px</span> [<span class="id" title="var">pbs</span> [= → -&gt;]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="lemma">classicT</span> (<span class="id" title="var">x</span> <span class="id" title="notation">=</span> <span class="id" title="var">px</span>)) <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hn</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">SCase</span> "x = px"%<span class="id" title="var">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hwt'</span>: (<a class="idref" href="Definitions.html#well_typed_push"><span class="id" title="constructor">well_typed_push</span></a> <span class="id" title="var">Hwt</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#typ_to_lookup3"><span class="id" title="lemma">typ_to_lookup3</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt'</span> <span class="id" title="var">Hp</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">t</span> <span class="id" title="var">Hlt</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#lookup_step_preservation_sngl_prec3"><span class="id" title="lemma">lookup_step_preservation_sngl_prec3</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt'</span> <span class="id" title="var">Hlt</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">r1</span> [<span class="id" title="var">r2</span> [-&gt; [<span class="id" title="var">Hrc</span> <span class="id" title="var">Hrc'</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#sngl_typed3"><span class="id" title="lemma">sngl_typed3</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hp</span>) <span class="id" title="keyword">as</span> [? [<span class="id" title="var">rx</span> [<span class="id" title="var">rbs</span> -&gt;]]%<a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>%<a class="idref" href="Binding.html#typed_paths_named"><span class="id" title="lemma">typed_paths_named</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="lemma">classicT</span> (<span class="id" title="var">px</span> <span class="id" title="notation">=</span> <span class="id" title="var">rx</span>)) <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hn</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span>× <a class="idref" href="CanonicalForms.html#typed_path_lookup_same_var3"><span class="id" title="lemma">typed_path_lookup_same_var3</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#prev_var_exists"><span class="id" title="lemma">prev_var_exists</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="constructor">eq_refl</span> <span class="id" title="constructor">eq_refl</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hn</span>) <span class="id" title="keyword">as</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">p'</span> [<span class="id" title="var">cs'</span> [<span class="id" title="var">q'</span> [<span class="id" title="var">ds</span> [<span class="id" title="var">sx</span> [<span class="id" title="var">Hn'</span> [-&gt; [-&gt; [<span class="id" title="var">Hpp'</span> [<span class="id" title="var">Hp'q'</span> <span class="id" title="var">Hq'q</span>]]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#typ_to_lookup2"><span class="id" title="lemma">typ_to_lookup2</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt'</span> <span class="id" title="var">Hp'q'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">t</span> <span class="id" title="var">Hst</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#lookup_step_preservation_prec2"><span class="id" title="lemma">lookup_step_preservation_prec2</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt'</span> <span class="id" title="var">Hst</span> <span class="id" title="var">Hp'q'</span> <span class="id" title="constructor">eq_refl</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[<span class="id" title="var">S'</span> [<span class="id" title="var">U'</span> [<span class="id" title="var">u</span> [[= -&gt;] [<span class="id" title="var">Hv</span> -&gt;%<a class="idref" href="PreciseFlow.html#pf_sngl_T"><span class="id" title="lemma">pf_sngl_T</span></a>]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[<span class="id" title="var">S'</span> [<span class="id" title="var">ds'</span> [<span class="id" title="var">W</span> [<span class="id" title="var">U'</span> [<span class="id" title="var">r0</span> [<span class="id" title="var">A</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [-&gt; [[=]%<a class="idref" href="PreciseFlow.html#pf_sngl_T"><span class="id" title="lemma">pf_sngl_T</span></a> [<span class="id" title="var">Heq</span> [<span class="id" title="var">Hds</span> [<span class="id" title="var">Htagr0</span> [<span class="id" title="var">Hrc1</span> <span class="id" title="var">Hrc2</span>]]]]]]]]]]]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">q'</span> [<span class="id" title="var">r</span> [<span class="id" title="var">r'</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [[= -&gt;] [[= &lt;-] [<span class="id" title="var">Heq'</span> [<span class="id" title="var">Hrc1</span> <span class="id" title="var">Hrc2</span>]]]]]]]]]]]]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">proof_recipe</span>. <span class="id" title="var">inversions</span> <span class="id" title="var">Hv</span>. <span class="id" title="var">inversions</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H3</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a> <span class="id" title="var">Hi</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hi'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">concat_empty_r</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq'</span> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">apply</span> <a class="idref" href="Binding.html#env_ok_inv'"><span class="id" title="lemma">env_ok_inv'</span></a>  <span class="id" title="tactic">in</span> <span class="id" title="var">Heq'</span> <span class="id" title="keyword">as</span> [-&gt; [-&gt; &lt;-]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_empty_r</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="notation">∃</span> <a id="q'x:266" class="idref" href="#q'x:266"><span class="id" title="binder">q'x</span></a> <a id="q'bs:267" class="idref" href="#q'bs:267"><span class="id" title="binder">q'bs</span></a><span class="id" title="notation">,</span> <span class="id" title="var">q'</span> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="CanonicalForms.html#q'x:264"><span class="id" title="variable">q'x</span></a>) <a class="idref" href="CanonicalForms.html#q'bs:265"><span class="id" title="variable">q'bs</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">q'x</span> [<span class="id" title="var">q'bs</span> -&gt;]]. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc2</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hq'</span>%<a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc1</span> <span class="id" title="keyword">as</span> [&lt;- | <span class="id" title="var">Hq'</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#sngl_typed3"><span class="id" title="lemma">sngl_typed3</span></a> (<a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a> <span class="id" title="var">Hi</span>) (<a class="idref" href="PreciseTyping.html#wf_prefix"><span class="id" title="lemma">wf_prefix</span></a> <span class="id" title="var">Hwf</span>) <span class="id" title="var">Hq'</span>) <span class="id" title="keyword">as</span> [? <span class="id" title="var">Hq''</span>%<a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="Binding.html#typed_paths_named"><span class="id" title="lemma">typed_paths_named</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>× <a class="idref" href="Binding.html#typed_paths_named"><span class="id" title="lemma">typed_paths_named</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Sequences.html#star_trans"><span class="id" title="lemma">star_trans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">b</span>:=<a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> (<a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <span class="id" title="var">px</span>) <span class="id" title="var">cs'</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpp'</span> <span class="id" title="keyword">as</span> [[= -&gt;] | <span class="id" title="var">Hpp'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>× <a class="idref" href="Sequences.html#star_refl"><span class="id" title="constructor">star_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> (<a class="idref" href="CanonicalForms.html#typed_path_lookup_same_var3"><span class="id" title="lemma">typed_path_lookup_same_var3</span></a> <span class="id" title="var">Hi</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hpp'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <span class="id" title="var">rx</span>) <span class="id" title="var">rbs</span> <span class="id" title="notation">=</span> <span class="id" title="var">r2</span>) <span class="id" title="keyword">as</span> &lt;-. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc</span> <span class="id" title="keyword">as</span> [&lt;- | <span class="id" title="var">Ht</span>]; <span class="id" title="tactic">auto</span>. <span class="id" title="var">false</span> (<a class="idref" href="PreciseTyping.html#pf_inert_pt3_sngl_false"><span class="id" title="lemma">pf_inert_pt3_sngl_false</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hr</span> <span class="id" title="var">Ht</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hrc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Sequences.html#star_trans"><span class="id" title="lemma">star_trans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">b</span>:=<a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> (<a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <span class="id" title="var">q'x</span>) <span class="id" title="var">q'bs</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span>× <a class="idref" href="Sequences.html#star_one"><span class="id" title="lemma">star_one</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="Lookup.html#lookup_weaken"><span class="id" title="lemma">lookup_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span>× <a class="idref" href="Binding.html#9010ed482d18614b421f3281efc61255"><span class="id" title="lemma">wt_to_ok_γ</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#wf_prefix"><span class="id" title="lemma">wf_prefix</span></a> <span class="id" title="var">Hwf</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hwf'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PreciseFlow.html#pf_strengthen"><span class="id" title="lemma">pf_strengthen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hrc'</span> <span class="id" title="var">Hst</span> <span class="id" title="var">Hp'q'</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hq'q</span> <span class="id" title="keyword">as</span> [[= → -&gt;] | <span class="id" title="var">Hq'q</span>%<a class="idref" href="PreciseTyping.html#pt3_strengthen_one"><span class="id" title="lemma">pt3_strengthen_one</span></a>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc1</span> <span class="id" title="keyword">as</span> [&lt;- | <span class="id" title="var">Hrc1</span>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc2</span> <span class="id" title="keyword">as</span> [[= -&gt;] | <span class="id" title="var">Hrc2</span>]; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHwt</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">false</span> (<a class="idref" href="PreciseTyping.html#pf_inert_pt3_sngl_false"><span class="id" title="lemma">pf_inert_pt3_sngl_false</span></a> <span class="id" title="var">Hi'</span> <span class="id" title="var">Hr</span> <span class="id" title="var">Hrc1</span>); <span class="id" title="tactic">auto</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHwt</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_sngl_trans3"><span class="id" title="lemma">pt3_sngl_trans3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#pt3_invert"><span class="id" title="lemma">pt3_invert</span></a> <span class="id" title="var">Hi'</span> <span class="id" title="var">Hrc1</span> <span class="id" title="var">Hq'q</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Contra</span> | [<span class="id" title="var">q'</span> [[= -&gt;] [[= &lt;-] | <span class="id" title="var">Hqt</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">false</span> (<a class="idref" href="PreciseTyping.html#pf_inert_pt3_sngl_false"><span class="id" title="lemma">pf_inert_pt3_sngl_false</span></a> <span class="id" title="var">Hi'</span> <span class="id" title="var">Hr</span> <span class="id" title="var">Contra</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="Sequences.html#star_refl"><span class="id" title="constructor">star_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHwt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#pt3_invert"><span class="id" title="lemma">pt3_invert</span></a> <span class="id" title="var">Hi'</span> <span class="id" title="var">Hrc1</span> <span class="id" title="var">Hq'q</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Contra</span> | [<span class="id" title="var">q'</span> [[= -&gt;] [[= &lt;-] | <span class="id" title="var">Hqt</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">false</span> (<a class="idref" href="PreciseTyping.html#pf_inert_pt3_sngl_false"><span class="id" title="lemma">pf_inert_pt3_sngl_false</span></a> <span class="id" title="var">Hi'</span> <span class="id" title="var">Hr</span> <span class="id" title="var">Contra</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHwt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">apply</span> (<a class="idref" href="PreciseTyping.html#pt3_sngl_trans3"><span class="id" title="lemma">pt3_sngl_trans3</span></a> <span class="id" title="var">Hrc2</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hqt</span>. <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHwt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">SCase</span> "x &lt;&gt; px"%<span class="id" title="var">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PreciseTyping.html#pt3_strengthen_one"><span class="id" title="lemma">pt3_strengthen_one</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Lookup.html#lookup_weaken"><span class="id" title="lemma">lookup_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span>× <span class="id" title="constructor">ok_push</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="Binding.html#9010ed482d18614b421f3281efc61255"><span class="id" title="lemma">wt_to_ok_γ</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a> <span class="id" title="var">Hi</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hi'</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#wf_prefix"><span class="id" title="lemma">wf_prefix</span></a> <span class="id" title="var">Hwf</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hwf'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHwt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="PreciseTyping.html#sngl_typed3"><span class="id" title="lemma">sngl_typed3</span></a> <span class="id" title="var">Hi'</span> <span class="id" title="var">Hwf'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">U</span> <span class="id" title="var">Ht</span>]. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pf_strengthen_from_pt3"><span class="id" title="lemma">pf_strengthen_from_pt3</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="typed_path_lookup_helper_obj" class="idref" href="#typed_path_lookup_helper_obj"><span class="id" title="lemma">typed_path_lookup_helper_obj</span></a> <a id="G:268" class="idref" href="#G:268"><span class="id" title="binder">G</span></a> <a id="9d2b95538ffb1ccf21bee209c13fc1ab" class="idref" href="#9d2b95538ffb1ccf21bee209c13fc1ab"><span class="id" title="binder">γ</span></a> <a id="p:270" class="idref" href="#p:270"><span class="id" title="binder">p</span></a> <a id="r:271" class="idref" href="#r:271"><span class="id" title="binder">r</span></a> <a id="S:272" class="idref" href="#S:272"><span class="id" title="binder">S</span></a> <a id="V:273" class="idref" href="#V:273"><span class="id" title="binder">V</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:268"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:268"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#9d2b95538ffb1ccf21bee209c13fc1ab"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:268"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:268"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#p:270"><span class="id" title="variable">p</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="CanonicalForms.html#r:271"><span class="id" title="variable">r</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:268"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseFlow.html#27d10efae8295170a08832205c915493"><span class="id" title="notation">⊢!</span></a> <a class="idref" href="CanonicalForms.html#r:271"><span class="id" title="variable">r</span></a> <a class="idref" href="PreciseFlow.html#27d10efae8295170a08832205c915493"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#57e8a3f1aebb1c6069654ec2f0cd7a19"><span class="id" title="notation">μ</span></a><a class="idref" href="Definitions.html#57e8a3f1aebb1c6069654ec2f0cd7a19"><span class="id" title="notation">(</span></a><a class="idref" href="CanonicalForms.html#S:272"><span class="id" title="variable">S</span></a><a class="idref" href="Definitions.html#57e8a3f1aebb1c6069654ec2f0cd7a19"><span class="id" title="notation">)</span></a> <a class="idref" href="PreciseFlow.html#27d10efae8295170a08832205c915493"><span class="id" title="notation">⪼</span></a> <a class="idref" href="CanonicalForms.html#V:273"><span class="id" title="variable">V</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#9d2b95538ffb1ccf21bee209c13fc1ab"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟦</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#p:270"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⤳*</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#r:271"><span class="id" title="variable">r</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟧</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span>. <span class="id" title="var">gen</span> <span class="id" title="var">p</span> <span class="id" title="var">r</span> <span class="id" title="var">S</span> <span class="id" title="var">V</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Hwt</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">Case</span> "G is empty"%<span class="id" title="var">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PreciseFlow.html#precise_to_general"><span class="id" title="lemma">precise_to_general</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>. <span class="id" title="var">false</span>× <a class="idref" href="Binding.html#typing_empty_false"><span class="id" title="lemma">typing_empty_false</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">Case</span> "G is not empty"%<span class="id" title="var">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x'</span> <span class="id" title="var">bs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Binding.html#typed_paths_named"><span class="id" title="lemma">typed_paths_named</span></a> (<a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a> <span class="id" title="var">Hp</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">px</span> [<span class="id" title="var">pbs</span> [= → -&gt;]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="lemma">classicT</span> (<span class="id" title="var">x</span> <span class="id" title="notation">=</span> <span class="id" title="var">px</span>)) <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hn</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">SCase</span> "x = px"%<span class="id" title="var">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hwt'</span>: (<a class="idref" href="Definitions.html#well_typed_push"><span class="id" title="constructor">well_typed_push</span></a> <span class="id" title="var">Hwt</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#typ_to_lookup3"><span class="id" title="lemma">typ_to_lookup3</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt'</span> <span class="id" title="var">Hp</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">t</span> <span class="id" title="var">Hlt</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#lookup_step_preservation_sngl_prec3_obj"><span class="id" title="lemma">lookup_step_preservation_sngl_prec3_obj</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt'</span> <span class="id" title="var">Hlt</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">r1</span> [<span class="id" title="var">r2</span> [-&gt; [<span class="id" title="var">Hrc</span> <span class="id" title="var">Hrc'</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#sngl_typed3"><span class="id" title="lemma">sngl_typed3</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hp</span>) <span class="id" title="keyword">as</span> [? [<span class="id" title="var">rx</span> [<span class="id" title="var">rbs</span> -&gt;]]%<a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>%<a class="idref" href="Binding.html#typed_paths_named"><span class="id" title="lemma">typed_paths_named</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="lemma">classicT</span> (<span class="id" title="var">px</span> <span class="id" title="notation">=</span> <span class="id" title="var">rx</span>)) <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hn</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span>× <a class="idref" href="CanonicalForms.html#typed_path_lookup_same_var3"><span class="id" title="lemma">typed_path_lookup_same_var3</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#prev_var_exists"><span class="id" title="lemma">prev_var_exists</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="constructor">eq_refl</span> <span class="id" title="constructor">eq_refl</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hn</span>) <span class="id" title="keyword">as</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">p'</span> [<span class="id" title="var">cs'</span> [<span class="id" title="var">q'</span> [<span class="id" title="var">ds</span> [<span class="id" title="var">sx</span> [<span class="id" title="var">Hn'</span> [-&gt; [-&gt; [<span class="id" title="var">Hpp'</span> [<span class="id" title="var">Hp'q'</span> <span class="id" title="var">Hq'q</span>]]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#typ_to_lookup2"><span class="id" title="lemma">typ_to_lookup2</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt'</span> <span class="id" title="var">Hp'q'</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">t</span> <span class="id" title="var">Hst</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#lookup_step_preservation_prec2"><span class="id" title="lemma">lookup_step_preservation_prec2</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt'</span> <span class="id" title="var">Hst</span> <span class="id" title="var">Hp'q'</span> <span class="id" title="constructor">eq_refl</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[<span class="id" title="var">S'</span> [<span class="id" title="var">U'</span> [<span class="id" title="var">u</span> [[= -&gt;] [<span class="id" title="var">Hv</span> -&gt;%<a class="idref" href="PreciseFlow.html#pf_sngl_T"><span class="id" title="lemma">pf_sngl_T</span></a>]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[<span class="id" title="var">S'</span> [<span class="id" title="var">ds'</span> [<span class="id" title="var">W</span> [<span class="id" title="var">U'</span> [<span class="id" title="var">r0</span> [<span class="id" title="var">A</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [-&gt; [[=]%<a class="idref" href="PreciseFlow.html#pf_sngl_T"><span class="id" title="lemma">pf_sngl_T</span></a> [<span class="id" title="var">Heq</span> [<span class="id" title="var">Hds</span> [<span class="id" title="var">Htagr0</span> [<span class="id" title="var">Hrc1</span> <span class="id" title="var">Hrc2</span>]]]]]]]]]]]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">q'</span> [<span class="id" title="var">r</span> [<span class="id" title="var">r'</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [[= -&gt;] [[= &lt;-] [<span class="id" title="var">Heq'</span> [<span class="id" title="var">Hrc1</span> <span class="id" title="var">Hrc2</span>]]]]]]]]]]]]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">proof_recipe</span>. <span class="id" title="var">inversions</span> <span class="id" title="var">Hv</span>. <span class="id" title="var">inversions</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H3</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a> <span class="id" title="var">Hi</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hi'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">concat_empty_r</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq'</span> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">apply</span> <a class="idref" href="Binding.html#env_ok_inv'"><span class="id" title="lemma">env_ok_inv'</span></a>  <span class="id" title="tactic">in</span> <span class="id" title="var">Heq'</span> <span class="id" title="keyword">as</span> [-&gt; [-&gt; &lt;-]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">concat_empty_r</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="notation">∃</span> <a id="q'x:276" class="idref" href="#q'x:276"><span class="id" title="binder">q'x</span></a> <a id="q'bs:277" class="idref" href="#q'bs:277"><span class="id" title="binder">q'bs</span></a><span class="id" title="notation">,</span> <span class="id" title="var">q'</span> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="CanonicalForms.html#q'x:274"><span class="id" title="variable">q'x</span></a>) <a class="idref" href="CanonicalForms.html#q'bs:275"><span class="id" title="variable">q'bs</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">q'x</span> [<span class="id" title="var">q'bs</span> -&gt;]]. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc2</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hq'</span>%<a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc1</span> <span class="id" title="keyword">as</span> [&lt;- | <span class="id" title="var">Hq'</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#sngl_typed3"><span class="id" title="lemma">sngl_typed3</span></a> (<a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a> <span class="id" title="var">Hi</span>) (<a class="idref" href="PreciseTyping.html#wf_prefix"><span class="id" title="lemma">wf_prefix</span></a> <span class="id" title="var">Hwf</span>) <span class="id" title="var">Hq'</span>) <span class="id" title="keyword">as</span> [? <span class="id" title="var">Hq''</span>%<a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="Binding.html#typed_paths_named"><span class="id" title="lemma">typed_paths_named</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>× <a class="idref" href="Binding.html#typed_paths_named"><span class="id" title="lemma">typed_paths_named</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Sequences.html#star_trans"><span class="id" title="lemma">star_trans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">b</span>:=<a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> (<a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <span class="id" title="var">px</span>) <span class="id" title="var">cs'</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpp'</span> <span class="id" title="keyword">as</span> [[= -&gt;] | <span class="id" title="var">Hpp'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>× <a class="idref" href="Sequences.html#star_refl"><span class="id" title="constructor">star_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> (<a class="idref" href="CanonicalForms.html#typed_path_lookup_same_var3"><span class="id" title="lemma">typed_path_lookup_same_var3</span></a> <span class="id" title="var">Hi</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hpp'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <span class="id" title="var">rx</span>) <span class="id" title="var">rbs</span> <span class="id" title="notation">=</span> <span class="id" title="var">r2</span>) <span class="id" title="keyword">as</span> &lt;-. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc</span> <span class="id" title="keyword">as</span> [&lt;- | <span class="id" title="var">Ht</span>]; <span class="id" title="tactic">auto</span>. <span class="id" title="var">false</span> (<a class="idref" href="PreciseTyping.html#pf_inert_pt3_sngl_false"><span class="id" title="lemma">pf_inert_pt3_sngl_false</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hr</span> <span class="id" title="var">Ht</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">lets</span> <span class="id" title="var">Hsi</span>: (<a class="idref" href="PreciseFlow.html#pf_inert"><span class="id" title="lemma">pf_inert</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hrc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Sequences.html#star_trans"><span class="id" title="lemma">star_trans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">b</span>:=<a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> (<a class="idref" href="Definitions.html#p_sel"><span class="id" title="constructor">p_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <span class="id" title="var">q'x</span>) <span class="id" title="var">q'bs</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span>× <a class="idref" href="Sequences.html#star_one"><span class="id" title="lemma">star_one</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="Lookup.html#lookup_weaken"><span class="id" title="lemma">lookup_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span>× <a class="idref" href="Binding.html#9010ed482d18614b421f3281efc61255"><span class="id" title="lemma">wt_to_ok_γ</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#wf_prefix"><span class="id" title="lemma">wf_prefix</span></a> <span class="id" title="var">Hwf</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hwf'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PreciseFlow.html#pf_strengthen"><span class="id" title="lemma">pf_strengthen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hrc'</span> <span class="id" title="var">Hst</span> <span class="id" title="var">Hp'q'</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hin</span>: <a class="idref" href="Definitions.html#inert_typ"><span class="id" title="inductive">inert_typ</span></a> (<a class="idref" href="Definitions.html#57e8a3f1aebb1c6069654ec2f0cd7a19"><span class="id" title="notation">μ</span></a> <span class="id" title="var">S</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hsi</span>: (<a class="idref" href="PreciseFlow.html#pf_inert"><span class="id" title="lemma">pf_inert</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hq'q</span> <span class="id" title="keyword">as</span> [[= → -&gt;] | <span class="id" title="var">Hq'q</span>%<a class="idref" href="PreciseTyping.html#pt3_strengthen_one"><span class="id" title="lemma">pt3_strengthen_one</span></a>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc1</span> <span class="id" title="keyword">as</span> [&lt;- | <span class="id" title="var">Hrc1</span>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrc2</span> <span class="id" title="keyword">as</span> [[= -&gt;] | <span class="id" title="var">Hrc2</span>]; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHwt</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">false</span> (<a class="idref" href="PreciseTyping.html#pf_inert_pt3_sngl_false"><span class="id" title="lemma">pf_inert_pt3_sngl_false</span></a> <span class="id" title="var">Hi'</span> <span class="id" title="var">Hr</span> <span class="id" title="var">Hrc1</span> <span class="id" title="var">Hin</span>); <span class="id" title="tactic">auto</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHwt</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt3_sngl_trans3"><span class="id" title="lemma">pt3_sngl_trans3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#pt3_invert"><span class="id" title="lemma">pt3_invert</span></a> <span class="id" title="var">Hi'</span> <span class="id" title="var">Hrc1</span> <span class="id" title="var">Hq'q</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Contra</span> | [<span class="id" title="var">q'</span> [[= -&gt;] [[= &lt;-] | <span class="id" title="var">Hqt</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">false</span> (<a class="idref" href="PreciseTyping.html#pf_inert_pt3_sngl_false"><span class="id" title="lemma">pf_inert_pt3_sngl_false</span></a> <span class="id" title="var">Hi'</span> <span class="id" title="var">Hr</span> <span class="id" title="var">Contra</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="Sequences.html#star_refl"><span class="id" title="constructor">star_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHwt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#pt3_invert"><span class="id" title="lemma">pt3_invert</span></a> <span class="id" title="var">Hi'</span> <span class="id" title="var">Hrc1</span> <span class="id" title="var">Hq'q</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Contra</span> | [<span class="id" title="var">q'</span> [[= -&gt;] [[= &lt;-] | <span class="id" title="var">Hqt</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="var">false</span> (<a class="idref" href="PreciseTyping.html#pf_inert_pt3_sngl_false"><span class="id" title="lemma">pf_inert_pt3_sngl_false</span></a> <span class="id" title="var">Hi'</span> <span class="id" title="var">Hr</span> <span class="id" title="var">Contra</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHwt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">apply</span> (<a class="idref" href="PreciseTyping.html#pt3_sngl_trans3"><span class="id" title="lemma">pt3_sngl_trans3</span></a> <span class="id" title="var">Hrc2</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hqt</span>. <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHwt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">SCase</span> "x &lt;&gt; px"%<span class="id" title="var">string</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PreciseTyping.html#pt3_strengthen_one"><span class="id" title="lemma">pt3_strengthen_one</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Lookup.html#lookup_weaken"><span class="id" title="lemma">lookup_weaken</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span>× <span class="id" title="constructor">ok_push</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="Binding.html#9010ed482d18614b421f3281efc61255"><span class="id" title="lemma">wt_to_ok_γ</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="RecordAndInertTypes.html#inert_prefix"><span class="id" title="lemma">inert_prefix</span></a> <span class="id" title="var">Hi</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hi'</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseTyping.html#wf_prefix"><span class="id" title="lemma">wf_prefix</span></a> <span class="id" title="var">Hwf</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hwf'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHwt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="PreciseTyping.html#sngl_typed3"><span class="id" title="lemma">sngl_typed3</span></a> <span class="id" title="var">Hi'</span> <span class="id" title="var">Hwf'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">U</span> <span class="id" title="var">Ht</span>]. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pf_strengthen_from_pt3"><span class="id" title="lemma">pf_strengthen_from_pt3</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><span class="id" title="var">p</span></span>'s III-level precise type is a function type then <span class="inlinecode"><span class="id" title="var">p</span></span> can be looked
    up to a value in the value environment. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="typed_path_lookup3" class="idref" href="#typed_path_lookup3"><span class="id" title="lemma">typed_path_lookup3</span></a> <a id="G:278" class="idref" href="#G:278"><span class="id" title="binder">G</span></a> <a id="b17ca517e403baf8b481ff1bdd340479" class="idref" href="#b17ca517e403baf8b481ff1bdd340479"><span class="id" title="binder">γ</span></a> <a id="p:280" class="idref" href="#p:280"><span class="id" title="binder">p</span></a> <a id="T:281" class="idref" href="#T:281"><span class="id" title="binder">T</span></a> <a id="U:282" class="idref" href="#U:282"><span class="id" title="binder">U</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:278"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:278"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#b17ca517e403baf8b481ff1bdd340479"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:278"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:278"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#p:280"><span class="id" title="variable">p</span></a><a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">∀(</span></a><a class="idref" href="CanonicalForms.html#T:281"><span class="id" title="variable">T</span></a><a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">)</span></a> <a class="idref" href="CanonicalForms.html#U:282"><span class="id" title="variable">U</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="v:283" class="idref" href="#v:283"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#b17ca517e403baf8b481ff1bdd340479"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟦</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#p:280"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⤳*</span></a> <a class="idref" href="Definitions.html#defv"><span class="id" title="constructor">defv</span></a> <a class="idref" href="CanonicalForms.html#v:283"><span class="id" title="variable">v</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟧</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Binding.html#typed_paths_named"><span class="id" title="lemma">typed_paths_named</span></a> (<a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a> <span class="id" title="var">Hp</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">px</span> [<span class="id" title="var">pbs</span> -&gt;]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="PreciseTyping.html#last_path"><span class="id" title="lemma">last_path</span></a> <span class="id" title="var">Hi</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hp</span> | [<span class="id" title="var">q</span> [<span class="id" title="var">Hpq</span> <span class="id" title="var">Hq</span>]]].<br/>
&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">Hp</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#typ_to_lookup1"><span class="id" title="lemma">typ_to_lookup1</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">t</span> <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CanonicalForms.html#lookup_step_preservation_prec1"><span class="id" title="lemma">lookup_step_preservation_prec1</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hs</span> <span class="id" title="var">H</span> <span class="id" title="constructor">eq_refl</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[<span class="id" title="var">S</span> [<span class="id" title="var">u</span> [-&gt; <span class="id" title="var">Ht</span>]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[<span class="id" title="var">S</span> [<span class="id" title="var">ds'</span> [<span class="id" title="var">W</span> [<span class="id" title="var">T''</span> [<span class="id" title="var">r0</span> [<span class="id" title="var">A</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [-&gt; [[= -&gt;] [? ?]]]]]]]]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[? [? [? [? [? [? [? [[= -&gt;] [-&gt; ?]]]]]]]]]]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PreciseFlow.html#pf_sngl_U"><span class="id" title="lemma">pf_sngl_U</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [=].<br/>
&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">Hq</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseFlow.html#pf_forall_T"><span class="id" title="lemma">pf_forall_T</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#typed_path_lookup_helper"><span class="id" title="lemma">typed_path_lookup_helper</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hpq</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#typ_to_lookup1"><span class="id" title="lemma">typ_to_lookup1</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">t</span> <span class="id" title="var">Hs'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Binding.html#typed_paths_named"><span class="id" title="lemma">typed_paths_named</span></a> (<a class="idref" href="PreciseFlow.html#precise_to_general"><span class="id" title="lemma">precise_to_general</span></a> <span class="id" title="var">H</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">qx</span> [<span class="id" title="var">qbs</span> -&gt;]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CanonicalForms.html#lookup_step_preservation_prec1"><span class="id" title="lemma">lookup_step_preservation_prec1</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hs'</span> <span class="id" title="var">H</span> <span class="id" title="constructor">eq_refl</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[<span class="id" title="var">S</span> [<span class="id" title="var">u</span> [-&gt; <span class="id" title="var">Ht</span>]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[<span class="id" title="var">S</span> [<span class="id" title="var">ds'</span> [<span class="id" title="var">W</span> [<span class="id" title="var">T''</span> [<span class="id" title="var">r0</span> [<span class="id" title="var">A</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [-&gt; [[= -&gt;] [? ?]]]]]]]]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[? [? [? [? [? [? [? [[= -&gt;] [-&gt; ?]]]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Sequences.html#star_trans"><span class="id" title="lemma">star_trans</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hs</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="Sequences.html#star_one"><span class="id" title="lemma">star_one</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><span class="id" title="var">p</span></span>'s III-level precise type is a function type then <span class="inlinecode"><span class="id" title="var">p</span></span> can be looked
    up to a value in the value environment. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="typed_path_lookup3_obj" class="idref" href="#typed_path_lookup3_obj"><span class="id" title="lemma">typed_path_lookup3_obj</span></a> <a id="G:284" class="idref" href="#G:284"><span class="id" title="binder">G</span></a> <a id="dc7f63e726ec569c01e754c0ce4adbc3" class="idref" href="#dc7f63e726ec569c01e754c0ce4adbc3"><span class="id" title="binder">γ</span></a> <a id="p:286" class="idref" href="#p:286"><span class="id" title="binder">p</span></a> <a id="T:287" class="idref" href="#T:287"><span class="id" title="binder">T</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:284"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:284"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#dc7f63e726ec569c01e754c0ce4adbc3"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:284"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:284"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#p:286"><span class="id" title="variable">p</span></a><a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#57e8a3f1aebb1c6069654ec2f0cd7a19"><span class="id" title="notation">μ</span></a><a class="idref" href="Definitions.html#57e8a3f1aebb1c6069654ec2f0cd7a19"><span class="id" title="notation">(</span></a><a class="idref" href="CanonicalForms.html#T:287"><span class="id" title="variable">T</span></a><a class="idref" href="Definitions.html#57e8a3f1aebb1c6069654ec2f0cd7a19"><span class="id" title="notation">)</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="v:288" class="idref" href="#v:288"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#dc7f63e726ec569c01e754c0ce4adbc3"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟦</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#p:286"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⤳*</span></a> <a class="idref" href="Definitions.html#defv"><span class="id" title="constructor">defv</span></a> <a class="idref" href="CanonicalForms.html#v:288"><span class="id" title="variable">v</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟧</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Binding.html#typed_paths_named"><span class="id" title="lemma">typed_paths_named</span></a> (<a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a> <span class="id" title="var">Hp</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">px</span> [<span class="id" title="var">pbs</span> -&gt;]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="PreciseTyping.html#last_path_obj"><span class="id" title="lemma">last_path_obj</span></a> <span class="id" title="var">Hi</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hp</span> | [<span class="id" title="var">q</span> [<span class="id" title="var">Hpq</span> <span class="id" title="var">Hq</span>]]].<br/>
&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">Hp</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#typ_to_lookup1"><span class="id" title="lemma">typ_to_lookup1</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">t</span> <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CanonicalForms.html#lookup_step_preservation_prec1"><span class="id" title="lemma">lookup_step_preservation_prec1</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hs</span> <span class="id" title="var">H</span> <span class="id" title="constructor">eq_refl</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[<span class="id" title="var">S</span> [<span class="id" title="var">u</span> [-&gt; <span class="id" title="var">Ht</span>]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[<span class="id" title="var">S</span> [<span class="id" title="var">ds'</span> [<span class="id" title="var">W</span> [<span class="id" title="var">T''</span> [<span class="id" title="var">r0</span> [<span class="id" title="var">A</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [-&gt; [[= -&gt;] [? ?]]]]]]]]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[? [? [? [? [? [? [? [[= -&gt;] [-&gt; ?]]]]]]]]]]]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PreciseFlow.html#pf_sngl_U"><span class="id" title="lemma">pf_sngl_U</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [=].<br/>
&nbsp;&nbsp;- <span class="id" title="var">inversions</span> <span class="id" title="var">Hq</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="PreciseFlow.html#pf_bnd_T"><span class="id" title="lemma">pf_bnd_T</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#typed_path_lookup_helper_obj"><span class="id" title="lemma">typed_path_lookup_helper_obj</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hpq</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CanonicalForms.html#typ_to_lookup1"><span class="id" title="lemma">typ_to_lookup1</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">t</span> <span class="id" title="var">Hs'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Binding.html#typed_paths_named"><span class="id" title="lemma">typed_paths_named</span></a> (<a class="idref" href="PreciseFlow.html#precise_to_general"><span class="id" title="lemma">precise_to_general</span></a> <span class="id" title="var">H</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">qx</span> [<span class="id" title="var">qbs</span> -&gt;]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CanonicalForms.html#lookup_step_preservation_prec1"><span class="id" title="lemma">lookup_step_preservation_prec1</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hs'</span> <span class="id" title="var">H</span> <span class="id" title="constructor">eq_refl</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[<span class="id" title="var">S</span> [<span class="id" title="var">u</span> [-&gt; <span class="id" title="var">Ht</span>]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[<span class="id" title="var">S</span> [<span class="id" title="var">ds'</span> [<span class="id" title="var">W</span> [<span class="id" title="var">T''</span> [<span class="id" title="var">r0</span> [<span class="id" title="var">A</span> [<span class="id" title="var">G1</span> [<span class="id" title="var">G2</span> [<span class="id" title="var">pT</span> [-&gt; [[= -&gt;] [? ?]]]]]]]]]]]] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[? [? [? [? [? [? [? [[= -&gt;] [-&gt; ?]]]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>. <span class="id" title="var">proof_recipe</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Sequences.html#star_trans"><span class="id" title="lemma">star_trans</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hs</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="Sequences.html#star_one"><span class="id" title="lemma">star_one</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="typed_path_lookup3_typ" class="idref" href="#typed_path_lookup3_typ"><span class="id" title="lemma">typed_path_lookup3_typ</span></a> <a id="G:289" class="idref" href="#G:289"><span class="id" title="binder">G</span></a> <a id="1b909fee07ef089b6c1dc63323fa0434" class="idref" href="#1b909fee07ef089b6c1dc63323fa0434"><span class="id" title="binder">γ</span></a> <a id="p:291" class="idref" href="#p:291"><span class="id" title="binder">p</span></a> <a id="A:292" class="idref" href="#A:292"><span class="id" title="binder">A</span></a> <a id="T:293" class="idref" href="#T:293"><span class="id" title="binder">T</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:289"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:289"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#1b909fee07ef089b6c1dc63323fa0434"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:289"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:289"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#p:291"><span class="id" title="variable">p</span></a><a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><a class="idref" href="CanonicalForms.html#A:292"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="CanonicalForms.html#T:293"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="CanonicalForms.html#T:293"><span class="id" title="variable">T</span></a><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a>  <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="v:294" class="idref" href="#v:294"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#1b909fee07ef089b6c1dc63323fa0434"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟦</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#p:291"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⤳*</span></a> <a class="idref" href="Definitions.html#defv"><span class="id" title="constructor">defv</span></a> <a class="idref" href="CanonicalForms.html#v:294"><span class="id" title="variable">v</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟧</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hin</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hppp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hpp</span>: (<a class="idref" href="PreciseTyping.html#last_path_typ"><span class="id" title="lemma">last_path_typ</span></a> <span class="id" title="var">Hin</span> <span class="id" title="var">Hppp</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpp</span> | [<span class="id" title="var">q</span> [<span class="id" title="var">Hpq</span> <span class="id" title="var">Hqpp</span>]]].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="PreciseTyping.html#pt2_to_pf"><span class="id" title="lemma">pt2_to_pf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpp</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">U</span> <span class="id" title="var">Hpp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="PreciseFlow.html#pf_bnd_T2"><span class="id" title="lemma">pf_bnd_T2</span></a> <span class="id" title="var">Hin</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hpp</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Heq</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">U0</span> <span class="id" title="var">Heq</span>]. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PreciseFlow.html#pf_reset"><span class="id" title="lemma">pf_reset</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="CanonicalForms.html#typed_path_lookup3_obj"><span class="id" title="lemma">typed_path_lookup3_obj</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="PreciseTyping.html#pt2_to_pf"><span class="id" title="lemma">pt2_to_pf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hqpp</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hqpp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">U</span> <span class="id" title="var">Hqpp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="PreciseFlow.html#pf_bnd_T2"><span class="id" title="lemma">pf_bnd_T2</span></a> <span class="id" title="var">Hin</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hqpp</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Heq</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">U0</span> <span class="id" title="var">Heq</span>]. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="PreciseFlow.html#pf_reset"><span class="id" title="lemma">pf_reset</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hqpp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hqppp</span>: <span class="id" title="var">G</span> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <span class="id" title="var">q</span> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#57e8a3f1aebb1c6069654ec2f0cd7a19"><span class="id" title="notation">μ</span></a> <span class="id" title="var">U0</span>). { <span class="id" title="tactic">apply</span> <a class="idref" href="PreciseTyping.html#pt3"><span class="id" title="constructor">pt3</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#pt2"><span class="id" title="constructor">pt2</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">H0</span>: (<a class="idref" href="CanonicalForms.html#typed_path_lookup3_obj"><span class="id" title="lemma">typed_path_lookup3_obj</span></a> <span class="id" title="var">Hin</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hqppp</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span> <span class="id" title="var">Hqv</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Lpq</span>: (<a class="idref" href="CanonicalForms.html#typed_path_lookup_helper_obj"><span class="id" title="lemma">typed_path_lookup_helper_obj</span></a> <span class="id" title="var">Hin</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hpq</span> <span class="id" title="var">Hqpp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Sequences.html#star_trans"><span class="id" title="lemma">star_trans</span></a>. <span class="id" title="tactic">exact</span> <span class="id" title="var">Lpq</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">Hqv</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If a path has a III-level function type then the path can be
    looked up in the value environment in a finite number of steps
    to a value of the same type. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="corresponding_types_fun" class="idref" href="#corresponding_types_fun"><span class="id" title="lemma">corresponding_types_fun</span></a>: <span class="id" title="keyword">∀</span> <a id="G:295" class="idref" href="#G:295"><span class="id" title="binder">G</span></a> <a id="8666b16a13d3c593e8c47686b363ba7e" class="idref" href="#8666b16a13d3c593e8c47686b363ba7e"><span class="id" title="binder">γ</span></a> <a id="p:297" class="idref" href="#p:297"><span class="id" title="binder">p</span></a> <a id="S:298" class="idref" href="#S:298"><span class="id" title="binder">S</span></a> <a id="T:299" class="idref" href="#T:299"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:295"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:295"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#8666b16a13d3c593e8c47686b363ba7e"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:295"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:295"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#p:297"><span class="id" title="variable">p</span></a><a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">∀(</span></a><a class="idref" href="CanonicalForms.html#S:298"><span class="id" title="variable">S</span></a><a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">)</span></a> <a class="idref" href="CanonicalForms.html#T:299"><span class="id" title="variable">T</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">∃</span> <a id="v:300" class="idref" href="#v:300"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#8666b16a13d3c593e8c47686b363ba7e"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟦</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#p:297"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⤳*</span></a> <a class="idref" href="Definitions.html#defv"><span class="id" title="constructor">defv</span></a> <a class="idref" href="CanonicalForms.html#v:300"><span class="id" title="variable">v</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟧</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:295"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_val"><span class="id" title="constructor">trm_val</span></a> <a class="idref" href="CanonicalForms.html#v:300"><span class="id" title="variable">v</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">∀(</span></a><a class="idref" href="CanonicalForms.html#S:298"><span class="id" title="variable">S</span></a><a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">)</span></a> <a class="idref" href="CanonicalForms.html#T:299"><span class="id" title="variable">T</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CanonicalForms.html#typed_path_lookup3"><span class="id" title="lemma">typed_path_lookup3</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span> <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Ht</span>: (<a class="idref" href="CanonicalForms.html#lookup_preservation_forall"><span class="id" title="lemma">lookup_preservation_forall</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hs</span> (<a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a> <span class="id" title="var">Hp</span>)). <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;<span class="comment">(**&nbsp;If&nbsp;a&nbsp;path&nbsp;has&nbsp;a&nbsp;III-level&nbsp;object&nbsp;type&nbsp;then&nbsp;the&nbsp;path&nbsp;can&nbsp;be&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;looked&nbsp;up&nbsp;in&nbsp;the&nbsp;value&nbsp;environment&nbsp;in&nbsp;a&nbsp;finite&nbsp;number&nbsp;of&nbsp;steps&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;a&nbsp;value&nbsp;of&nbsp;the&nbsp;same&nbsp;type.&nbsp;*)</span>&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Lemma&nbsp;corresponding_types_obj:&nbsp;forall&nbsp;G&nbsp;γ&nbsp;p&nbsp;T,&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inert&nbsp;G&nbsp;-&gt;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wf&nbsp;G&nbsp;-&gt;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;γ&nbsp;⫶&nbsp;G&nbsp;-&gt;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;⊢!!!&nbsp;p:&nbsp;μ&nbsp;T&nbsp;-&gt;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(exists&nbsp;v,&nbsp;γ&nbsp;⟦&nbsp;defp&nbsp;p&nbsp;⤳*&nbsp;defv&nbsp;v&nbsp;⟧&nbsp;/\&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;⊢&nbsp;trm_val&nbsp;v&nbsp;:&nbsp;μ&nbsp;T).&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Proof.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;introv&nbsp;Hi&nbsp;Hwf&nbsp;Hwt&nbsp;Hp.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;destruct&nbsp;(typed_path_lookup3_obj&nbsp;Hi&nbsp;Hwf&nbsp;Hwt&nbsp;Hp)&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">v</span></span> <span class="inlinecode"><span class="id" title="var">Hs</span></span>.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;lets&nbsp;Ht:&nbsp;(lookup_preservation_forall&nbsp;Hi&nbsp;Hwf&nbsp;Hwt&nbsp;Hs&nbsp;(precise_to_general3&nbsp;Hp)).&nbsp;eauto.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Qed.&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
<a id="lab82"></a><h2 class="section">Canonical Forms for Functions (Lemma 5.5)</h2>
 If a path has a function type then it can be looked up in the value environment
    in a finite number of steps to a function that has the same function type. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="canonical_forms_fun" class="idref" href="#canonical_forms_fun"><span class="id" title="lemma">canonical_forms_fun</span></a>: <span class="id" title="keyword">∀</span> <a id="G:301" class="idref" href="#G:301"><span class="id" title="binder">G</span></a> <a id="4d4e751fba21a24f0e321be7215006f7" class="idref" href="#4d4e751fba21a24f0e321be7215006f7"><span class="id" title="binder">γ</span></a> <a id="p:303" class="idref" href="#p:303"><span class="id" title="binder">p</span></a> <a id="T:304" class="idref" href="#T:304"><span class="id" title="binder">T</span></a> <a id="U:305" class="idref" href="#U:305"><span class="id" title="binder">U</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:301"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:301"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#4d4e751fba21a24f0e321be7215006f7"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:301"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:301"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_path"><span class="id" title="constructor">trm_path</span></a> <a class="idref" href="CanonicalForms.html#p:303"><span class="id" title="variable">p</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">∀(</span></a><a class="idref" href="CanonicalForms.html#T:304"><span class="id" title="variable">T</span></a><a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">)</span></a> <a class="idref" href="CanonicalForms.html#U:305"><span class="id" title="variable">U</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">∃</span> <a id="L:306" class="idref" href="#L:306"><span class="id" title="binder">L</span></a> <a id="T':307" class="idref" href="#T':307"><span class="id" title="binder">T'</span></a> <a id="t:308" class="idref" href="#t:308"><span class="id" title="binder">t</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#4d4e751fba21a24f0e321be7215006f7"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟦</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#p:303"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⤳*</span></a> <a class="idref" href="Definitions.html#defv"><span class="id" title="constructor">defv</span></a> (<a class="idref" href="Definitions.html#d9cc4b8b9bd644016bdfcf5f8009b5b6"><span class="id" title="notation">λ</span></a><a class="idref" href="Definitions.html#d9cc4b8b9bd644016bdfcf5f8009b5b6"><span class="id" title="notation">(</span></a><a class="idref" href="CanonicalForms.html#T':307"><span class="id" title="variable">T'</span></a><a class="idref" href="Definitions.html#d9cc4b8b9bd644016bdfcf5f8009b5b6"><span class="id" title="notation">)</span></a> <a class="idref" href="CanonicalForms.html#t:308"><span class="id" title="variable">t</span></a>) <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟧</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:301"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#d77433d9a5f06bee50380b6ca9a3f271"><span class="id" title="notation">⊢</span></a> <a class="idref" href="CanonicalForms.html#T:304"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#d77433d9a5f06bee50380b6ca9a3f271"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="CanonicalForms.html#T':307"><span class="id" title="variable">T'</span></a> <span class="id" title="notation">∧</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">∀</span> <a id="y:309" class="idref" href="#y:309"><span class="id" title="binder">y</span></a>, <a class="idref" href="CanonicalForms.html#y:309"><span class="id" title="variable">y</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="CanonicalForms.html#L:306"><span class="id" title="variable">L</span></a> <span class="id" title="notation">→</span> <a class="idref" href="CanonicalForms.html#G:301"><span class="id" title="variable">G</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="CanonicalForms.html#y:309"><span class="id" title="variable">y</span></a> <span class="id" title="notation">~</span> <a class="idref" href="CanonicalForms.html#T:304"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#open_trm"><span class="id" title="definition">open_trm</span></a> <a class="idref" href="CanonicalForms.html#y:309"><span class="id" title="variable">y</span></a> <a class="idref" href="CanonicalForms.html#t:308"><span class="id" title="variable">t</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#open_typ"><span class="id" title="definition">open_typ</span></a> <a class="idref" href="CanonicalForms.html#y:309"><span class="id" title="variable">y</span></a> <a class="idref" href="CanonicalForms.html#U:305"><span class="id" title="variable">U</span></a><span class="id" title="notation">)</span><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hin</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hty</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="GeneralToTight.html#path_typ_all_to_precise"><span class="id" title="lemma">path_typ_all_to_precise</span></a> <span class="id" title="var">Hin</span> <span class="id" title="var">Hty</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">L</span> [<span class="id" title="var">S</span> [<span class="id" title="var">T'</span> [<span class="id" title="var">Hp</span> [<span class="id" title="var">Hs1</span> <span class="id" title="var">Hs2</span>]]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CanonicalForms.html#corresponding_types_fun"><span class="id" title="lemma">corresponding_types_fun</span></a> <span class="id" title="var">Hin</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span> [<span class="id" title="var">P</span> <span class="id" title="var">Hv</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="GeneralToTight.html#val_typ_all_to_lambda"><span class="id" title="lemma">val_typ_all_to_lambda</span></a> <span class="id" title="var">Hin</span> <span class="id" title="var">Hv</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">L'</span> [<span class="id" title="var">S'</span> [<span class="id" title="var">t</span> [<span class="id" title="var">Heq</span> [<span class="id" title="var">Hs1'</span> <span class="id" title="var">Hs2'</span>]]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="var">L'</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">(</span><span class="id" title="axiom">dom</span> <span class="id" title="var">G</span><span class="id" title="notation">)</span>) <span class="id" title="var">S'</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>~.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Definitions.html#subtyp_trans"><span class="id" title="constructor">subtyp_trans</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HL</span>: <span class="id" title="var">y</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HL'</span>: <span class="id" title="var">y</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L'</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hs2</span> <span class="id" title="var">y</span> <span class="id" title="var">HL</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hs2'</span> <span class="id" title="var">y</span> <span class="id" title="var">HL'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Narrowing.html#narrow_typing"><span class="id" title="lemma">narrow_typing</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">G'</span>:=<span class="id" title="var">G</span> <span class="id" title="notation">&amp;</span> <span class="id" title="var">y</span> <span class="id" title="notation">~</span> <span class="id" title="var">T</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hs2'</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Definitions.html#ty_sub"><span class="id" title="constructor">ty_sub</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="canonical_forms_obj" class="idref" href="#canonical_forms_obj"><span class="id" title="lemma">canonical_forms_obj</span></a> : <span class="id" title="keyword">∀</span> <a id="0d18cbb5f70e6bbf8e6dadd6c825e572" class="idref" href="#0d18cbb5f70e6bbf8e6dadd6c825e572"><span class="id" title="binder">γ</span></a> <a id="G:311" class="idref" href="#G:311"><span class="id" title="binder">G</span></a> <a id="p:312" class="idref" href="#p:312"><span class="id" title="binder">p</span></a> <a id="r0:313" class="idref" href="#r0:313"><span class="id" title="binder">r0</span></a> <a id="A:314" class="idref" href="#A:314"><span class="id" title="binder">A</span></a> <a id="T:315" class="idref" href="#T:315"><span class="id" title="binder">T</span></a> <a id="U:316" class="idref" href="#U:316"><span class="id" title="binder">U</span></a> <a id="ds:317" class="idref" href="#ds:317"><span class="id" title="binder">ds</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:311"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:311"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#0d18cbb5f70e6bbf8e6dadd6c825e572"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:311"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#0d18cbb5f70e6bbf8e6dadd6c825e572"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟦</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#p:312"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⤳*</span></a> <a class="idref" href="Definitions.html#defv"><span class="id" title="constructor">defv</span></a> (<a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">ν</span></a><a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">[</span></a><a class="idref" href="CanonicalForms.html#r0:313"><span class="id" title="variable">r0</span></a><a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">↘</span></a><a class="idref" href="CanonicalForms.html#A:314"><span class="id" title="variable">A</span></a><a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">](</span></a><a class="idref" href="CanonicalForms.html#T:315"><span class="id" title="variable">T</span></a><a class="idref" href="Definitions.html#fb8fa075fb63e32f0a950a9184c4daef"><span class="id" title="notation">)</span></a><a class="idref" href="CanonicalForms.html#ds:317"><span class="id" title="variable">ds</span></a>) <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟧</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:311"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_path"><span class="id" title="constructor">trm_path</span></a> <a class="idref" href="CanonicalForms.html#p:312"><span class="id" title="variable">p</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#U:316"><span class="id" title="variable">U</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:311"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_path"><span class="id" title="constructor">trm_path</span></a> <a class="idref" href="CanonicalForms.html#p:312"><span class="id" title="variable">p</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#open_path_p"><span class="id" title="definition">open_path_p</span></a> <a class="idref" href="CanonicalForms.html#p:312"><span class="id" title="variable">p</span></a> <a class="idref" href="CanonicalForms.html#r0:313"><span class="id" title="variable">r0</span></a> <a class="idref" href="Definitions.html#56a240108deb0dfbaeb49e48db859cf7"><span class="id" title="notation">↓</span></a> <a class="idref" href="CanonicalForms.html#A:314"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Check</span> <a class="idref" href="CanonicalForms.html#lookup_preservation_prec2_obj"><span class="id" title="lemma">lookup_preservation_prec2_obj</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hin</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hppp</span>: (<a class="idref" href="GeneralToTight.html#pt3_exists"><span class="id" title="lemma">pt3_exists</span></a> <span class="id" title="var">Hin</span> <span class="id" title="var">Hp</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hppp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">U'</span> <span class="id" title="var">Hppp</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hpp</span>: (<a class="idref" href="PreciseTyping.html#pt2_exists"><span class="id" title="lemma">pt2_exists</span></a> <span class="id" title="var">Hppp</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">U''</span> <span class="id" title="var">Hpp</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Check</span> <a class="idref" href="CanonicalForms.html#lookup_preservation_prec2_obj"><span class="id" title="lemma">lookup_preservation_prec2_obj</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hlp</span>: (<a class="idref" href="CanonicalForms.html#lookup_preservation_prec2_obj"><span class="id" title="lemma">lookup_preservation_prec2_obj</span></a> <span class="id" title="var">Hin</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hpp</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="path_sel_implies_typed_path" class="idref" href="#path_sel_implies_typed_path"><span class="id" title="lemma">path_sel_implies_typed_path</span></a>: <span class="id" title="keyword">∀</span> <a id="G:318" class="idref" href="#G:318"><span class="id" title="binder">G</span></a> <a id="p:319" class="idref" href="#p:319"><span class="id" title="binder">p</span></a> <a id="q:320" class="idref" href="#q:320"><span class="id" title="binder">q</span></a> <a id="A:321" class="idref" href="#A:321"><span class="id" title="binder">A</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:318"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:318"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_path"><span class="id" title="constructor">trm_path</span></a> <a class="idref" href="CanonicalForms.html#p:319"><span class="id" title="variable">p</span></a><a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#q:320"><span class="id" title="variable">q</span></a> <a class="idref" href="Definitions.html#56a240108deb0dfbaeb49e48db859cf7"><span class="id" title="notation">↓</span></a> <a class="idref" href="CanonicalForms.html#A:321"><span class="id" title="variable">A</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="T:322" class="idref" href="#T:322"><span class="id" title="binder">T</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#G:318"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="CanonicalForms.html#q:320"><span class="id" title="variable">q</span></a><a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><a class="idref" href="CanonicalForms.html#A:321"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="CanonicalForms.html#T:322"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="CanonicalForms.html#T:322"><span class="id" title="variable">T</span></a><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hin</span> <span class="id" title="var">Hsel</span>. <span class="id" title="var">proof_recipe</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hr</span>: <a class="idref" href="ReplacementTyping.html#path_sel_repl_inv'"><span class="id" title="lemma">path_sel_repl_inv'</span></a> <span class="id" title="var">Hin</span> <span class="id" title="var">Hsel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_all</span>. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="typeable_path_sel_lookup_terminate" class="idref" href="#typeable_path_sel_lookup_terminate"><span class="id" title="lemma">typeable_path_sel_lookup_terminate</span></a>: <span class="id" title="keyword">∀</span> <a id="5b7f509505f04cd0272fe77dc999b212" class="idref" href="#5b7f509505f04cd0272fe77dc999b212"><span class="id" title="binder">γ</span></a> <a id="G:324" class="idref" href="#G:324"><span class="id" title="binder">G</span></a> <a id="p:325" class="idref" href="#p:325"><span class="id" title="binder">p</span></a> <a id="q:326" class="idref" href="#q:326"><span class="id" title="binder">q</span></a> <a id="A:327" class="idref" href="#A:327"><span class="id" title="binder">A</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:324"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:324"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#5b7f509505f04cd0272fe77dc999b212"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:324"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:324"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_path"><span class="id" title="constructor">trm_path</span></a> <a class="idref" href="CanonicalForms.html#p:325"><span class="id" title="variable">p</span></a><a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#q:326"><span class="id" title="variable">q</span></a> <a class="idref" href="Definitions.html#56a240108deb0dfbaeb49e48db859cf7"><span class="id" title="notation">↓</span></a> <a class="idref" href="CanonicalForms.html#A:327"><span class="id" title="variable">A</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="v:328" class="idref" href="#v:328"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#5b7f509505f04cd0272fe77dc999b212"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟦</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#q:326"><span class="id" title="variable">q</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⤳*</span></a> <a class="idref" href="Definitions.html#defv"><span class="id" title="constructor">defv</span></a> <a class="idref" href="CanonicalForms.html#v:328"><span class="id" title="variable">v</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟧</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hin</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hqppp</span>: (<a class="idref" href="CanonicalForms.html#path_sel_implies_typed_path"><span class="id" title="lemma">path_sel_implies_typed_path</span></a> <span class="id" title="var">Hin</span> <span class="id" title="var">Ht</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hqppp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> <span class="id" title="var">Hqppp</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="CanonicalForms.html#typed_path_lookup3_typ"><span class="id" title="lemma">typed_path_lookup3_typ</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="resolve_path_lookup_helper" class="idref" href="#resolve_path_lookup_helper"><span class="id" title="lemma">resolve_path_lookup_helper</span></a>: <span class="id" title="keyword">∀</span> <a id="ff4c8a25bbe22de1d18681c52411cb3f" class="idref" href="#ff4c8a25bbe22de1d18681c52411cb3f"><span class="id" title="binder">γ</span></a> <a id="p:330" class="idref" href="#p:330"><span class="id" title="binder">p</span></a> <a id="v:331" class="idref" href="#v:331"><span class="id" title="binder">v</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#ff4c8a25bbe22de1d18681c52411cb3f"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟦</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#p:330"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⤳*</span></a> <a class="idref" href="Definitions.html#defv"><span class="id" title="constructor">defv</span></a> <a class="idref" href="CanonicalForms.html#v:331"><span class="id" title="variable">v</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟧</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="q:332" class="idref" href="#q:332"><span class="id" title="binder">q</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#ff4c8a25bbe22de1d18681c52411cb3f"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟦</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#p:330"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⤳*</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#q:332"><span class="id" title="variable">q</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟧</span></a> <span class="id" title="notation">∧</span> <a class="idref" href="CanonicalForms.html#ff4c8a25bbe22de1d18681c52411cb3f"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟦</span></a> <a class="idref" href="CanonicalForms.html#q:332"><span class="id" title="variable">q</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⤳</span></a> <a class="idref" href="Definitions.html#defv"><span class="id" title="constructor">defv</span></a> <a class="idref" href="CanonicalForms.html#v:331"><span class="id" title="variable">v</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟧</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHl</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="constructor">eq_refl</span> <span class="id" title="constructor">eq_refl</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHHl</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">q</span> [<span class="id" title="var">IH1</span> <span class="id" title="var">IH2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">lets</span> <span class="id" title="var">Heq</span>: (<a class="idref" href="Lookup.html#lookup_val_inv"><span class="id" title="lemma">lookup_val_inv</span></a> <span class="id" title="var">Hl</span>). <span class="id" title="var">inversions</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="resolve_typeable_path_sel" class="idref" href="#resolve_typeable_path_sel"><span class="id" title="lemma">resolve_typeable_path_sel</span></a>: <span class="id" title="keyword">∀</span> <a id="a0b6a6c8868115460207663aba6293d6" class="idref" href="#a0b6a6c8868115460207663aba6293d6"><span class="id" title="binder">γ</span></a> <a id="G:334" class="idref" href="#G:334"><span class="id" title="binder">G</span></a> <a id="p:335" class="idref" href="#p:335"><span class="id" title="binder">p</span></a> <a id="q:336" class="idref" href="#q:336"><span class="id" title="binder">q</span></a> <a id="A:337" class="idref" href="#A:337"><span class="id" title="binder">A</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:334"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:334"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#a0b6a6c8868115460207663aba6293d6"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:334"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:334"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_path"><span class="id" title="constructor">trm_path</span></a> <a class="idref" href="CanonicalForms.html#p:335"><span class="id" title="variable">p</span></a><a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#q:336"><span class="id" title="variable">q</span></a> <a class="idref" href="Definitions.html#56a240108deb0dfbaeb49e48db859cf7"><span class="id" title="notation">↓</span></a> <a class="idref" href="CanonicalForms.html#A:337"><span class="id" title="variable">A</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">∃</span> <a id="v:338" class="idref" href="#v:338"><span class="id" title="binder">v</span></a> <a id="r:339" class="idref" href="#r:339"><span class="id" title="binder">r</span></a><span class="id" title="notation">,</span> <a class="idref" href="CanonicalForms.html#a0b6a6c8868115460207663aba6293d6"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟦</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#q:336"><span class="id" title="variable">q</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⤳*</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#r:339"><span class="id" title="variable">r</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟧</span></a> <span class="id" title="notation">∧</span> <a class="idref" href="CanonicalForms.html#a0b6a6c8868115460207663aba6293d6"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟦</span></a> <a class="idref" href="CanonicalForms.html#r:339"><span class="id" title="variable">r</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⤳</span></a> <a class="idref" href="Definitions.html#defv"><span class="id" title="constructor">defv</span></a> <a class="idref" href="CanonicalForms.html#v:338"><span class="id" title="variable">v</span></a> <a class="idref" href="Lookup.html#8cc79fc5d6dbc3a1ff519f58bcbc908b"><span class="id" title="notation">⟧</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hin</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">HT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">H</span>: (<a class="idref" href="CanonicalForms.html#typeable_path_sel_lookup_terminate"><span class="id" title="lemma">typeable_path_sel_lookup_terminate</span></a> <span class="id" title="var">Hin</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">HT</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="CanonicalForms.html#resolve_path_lookup_helper"><span class="id" title="lemma">resolve_path_lookup_helper</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="path_lookup_implies_sngl_typing" class="idref" href="#path_lookup_implies_sngl_typing"><span class="id" title="lemma">path_lookup_implies_sngl_typing</span></a>: <span class="id" title="keyword">∀</span> <a id="7f0c503167100de44ce661b269dbb054" class="idref" href="#7f0c503167100de44ce661b269dbb054"><span class="id" title="binder">γ</span></a> <a id="G:341" class="idref" href="#G:341"><span class="id" title="binder">G</span></a> <a id="p:342" class="idref" href="#p:342"><span class="id" title="binder">p</span></a> <a id="q:343" class="idref" href="#q:343"><span class="id" title="binder">q</span></a> <a id="T1:344" class="idref" href="#T1:344"><span class="id" title="binder">T1</span></a> <a id="T2:345" class="idref" href="#T2:345"><span class="id" title="binder">T2</span></a> <a id="r:346" class="idref" href="#r:346"><span class="id" title="binder">r</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="CanonicalForms.html#G:341"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="PreciseTyping.html#wf"><span class="id" title="inductive">wf</span></a> <a class="idref" href="CanonicalForms.html#G:341"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#7f0c503167100de44ce661b269dbb054"><span class="id" title="variable">γ</span></a> <a class="idref" href="Definitions.html#3d0e0e057bcbfdd590f754a27815747e"><span class="id" title="notation">⫶</span></a> <a class="idref" href="CanonicalForms.html#G:341"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:341"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_path"><span class="id" title="constructor">trm_path</span></a> <a class="idref" href="CanonicalForms.html#p:342"><span class="id" title="variable">p</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#T1:344"><span class="id" title="variable">T1</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:341"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_path"><span class="id" title="constructor">trm_path</span></a> <a class="idref" href="CanonicalForms.html#q:343"><span class="id" title="variable">q</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="CanonicalForms.html#T2:345"><span class="id" title="variable">T2</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#7f0c503167100de44ce661b269dbb054"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟦</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#p:342"><span class="id" title="variable">p</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⤳*</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#r:346"><span class="id" title="variable">r</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟧</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#7f0c503167100de44ce661b269dbb054"><span class="id" title="variable">γ</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟦</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#q:343"><span class="id" title="variable">q</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⤳*</span></a> <a class="idref" href="Definitions.html#defp"><span class="id" title="constructor">defp</span></a> <a class="idref" href="CanonicalForms.html#r:346"><span class="id" title="variable">r</span></a> <a class="idref" href="Lookup.html#ec3bbb547a98649fb30ac24026f522c9"><span class="id" title="notation">⟧</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;<a class="idref" href="CanonicalForms.html#G:341"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_path"><span class="id" title="constructor">trm_path</span></a> <a class="idref" href="CanonicalForms.html#p:342"><span class="id" title="variable">p</span></a><a class="idref" href="Definitions.html#8f800003c5c18bd4e5a8078841b62512"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a><a class="idref" href="CanonicalForms.html#q:343"><span class="id" title="variable">q</span></a><a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hin</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hpg</span> <span class="id" title="var">Hqg</span> <span class="id" title="var">Hpr</span> <span class="id" title="var">Hqr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hpp</span>: (<a class="idref" href="GeneralToTight.html#pt3_exists"><span class="id" title="lemma">pt3_exists</span></a> <span class="id" title="var">Hin</span> <span class="id" title="var">Hpg</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">U1</span> <span class="id" title="var">Hp</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hqp</span>: (<a class="idref" href="GeneralToTight.html#pt3_exists"><span class="id" title="lemma">pt3_exists</span></a> <span class="id" title="var">Hin</span> <span class="id" title="var">Hqg</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hqp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">U2</span> <span class="id" title="var">Hq</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hprs</span>: (<a class="idref" href="CanonicalForms.html#lookup_sngl"><span class="id" title="lemma">lookup_sngl</span></a> <span class="id" title="var">Hin</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hpr</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hqrs</span>: (<a class="idref" href="CanonicalForms.html#lookup_sngl"><span class="id" title="lemma">lookup_sngl</span></a> <span class="id" title="var">Hin</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hq</span> <span class="id" title="var">Hqr</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hprs</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hqrs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Definitions.html#ty_self"><span class="id" title="constructor">ty_self</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Definitions.html#ty_sub"><span class="id" title="constructor">ty_sub</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">T</span>:=<a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a><span class="id" title="var">r</span><a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>~ <a class="idref" href="Definitions.html#ty_self"><span class="id" title="constructor">ty_self</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>~ <a class="idref" href="Definitions.html#subtyp_sngl_qp"><span class="id" title="constructor">subtyp_sngl_qp</span></a>. <span class="id" title="tactic">exact</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Replacement.html#repl_intro_sngl"><span class="id" title="lemma">repl_intro_sngl</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">lets</span> <span class="id" title="var">Hpres</span>: (<a class="idref" href="CanonicalForms.html#lookup_pres"><span class="id" title="lemma">lookup_pres</span></a> <span class="id" title="var">Hin</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hpr</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpres</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">U</span> <span class="id" title="var">Hr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Definitions.html#ty_sub"><span class="id" title="constructor">ty_sub</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">T</span>:=<a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a><span class="id" title="var">r</span><a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>~ <a class="idref" href="Definitions.html#subtyp_sngl_qp"><span class="id" title="constructor">subtyp_sngl_qp</span></a>. <span class="id" title="tactic">exact</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Replacement.html#repl_intro_sngl"><span class="id" title="lemma">repl_intro_sngl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
