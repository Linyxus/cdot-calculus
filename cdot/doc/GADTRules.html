<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="assets/resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="assets/resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="assets/resources/config.js"></script>
<script type="text/javascript" src="assets/resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">GADTRules</h1>

<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Coq.Program.Equality</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Definitions.html#"><span class="id" title="library">Definitions</span></a> <a class="idref" href="TightTyping.html#"><span class="id" title="library">TightTyping</span></a> <a class="idref" href="SemanticSubtyping.html#"><span class="id" title="library">SemanticSubtyping</span></a> <a class="idref" href="PreciseTyping.html#"><span class="id" title="library">PreciseTyping</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Replacement.html#"><span class="id" title="library">Replacement</span></a> <a class="idref" href="Binding.html#"><span class="id" title="library">Binding</span></a> <a class="idref" href="Narrowing.html#"><span class="id" title="library">Narrowing</span></a> <a class="idref" href="Subenvironments.html#"><span class="id" title="library">Subenvironments</span></a> <a class="idref" href="Weakening.html#"><span class="id" title="library">Weakening</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inv_repl_typ_rcd</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="Definitions.html#repl_typ"><span class="id" title="inductive">repl_typ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inv_repl_typ_rec</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="Definitions.html#repl_typ"><span class="id" title="inductive">repl_typ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="Definitions.html#typ_bnd"><span class="id" title="constructor">typ_bnd</span></a> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inv_repl_dec</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="Definitions.html#repl_dec"><span class="id" title="inductive">repl_dec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inv_repl_typ_rcd_full</span> := <span class="id" title="var">inv_repl_typ_rcd</span>; <span class="id" title="var">inv_repl_dec</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inv_repl_typ_all</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="Definitions.html#repl_typ"><span class="id" title="inductive">repl_typ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subtyp_sngl_pq1_t" class="idref" href="#subtyp_sngl_pq1_t"><span class="id" title="lemma">subtyp_sngl_pq1_t</span></a> : <span class="id" title="keyword">∀</span> <a id="G:1" class="idref" href="#G:1"><span class="id" title="binder">G</span></a> <a id="p:2" class="idref" href="#p:2"><span class="id" title="binder">p</span></a> <a id="q:3" class="idref" href="#q:3"><span class="id" title="binder">q</span></a> <a id="S:4" class="idref" href="#S:4"><span class="id" title="binder">S</span></a> <a id="S':5" class="idref" href="#S':5"><span class="id" title="binder">S'</span></a> <a id="T:6" class="idref" href="#T:6"><span class="id" title="binder">T</span></a> <a id="U:7" class="idref" href="#U:7"><span class="id" title="binder">U</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:1"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="GADTRules.html#p:2"><span class="id" title="variable">p</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="GADTRules.html#q:3"><span class="id" title="variable">q</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:1"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="GADTRules.html#q:3"><span class="id" title="variable">q</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="GADTRules.html#U:7"><span class="id" title="variable">U</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:1"><span class="id" title="variable">G</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <a class="idref" href="GADTRules.html#S:4"><span class="id" title="variable">S</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T:6"><span class="id" title="variable">T</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#repl_typ"><span class="id" title="inductive">repl_typ</span></a> <a class="idref" href="GADTRules.html#p:2"><span class="id" title="variable">p</span></a> <a class="idref" href="GADTRules.html#q:3"><span class="id" title="variable">q</span></a> <a class="idref" href="GADTRules.html#S:4"><span class="id" title="variable">S</span></a> <a class="idref" href="GADTRules.html#S':5"><span class="id" title="variable">S'</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:1"><span class="id" title="variable">G</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <a class="idref" href="GADTRules.html#S':5"><span class="id" title="variable">S'</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T:6"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hq</span> <span class="id" title="var">Hst</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Replacement.html#repl_swap"><span class="id" title="lemma">repl_swap</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">repl_swap</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">repl_swap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subtyp_sngl_pq2_t" class="idref" href="#subtyp_sngl_pq2_t"><span class="id" title="lemma">subtyp_sngl_pq2_t</span></a> : <span class="id" title="keyword">∀</span> <a id="G:8" class="idref" href="#G:8"><span class="id" title="binder">G</span></a> <a id="p:9" class="idref" href="#p:9"><span class="id" title="binder">p</span></a> <a id="q:10" class="idref" href="#q:10"><span class="id" title="binder">q</span></a> <a id="S:11" class="idref" href="#S:11"><span class="id" title="binder">S</span></a> <a id="T:12" class="idref" href="#T:12"><span class="id" title="binder">T</span></a> <a id="T':13" class="idref" href="#T':13"><span class="id" title="binder">T'</span></a> <a id="U:14" class="idref" href="#U:14"><span class="id" title="binder">U</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:8"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="GADTRules.html#p:9"><span class="id" title="variable">p</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="GADTRules.html#q:10"><span class="id" title="variable">q</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:8"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="GADTRules.html#q:10"><span class="id" title="variable">q</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="GADTRules.html#U:14"><span class="id" title="variable">U</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:8"><span class="id" title="variable">G</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <a class="idref" href="GADTRules.html#S:11"><span class="id" title="variable">S</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T:12"><span class="id" title="variable">T</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#repl_typ"><span class="id" title="inductive">repl_typ</span></a> <a class="idref" href="GADTRules.html#p:9"><span class="id" title="variable">p</span></a> <a class="idref" href="GADTRules.html#q:10"><span class="id" title="variable">q</span></a> <a class="idref" href="GADTRules.html#T:12"><span class="id" title="variable">T</span></a> <a class="idref" href="GADTRules.html#T':13"><span class="id" title="variable">T'</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:8"><span class="id" title="variable">G</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <a class="idref" href="GADTRules.html#S:11"><span class="id" title="variable">S</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T':13"><span class="id" title="variable">T'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hq</span> <span class="id" title="var">Hst</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="TightTyping.html#subtyp_trans_t"><span class="id" title="constructor">subtyp_trans_t</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hst</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subtyp_sngl_qp1_t" class="idref" href="#subtyp_sngl_qp1_t"><span class="id" title="lemma">subtyp_sngl_qp1_t</span></a> : <span class="id" title="keyword">∀</span> <a id="G:15" class="idref" href="#G:15"><span class="id" title="binder">G</span></a> <a id="p:16" class="idref" href="#p:16"><span class="id" title="binder">p</span></a> <a id="q:17" class="idref" href="#q:17"><span class="id" title="binder">q</span></a> <a id="S:18" class="idref" href="#S:18"><span class="id" title="binder">S</span></a> <a id="S':19" class="idref" href="#S':19"><span class="id" title="binder">S'</span></a> <a id="T:20" class="idref" href="#T:20"><span class="id" title="binder">T</span></a> <a id="U:21" class="idref" href="#U:21"><span class="id" title="binder">U</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:15"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="GADTRules.html#p:16"><span class="id" title="variable">p</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="GADTRules.html#q:17"><span class="id" title="variable">q</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:15"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="GADTRules.html#q:17"><span class="id" title="variable">q</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="GADTRules.html#U:21"><span class="id" title="variable">U</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:15"><span class="id" title="variable">G</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <a class="idref" href="GADTRules.html#S:18"><span class="id" title="variable">S</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T:20"><span class="id" title="variable">T</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#repl_typ"><span class="id" title="inductive">repl_typ</span></a> <a class="idref" href="GADTRules.html#q:17"><span class="id" title="variable">q</span></a> <a class="idref" href="GADTRules.html#p:16"><span class="id" title="variable">p</span></a> <a class="idref" href="GADTRules.html#S:18"><span class="id" title="variable">S</span></a> <a class="idref" href="GADTRules.html#S':19"><span class="id" title="variable">S'</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:15"><span class="id" title="variable">G</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <a class="idref" href="GADTRules.html#S':19"><span class="id" title="variable">S'</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T:20"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hq</span> <span class="id" title="var">Hst</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Replacement.html#repl_swap"><span class="id" title="lemma">repl_swap</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">repl_swap</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">repl_swap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subtyp_sngl_qp2_t" class="idref" href="#subtyp_sngl_qp2_t"><span class="id" title="lemma">subtyp_sngl_qp2_t</span></a> : <span class="id" title="keyword">∀</span> <a id="G:22" class="idref" href="#G:22"><span class="id" title="binder">G</span></a> <a id="p:23" class="idref" href="#p:23"><span class="id" title="binder">p</span></a> <a id="q:24" class="idref" href="#q:24"><span class="id" title="binder">q</span></a> <a id="S:25" class="idref" href="#S:25"><span class="id" title="binder">S</span></a> <a id="T:26" class="idref" href="#T:26"><span class="id" title="binder">T</span></a> <a id="T':27" class="idref" href="#T':27"><span class="id" title="binder">T'</span></a> <a id="U:28" class="idref" href="#U:28"><span class="id" title="binder">U</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:22"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="GADTRules.html#p:23"><span class="id" title="variable">p</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">{{</span></a> <a class="idref" href="GADTRules.html#q:24"><span class="id" title="variable">q</span></a> <a class="idref" href="Definitions.html#2e12ae37c5a5c7396a13d7170e0de451"><span class="id" title="notation">}}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:22"><span class="id" title="variable">G</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <a class="idref" href="GADTRules.html#q:24"><span class="id" title="variable">q</span></a> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <a class="idref" href="GADTRules.html#U:28"><span class="id" title="variable">U</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:22"><span class="id" title="variable">G</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <a class="idref" href="GADTRules.html#S:25"><span class="id" title="variable">S</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T:26"><span class="id" title="variable">T</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#repl_typ"><span class="id" title="inductive">repl_typ</span></a> <a class="idref" href="GADTRules.html#q:24"><span class="id" title="variable">q</span></a> <a class="idref" href="GADTRules.html#p:23"><span class="id" title="variable">p</span></a> <a class="idref" href="GADTRules.html#T:26"><span class="id" title="variable">T</span></a> <a class="idref" href="GADTRules.html#T':27"><span class="id" title="variable">T'</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:22"><span class="id" title="variable">G</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <a class="idref" href="GADTRules.html#S:25"><span class="id" title="variable">S</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T':27"><span class="id" title="variable">T'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hq</span> <span class="id" title="var">Hst</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="TightTyping.html#subtyp_trans_t"><span class="id" title="constructor">subtyp_trans_t</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hst</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="invert_subtyp_typ_s" class="idref" href="#invert_subtyp_typ_s"><span class="id" title="lemma">invert_subtyp_typ_s</span></a> : <span class="id" title="keyword">∀</span> <a id="G:29" class="idref" href="#G:29"><span class="id" title="binder">G</span></a> <a id="A:30" class="idref" href="#A:30"><span class="id" title="binder">A</span></a> <a id="S1:31" class="idref" href="#S1:31"><span class="id" title="binder">S1</span></a> <a id="T1:32" class="idref" href="#T1:32"><span class="id" title="binder">T1</span></a> <a id="S2:33" class="idref" href="#S2:33"><span class="id" title="binder">S2</span></a> <a id="T2:34" class="idref" href="#T2:34"><span class="id" title="binder">T2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:29"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#A:30"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="GADTRules.html#S1:31"><span class="id" title="variable">S1</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T1:32"><span class="id" title="variable">T1</span></a><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#A:30"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="GADTRules.html#S2:33"><span class="id" title="variable">S2</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T2:34"><span class="id" title="variable">T2</span></a><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:29"><span class="id" title="variable">G</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <a class="idref" href="GADTRules.html#S2:33"><span class="id" title="variable">S2</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#S1:31"><span class="id" title="variable">S1</span></a> <span class="id" title="notation">∧</span> <a class="idref" href="GADTRules.html#G:29"><span class="id" title="variable">G</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <a class="idref" href="GADTRules.html#T1:32"><span class="id" title="variable">T1</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T2:34"><span class="id" title="variable">T2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hsub</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><span class="id" title="var">A</span> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <span class="id" title="var">S1</span> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">T1</span><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">typ1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsub</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><span class="id" title="var">A</span> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <span class="id" title="var">S2</span> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">T2</span><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">typ2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsub</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">gen</span> <span class="id" title="var">S1</span> <span class="id" title="var">T1</span> <span class="id" title="var">S2</span> <span class="id" title="var">T2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hsub</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqtyp1</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqtyp2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span> <span class="id" title="var">T</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHsub</span> <span class="id" title="var">S1</span> <span class="id" title="var">T1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">assert</span> (<span class="id" title="var">G</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <span class="id" title="var">T0</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">S1</span> <span class="id" title="notation">∧</span> <span class="id" title="var">G</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <span class="id" title="var">T1</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">T2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHsub</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">S2</span> := <span class="id" title="var">T0</span>) (<span class="id" title="var">T3</span> := <span class="id" title="var">T2</span>); <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hg</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hg1</span> <span class="id" title="var">Hg2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="GADTRules.html#subtyp_sngl_pq1_t"><span class="id" title="lemma">subtyp_sngl_pq1_t</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">Hg1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">assert</span> (<span class="id" title="var">G</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <span class="id" title="var">S2</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">S1</span> <span class="id" title="notation">∧</span> <span class="id" title="var">G</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <span class="id" title="var">T1</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">T0</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHsub</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">S3</span> := <span class="id" title="var">S2</span>) (<span class="id" title="var">T2</span> := <span class="id" title="var">T0</span>); <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hg</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hg1</span> <span class="id" title="var">Hg2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHsub</span> <span class="id" title="var">S1</span> <span class="id" title="var">T1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">assert</span> (<span class="id" title="var">G</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <span class="id" title="var">T0</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">S1</span> <span class="id" title="notation">∧</span> <span class="id" title="var">G</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <span class="id" title="var">T1</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">T2</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hg1</span> <span class="id" title="var">Hg2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHsub</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">S2</span> := <span class="id" title="var">T0</span>) (<span class="id" title="var">T3</span> := <span class="id" title="var">T2</span>); <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="GADTRules.html#subtyp_sngl_qp1_t"><span class="id" title="lemma">subtyp_sngl_qp1_t</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">Hg1</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">assert</span> (<span class="id" title="var">G</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <span class="id" title="var">S2</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">S1</span> <span class="id" title="notation">∧</span> <span class="id" title="var">G</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <span class="id" title="var">T1</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">T0</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hg1</span> <span class="id" title="var">Hg2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHsub</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">S3</span> := <span class="id" title="var">S2</span>) (<span class="id" title="var">T2</span> := <span class="id" title="var">T0</span>); <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">assert</span> (<span class="id" title="var">G</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <span class="id" title="var">S2</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">T0</span> <span class="id" title="notation">∧</span> <span class="id" title="var">G</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <span class="id" title="var">T1</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">T2</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hg1</span> <span class="id" title="var">Hg2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHsub</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">S1</span> := <span class="id" title="var">T0</span>) (<span class="id" title="var">T3</span> := <span class="id" title="var">T1</span>) (<span class="id" title="var">S3</span> := <span class="id" title="var">S2</span>) (<span class="id" title="var">T4</span> := <span class="id" title="var">T2</span>); <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Replacement.html#repl_swap"><span class="id" title="lemma">repl_swap</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hs</span> <span class="id" title="var">_</span>]. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">assert</span> (<span class="id" title="var">G</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <span class="id" title="var">S2</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">S1</span> <span class="id" title="notation">∧</span> <span class="id" title="var">G</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <span class="id" title="var">T0</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">T2</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hg1</span> <span class="id" title="var">Hg2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHsub</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">S3</span> := <span class="id" title="var">S1</span>) (<span class="id" title="var">T1</span> := <span class="id" title="var">T0</span>) (<span class="id" title="var">S4</span> := <span class="id" title="var">S2</span>) (<span class="id" title="var">T3</span> := <span class="id" title="var">T2</span>); <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="Replacement.html#repl_swap"><span class="id" title="lemma">repl_swap</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hs</span> <span class="id" title="var">_</span>]. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">assert</span> (<span class="id" title="var">G</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <span class="id" title="var">S2</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">T0</span> <span class="id" title="notation">∧</span> <span class="id" title="var">G</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <span class="id" title="var">T1</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">T2</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hg1</span> <span class="id" title="var">Hg2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHsub</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">S1</span> := <span class="id" title="var">T0</span>) (<span class="id" title="var">T3</span> := <span class="id" title="var">T1</span>) (<span class="id" title="var">S3</span> := <span class="id" title="var">S2</span>) (<span class="id" title="var">T4</span> := <span class="id" title="var">T2</span>); <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Replacement.html#repl_swap"><span class="id" title="lemma">repl_swap</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hs</span> <span class="id" title="var">_</span>]. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">assert</span> (<span class="id" title="var">G</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <span class="id" title="var">S2</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">S1</span> <span class="id" title="notation">∧</span> <span class="id" title="var">G</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <span class="id" title="var">T0</span> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">T2</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hg1</span> <span class="id" title="var">Hg2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHsub</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">S3</span> := <span class="id" title="var">S1</span>) (<span class="id" title="var">T1</span> := <span class="id" title="var">T0</span>) (<span class="id" title="var">S4</span> := <span class="id" title="var">S2</span>) (<span class="id" title="var">T3</span> := <span class="id" title="var">T2</span>); <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="Replacement.html#repl_swap"><span class="id" title="lemma">repl_swap</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hs</span> <span class="id" title="var">_</span>]. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="invert_subtyp_trm_s" class="idref" href="#invert_subtyp_trm_s"><span class="id" title="lemma">invert_subtyp_trm_s</span></a> : <span class="id" title="keyword">∀</span> <a id="G:35" class="idref" href="#G:35"><span class="id" title="binder">G</span></a> <a id="a:36" class="idref" href="#a:36"><span class="id" title="binder">a</span></a> <a id="T1:37" class="idref" href="#T1:37"><span class="id" title="binder">T1</span></a> <a id="T2:38" class="idref" href="#T2:38"><span class="id" title="binder">T2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:35"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#a:36"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="GADTRules.html#T1:37"><span class="id" title="variable">T1</span></a><a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">}</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#a:36"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="GADTRules.html#T2:38"><span class="id" title="variable">T2</span></a><a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:35"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="GADTRules.html#T1:37"><span class="id" title="variable">T1</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T2:38"><span class="id" title="variable">T2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hsub</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">{</span></a><span class="id" title="var">a</span> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">⦂</span></a> <span class="id" title="var">T1</span><a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">}</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">typ1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsub</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">{</span></a><span class="id" title="var">a</span> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">⦂</span></a> <span class="id" title="var">T2</span><a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">}</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">typ2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsub</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">gen</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hsub</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Heq1</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Heq2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">subst</span> <span class="id" title="var">T</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq2</span>); <span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq2</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="var">inv_repl_typ_rcd_full</span>; <span class="id" title="tactic">eauto</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="invert_subtyp_all_s" class="idref" href="#invert_subtyp_all_s"><span class="id" title="lemma">invert_subtyp_all_s</span></a> : <span class="id" title="keyword">∀</span> <a id="G:39" class="idref" href="#G:39"><span class="id" title="binder">G</span></a> <a id="S1:40" class="idref" href="#S1:40"><span class="id" title="binder">S1</span></a> <a id="T1:41" class="idref" href="#T1:41"><span class="id" title="binder">T1</span></a> <a id="S2:42" class="idref" href="#S2:42"><span class="id" title="binder">S2</span></a> <a id="T2:43" class="idref" href="#T2:43"><span class="id" title="binder">T2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="GADTRules.html#G:39"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:39"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">∀(</span></a><a class="idref" href="GADTRules.html#S1:40"><span class="id" title="variable">S1</span></a><a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">)</span></a> <a class="idref" href="GADTRules.html#T1:41"><span class="id" title="variable">T1</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">∀(</span></a><a class="idref" href="GADTRules.html#S2:42"><span class="id" title="variable">S2</span></a><a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">)</span></a> <a class="idref" href="GADTRules.html#T2:43"><span class="id" title="variable">T2</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:39"><span class="id" title="variable">G</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <a class="idref" href="GADTRules.html#S2:42"><span class="id" title="variable">S2</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#S1:40"><span class="id" title="variable">S1</span></a> <span class="id" title="notation">∧</span> <span class="id" title="notation">(</span><span class="id" title="notation">∃</span> <a id="L:44" class="idref" href="#L:44"><span class="id" title="binder">L</span></a><span class="id" title="notation">,</span> <span class="id" title="keyword">∀</span> <a id="x:45" class="idref" href="#x:45"><span class="id" title="binder">x</span></a>, <a class="idref" href="GADTRules.html#x:45"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GADTRules.html#L:44"><span class="id" title="variable">L</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:39"><span class="id" title="variable">G</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="GADTRules.html#x:45"><span class="id" title="variable">x</span></a> <span class="id" title="notation">~</span> <a class="idref" href="GADTRules.html#S2:42"><span class="id" title="variable">S2</span></a> <a class="idref" href="Definitions.html#d77433d9a5f06bee50380b6ca9a3f271"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#open_typ"><span class="id" title="definition">open_typ</span></a> <a class="idref" href="GADTRules.html#x:45"><span class="id" title="variable">x</span></a> <a class="idref" href="GADTRules.html#T1:41"><span class="id" title="variable">T1</span></a> <a class="idref" href="Definitions.html#d77433d9a5f06bee50380b6ca9a3f271"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#open_typ"><span class="id" title="definition">open_typ</span></a> <a class="idref" href="GADTRules.html#x:45"><span class="id" title="variable">x</span></a> <a class="idref" href="GADTRules.html#T2:43"><span class="id" title="variable">T2</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">H0</span> <span class="id" title="var">Hsub</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">G</span> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> ?<span class="id" title="var">S</span> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> ?<span class="id" title="var">T</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="var">remember</span> <span class="id" title="var">S</span> <span class="id" title="keyword">as</span> <span class="id" title="var">typ1</span>; <span class="id" title="var">remember</span> <span class="id" title="var">T</span> <span class="id" title="keyword">as</span> <span class="id" title="var">typ2</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">gen</span> <span class="id" title="var">S1</span> <span class="id" title="var">S2</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hsub</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Heq1</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Heq2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq2</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<span class="id" title="notation">\{}</span> : <span class="id" title="axiom">fset</span> <span class="id" title="axiom">var</span>). <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv_repl_typ_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GADTRules.html#subtyp_sngl_pq1_t"><span class="id" title="lemma">subtyp_sngl_pq1_t</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span> := <span class="id" title="var">p</span>) (<span class="id" title="var">q</span> := <span class="id" title="var">q</span>) (<span class="id" title="var">S</span> := <span class="id" title="var">T0</span>) (<span class="id" title="var">U</span> := <span class="id" title="var">U</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHsub</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHsub</span> <span class="id" title="var">H0</span> <span class="id" title="var">S1</span> <span class="id" title="var">T0</span> <span class="id" title="var">T1</span> <span class="id" title="constructor">eq_refl</span> <span class="id" title="var">T2</span> <span class="id" title="constructor">eq_refl</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">L</span> <span class="id" title="var">IH</span>]. <span class="id" title="tactic">∃</span> (<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="axiom">dom</span> <span class="id" title="var">G</span>). <span class="id" title="var">introv</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>~ <a class="idref" href="Narrowing.html#narrow_subtyping"><span class="id" title="lemma">narrow_subtyping</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Subenvironments.html#subenv_push"><span class="id" title="constructor">subenv_push</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Definitions.html#subtyp_trans"><span class="id" title="constructor">subtyp_trans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">T</span> := <span class="id" title="var">T0</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Definitions.html#subtyp_sngl_qp"><span class="id" title="constructor">subtyp_sngl_qp</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="Replacement.html#repl_swap"><span class="id" title="lemma">repl_swap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHsub</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHsub</span> <span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="constructor">eq_refl</span> <span class="id" title="var">_</span> <span class="id" title="constructor">eq_refl</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">L</span> <span class="id" title="var">IH</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">G</span> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <span class="id" title="var">_</span> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">apply</span> <a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="axiom">dom</span> <span class="id" title="var">G</span>). <span class="id" title="var">introv</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Definitions.html#subtyp_trans"><span class="id" title="constructor">subtyp_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="Definitions.html#subtyp_sngl_pq"><span class="id" title="constructor">subtyp_sngl_pq</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="Weakening.html#weaken_ty_trm"><span class="id" title="lemma">weaken_ty_trm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="Replacement.html#repl_open_var"><span class="id" title="lemma">repl_open_var</span></a>; <span class="id" title="tactic">apply</span>× <a class="idref" href="Binding.html#typed_paths_named"><span class="id" title="lemma">typed_paths_named</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv_repl_typ_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GADTRules.html#subtyp_sngl_qp1_t"><span class="id" title="lemma">subtyp_sngl_qp1_t</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span> := <span class="id" title="var">p</span>) (<span class="id" title="var">q</span> := <span class="id" title="var">q</span>) (<span class="id" title="var">S</span> := <span class="id" title="var">T0</span>) (<span class="id" title="var">U</span> := <span class="id" title="var">U</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHsub</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHsub</span> <span class="id" title="var">H0</span> <span class="id" title="var">S1</span> <span class="id" title="var">T0</span> <span class="id" title="var">T1</span> <span class="id" title="constructor">eq_refl</span> <span class="id" title="var">T2</span> <span class="id" title="constructor">eq_refl</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">L</span> <span class="id" title="var">IH</span>]. <span class="id" title="tactic">∃</span> (<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="axiom">dom</span> <span class="id" title="var">G</span>). <span class="id" title="var">introv</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>~ <a class="idref" href="Narrowing.html#narrow_subtyping"><span class="id" title="lemma">narrow_subtyping</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Subenvironments.html#subenv_push"><span class="id" title="constructor">subenv_push</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="Definitions.html#subtyp_trans"><span class="id" title="constructor">subtyp_trans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">T</span> := <span class="id" title="var">T0</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Definitions.html#subtyp_sngl_pq"><span class="id" title="constructor">subtyp_sngl_pq</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="Replacement.html#repl_swap"><span class="id" title="lemma">repl_swap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHsub</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHsub</span> <span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="constructor">eq_refl</span> <span class="id" title="var">_</span> <span class="id" title="constructor">eq_refl</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">L</span> <span class="id" title="var">IH</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">G</span> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <span class="id" title="var">_</span> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">apply</span> <a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="axiom">dom</span> <span class="id" title="var">G</span>). <span class="id" title="var">introv</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Definitions.html#subtyp_trans"><span class="id" title="constructor">subtyp_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="Definitions.html#subtyp_sngl_qp"><span class="id" title="constructor">subtyp_sngl_qp</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="Weakening.html#weaken_ty_trm"><span class="id" title="lemma">weaken_ty_trm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="Replacement.html#repl_open_var"><span class="id" title="lemma">repl_open_var</span></a>; <span class="id" title="tactic">apply</span>× <a class="idref" href="Binding.html#typed_paths_named"><span class="id" title="lemma">typed_paths_named</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv_repl_typ_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHsub</span> <span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="constructor">eq_refl</span> <span class="id" title="var">_</span> <span class="id" title="constructor">eq_refl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GADTRules.html#subtyp_sngl_pq2_t"><span class="id" title="lemma">subtyp_sngl_pq2_t</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span> := <span class="id" title="var">p</span>) (<span class="id" title="var">T</span> := <span class="id" title="var">T0</span>) (<span class="id" title="var">q</span> := <span class="id" title="var">q</span>) (<span class="id" title="var">U</span> := <span class="id" title="var">U</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHsub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHHsub</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">L</span> <span class="id" title="var">IH</span>]]. <span class="id" title="tactic">∃</span> (<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="axiom">dom</span> <span class="id" title="var">G</span>). <span class="id" title="var">introv</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHsub</span> <span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="constructor">eq_refl</span> <span class="id" title="var">_</span> <span class="id" title="constructor">eq_refl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHsub</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHHsub</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">L</span> <span class="id" title="var">IH</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="axiom">dom</span> <span class="id" title="var">G</span>). <span class="id" title="var">introv</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">G</span> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <span class="id" title="var">_</span> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">apply</span> <a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Definitions.html#subtyp_trans"><span class="id" title="constructor">subtyp_trans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">T</span> := <a class="idref" href="Definitions.html#open_typ"><span class="id" title="definition">open_typ</span></a> <span class="id" title="var">x</span> <span class="id" title="var">T0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="Definitions.html#subtyp_sngl_qp"><span class="id" title="constructor">subtyp_sngl_qp</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="Weakening.html#weaken_ty_trm"><span class="id" title="lemma">weaken_ty_trm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="Replacement.html#repl_open_var"><span class="id" title="lemma">repl_open_var</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="Binding.html#typed_paths_named"><span class="id" title="lemma">typed_paths_named</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="Replacement.html#repl_swap"><span class="id" title="lemma">repl_swap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv_repl_typ_all</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHsub</span> <span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="constructor">eq_refl</span> <span class="id" title="var">_</span> <span class="id" title="constructor">eq_refl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GADTRules.html#subtyp_sngl_qp2_t"><span class="id" title="lemma">subtyp_sngl_qp2_t</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span> := <span class="id" title="var">p</span>) (<span class="id" title="var">T</span> := <span class="id" title="var">T0</span>) (<span class="id" title="var">q</span> := <span class="id" title="var">q</span>) (<span class="id" title="var">U</span> := <span class="id" title="var">U</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHsub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHHsub</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">L</span> <span class="id" title="var">IH</span>]]. <span class="id" title="tactic">∃</span> (<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="axiom">dom</span> <span class="id" title="var">G</span>). <span class="id" title="var">introv</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHsub</span> <span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="constructor">eq_refl</span> <span class="id" title="var">_</span> <span class="id" title="constructor">eq_refl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHsub</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHHsub</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">L</span> <span class="id" title="var">IH</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="axiom">dom</span> <span class="id" title="var">G</span>). <span class="id" title="var">introv</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">G</span> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">⊢!!!</span></a> <span class="id" title="var">_</span> <a class="idref" href="PreciseTyping.html#531d18a606e4c8b57e11df3af3b1ece8"><span class="id" title="notation">:</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">apply</span> <a class="idref" href="PreciseTyping.html#precise_to_general3"><span class="id" title="lemma">precise_to_general3</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Definitions.html#subtyp_trans"><span class="id" title="constructor">subtyp_trans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">T</span> := <a class="idref" href="Definitions.html#open_typ"><span class="id" title="definition">open_typ</span></a> <span class="id" title="var">x</span> <span class="id" title="var">T0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="Definitions.html#subtyp_sngl_pq"><span class="id" title="constructor">subtyp_sngl_pq</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="Weakening.html#weaken_ty_trm"><span class="id" title="lemma">weaken_ty_trm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="Replacement.html#repl_open_var"><span class="id" title="lemma">repl_open_var</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span>× <a class="idref" href="Binding.html#typed_paths_named"><span class="id" title="lemma">typed_paths_named</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="Replacement.html#repl_swap"><span class="id" title="lemma">repl_swap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>× <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="invert_subtyp_all_t" class="idref" href="#invert_subtyp_all_t"><span class="id" title="lemma">invert_subtyp_all_t</span></a> : <span class="id" title="keyword">∀</span> <a id="G:46" class="idref" href="#G:46"><span class="id" title="binder">G</span></a> <a id="S1:47" class="idref" href="#S1:47"><span class="id" title="binder">S1</span></a> <a id="T1:48" class="idref" href="#T1:48"><span class="id" title="binder">T1</span></a> <a id="S2:49" class="idref" href="#S2:49"><span class="id" title="binder">S2</span></a> <a id="T2:50" class="idref" href="#T2:50"><span class="id" title="binder">T2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="GADTRules.html#G:46"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:46"><span class="id" title="variable">G</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">∀(</span></a><a class="idref" href="GADTRules.html#S1:47"><span class="id" title="variable">S1</span></a><a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">)</span></a> <a class="idref" href="GADTRules.html#T1:48"><span class="id" title="variable">T1</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">∀(</span></a><a class="idref" href="GADTRules.html#S2:49"><span class="id" title="variable">S2</span></a><a class="idref" href="Definitions.html#5602fefe5ae9ac7607d0a75368b09df0"><span class="id" title="notation">)</span></a> <a class="idref" href="GADTRules.html#T2:50"><span class="id" title="variable">T2</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:46"><span class="id" title="variable">G</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <a class="idref" href="GADTRules.html#S2:49"><span class="id" title="variable">S2</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#S1:47"><span class="id" title="variable">S1</span></a> <span class="id" title="notation">∧</span> <span class="id" title="notation">(</span><span class="id" title="notation">∃</span> <a id="L:51" class="idref" href="#L:51"><span class="id" title="binder">L</span></a><span class="id" title="notation">,</span> <span class="id" title="keyword">∀</span> <a id="x:52" class="idref" href="#x:52"><span class="id" title="binder">x</span></a>, <a class="idref" href="GADTRules.html#x:52"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GADTRules.html#L:51"><span class="id" title="variable">L</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:46"><span class="id" title="variable">G</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="GADTRules.html#x:52"><span class="id" title="variable">x</span></a> <span class="id" title="notation">~</span> <a class="idref" href="GADTRules.html#S2:49"><span class="id" title="variable">S2</span></a> <a class="idref" href="Definitions.html#d77433d9a5f06bee50380b6ca9a3f271"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#open_typ"><span class="id" title="definition">open_typ</span></a> <a class="idref" href="GADTRules.html#x:52"><span class="id" title="variable">x</span></a> <a class="idref" href="GADTRules.html#T1:48"><span class="id" title="variable">T1</span></a> <a class="idref" href="Definitions.html#d77433d9a5f06bee50380b6ca9a3f271"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#open_typ"><span class="id" title="definition">open_typ</span></a> <a class="idref" href="GADTRules.html#x:52"><span class="id" title="variable">x</span></a> <a class="idref" href="GADTRules.html#T2:50"><span class="id" title="variable">T2</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">H0</span> <span class="id" title="var">Hsub</span>. <span class="id" title="tactic">apply</span>× <a class="idref" href="GADTRules.html#invert_subtyp_all_s"><span class="id" title="lemma">invert_subtyp_all_s</span></a>. <span class="id" title="tactic">apply</span>× <a class="idref" href="SemanticSubtyping.html#tight_to_semantic"><span class="id" title="lemma">tight_to_semantic</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="invert_subtyp_fld_s_label" class="idref" href="#invert_subtyp_fld_s_label"><span class="id" title="lemma">invert_subtyp_fld_s_label</span></a> : <span class="id" title="keyword">∀</span> <a id="G:53" class="idref" href="#G:53"><span class="id" title="binder">G</span></a> <a id="a1:54" class="idref" href="#a1:54"><span class="id" title="binder">a1</span></a> <a id="a2:55" class="idref" href="#a2:55"><span class="id" title="binder">a2</span></a> <a id="T1:56" class="idref" href="#T1:56"><span class="id" title="binder">T1</span></a> <a id="T2:57" class="idref" href="#T2:57"><span class="id" title="binder">T2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:53"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#a1:54"><span class="id" title="variable">a1</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="GADTRules.html#T1:56"><span class="id" title="variable">T1</span></a><a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">}</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#a2:55"><span class="id" title="variable">a2</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="GADTRules.html#T2:57"><span class="id" title="variable">T2</span></a><a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#a1:54"><span class="id" title="variable">a1</span></a> <span class="id" title="notation">=</span> <a class="idref" href="GADTRules.html#a2:55"><span class="id" title="variable">a2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">inv_repl_typ_rcd</span>; <span class="id" title="var">inv_repl_dec</span>; <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="invert_subtyp_typ_s_label" class="idref" href="#invert_subtyp_typ_s_label"><span class="id" title="lemma">invert_subtyp_typ_s_label</span></a> : <span class="id" title="keyword">∀</span> <a id="G:58" class="idref" href="#G:58"><span class="id" title="binder">G</span></a> <a id="A1:59" class="idref" href="#A1:59"><span class="id" title="binder">A1</span></a> <a id="S1:60" class="idref" href="#S1:60"><span class="id" title="binder">S1</span></a> <a id="T1:61" class="idref" href="#T1:61"><span class="id" title="binder">T1</span></a> <a id="A2:62" class="idref" href="#A2:62"><span class="id" title="binder">A2</span></a> <a id="S2:63" class="idref" href="#S2:63"><span class="id" title="binder">S2</span></a> <a id="T2:64" class="idref" href="#T2:64"><span class="id" title="binder">T2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:58"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#A1:59"><span class="id" title="variable">A1</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="GADTRules.html#S1:60"><span class="id" title="variable">S1</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T1:61"><span class="id" title="variable">T1</span></a><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#A2:62"><span class="id" title="variable">A2</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="GADTRules.html#S2:63"><span class="id" title="variable">S2</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T2:64"><span class="id" title="variable">T2</span></a><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#A1:59"><span class="id" title="variable">A1</span></a> <span class="id" title="notation">=</span> <a class="idref" href="GADTRules.html#A2:62"><span class="id" title="variable">A2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><span class="id" title="var">A1</span> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <span class="id" title="var">S1</span> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">T1</span><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">typ1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><span class="id" title="var">A2</span> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <span class="id" title="var">S2</span> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">T2</span><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">typ2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">Heqtyp1</span> <span class="id" title="var">into</span> <span class="id" title="var">Heq1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">Heqtyp2</span> <span class="id" title="var">into</span> <span class="id" title="var">Heq2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">gen</span> <span class="id" title="var">S1</span> <span class="id" title="var">T1</span> <span class="id" title="var">S2</span> <span class="id" title="var">T2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;top&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq2</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;bot&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq1</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;refl&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq2</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;and11&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq1</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;and12&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq1</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;and2&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq2</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;fld&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq1</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;typ&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq1</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq2</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;sngl_pq2&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">T'</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHs</span> <span class="id" title="var">T0</span> <span class="id" title="var">T2</span>). <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHs</span> <span class="id" title="var">S2</span> <span class="id" title="var">T0</span>). <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;sngl_qp2&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq1</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">T'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHs</span> <span class="id" title="var">T0</span> <span class="id" title="var">T2</span>). <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHs</span> <span class="id" title="var">S2</span> <span class="id" title="var">T0</span>). <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;sngl_pq1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">S'</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHs</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;sngl_qp1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">S'</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHs</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;sel2&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq2</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;sel1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq1</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;all&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq1</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="invert_subtyp_typ_t" class="idref" href="#invert_subtyp_typ_t"><span class="id" title="lemma">invert_subtyp_typ_t</span></a> : <span class="id" title="keyword">∀</span> <a id="G:65" class="idref" href="#G:65"><span class="id" title="binder">G</span></a> <a id="A:66" class="idref" href="#A:66"><span class="id" title="binder">A</span></a> <a id="S1:67" class="idref" href="#S1:67"><span class="id" title="binder">S1</span></a> <a id="T1:68" class="idref" href="#T1:68"><span class="id" title="binder">T1</span></a> <a id="S2:69" class="idref" href="#S2:69"><span class="id" title="binder">S2</span></a> <a id="T2:70" class="idref" href="#T2:70"><span class="id" title="binder">T2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="GADTRules.html#G:65"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:65"><span class="id" title="variable">G</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#A:66"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="GADTRules.html#S1:67"><span class="id" title="variable">S1</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T1:68"><span class="id" title="variable">T1</span></a><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#A:66"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="GADTRules.html#S2:69"><span class="id" title="variable">S2</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T2:70"><span class="id" title="variable">T2</span></a><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:65"><span class="id" title="variable">G</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <a class="idref" href="GADTRules.html#S2:69"><span class="id" title="variable">S2</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#S1:67"><span class="id" title="variable">S1</span></a> <span class="id" title="notation">∧</span> <a class="idref" href="GADTRules.html#G:65"><span class="id" title="variable">G</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <a class="idref" href="GADTRules.html#T1:68"><span class="id" title="variable">T1</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T2:70"><span class="id" title="variable">T2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="GADTRules.html#invert_subtyp_typ_s"><span class="id" title="lemma">invert_subtyp_typ_s</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SemanticSubtyping.html#tight_to_semantic"><span class="id" title="lemma">tight_to_semantic</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab68"></a><h1 class="section">Unique typing</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="invert_subtyp_and2_s" class="idref" href="#invert_subtyp_and2_s"><span class="id" title="lemma">invert_subtyp_and2_s</span></a> : <span class="id" title="keyword">∀</span> <a id="G:71" class="idref" href="#G:71"><span class="id" title="binder">G</span></a> <a id="S:72" class="idref" href="#S:72"><span class="id" title="binder">S</span></a> <a id="T:73" class="idref" href="#T:73"><span class="id" title="binder">T</span></a> <a id="U:74" class="idref" href="#U:74"><span class="id" title="binder">U</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:71"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="GADTRules.html#S:72"><span class="id" title="variable">S</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <a class="idref" href="GADTRules.html#T:73"><span class="id" title="variable">T</span></a> <a class="idref" href="GADTRules.html#U:74"><span class="id" title="variable">U</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:71"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="GADTRules.html#S:72"><span class="id" title="variable">S</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T:73"><span class="id" title="variable">T</span></a> <span class="id" title="notation">∧</span> <a class="idref" href="GADTRules.html#G:71"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="GADTRules.html#S:72"><span class="id" title="variable">S</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#U:74"><span class="id" title="variable">U</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Definitions.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <span class="id" title="var">T</span> <span class="id" title="var">U</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">and1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">Heqand1</span> <span class="id" title="var">into</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">gen</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="var">introv</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;top&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;bot&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;refl&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">T</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;and11&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHsubtyp_s</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">He</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHsubtyp_s</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">IH1</span> <span class="id" title="var">IH2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;and12&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHsubtyp_s</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">He</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHsubtyp_s</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">IH1</span> <span class="id" title="var">IH2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;and2&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;fld&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;typ&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;sngl_pq2&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">T'</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHsubtyp_s</span> <span class="id" title="var">T1</span> <span class="id" title="var">U0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">G</span> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <span class="id" title="var">S</span> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">T1</span> <span class="id" title="notation">∧</span> <span class="id" title="var">G</span> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <span class="id" title="var">S</span> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">U0</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hg1</span> <span class="id" title="var">Hg2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHsubtyp_s</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHsubtyp_s</span> <span class="id" title="var">T0</span> <span class="id" title="var">T1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">G</span> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <span class="id" title="var">S</span> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">T0</span> <span class="id" title="notation">∧</span> <span class="id" title="var">G</span> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <span class="id" title="var">S</span> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">T1</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hg1</span> <span class="id" title="var">Hg2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHsubtyp_s</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;sngl_qp2&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">T'</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHsubtyp_s</span> <span class="id" title="var">T1</span> <span class="id" title="var">U0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">G</span> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <span class="id" title="var">S</span> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">T1</span> <span class="id" title="notation">∧</span> <span class="id" title="var">G</span> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <span class="id" title="var">S</span> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">U0</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hg1</span> <span class="id" title="var">Hg2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHsubtyp_s</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHsubtyp_s</span> <span class="id" title="var">T0</span> <span class="id" title="var">T1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">G</span> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <span class="id" title="var">S</span> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">T0</span> <span class="id" title="notation">∧</span> <span class="id" title="var">G</span> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <span class="id" title="var">S</span> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">T1</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hg1</span> <span class="id" title="var">Hg2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHsubtyp_s</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;sngl_qp1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHsubtyp_s</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">He</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hg1</span> <span class="id" title="var">Hg2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;sngl_pq1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHsubtyp_s</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">He</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hg1</span> <span class="id" title="var">Hg2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;sel2&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;sel1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHsubtyp_s</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">He</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hg1</span> <span class="id" title="var">Hg2</span>]. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;all&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reduce_subtyp_rcd2_s" class="idref" href="#reduce_subtyp_rcd2_s"><span class="id" title="lemma">reduce_subtyp_rcd2_s</span></a> : <span class="id" title="keyword">∀</span> <a id="G:75" class="idref" href="#G:75"><span class="id" title="binder">G</span></a> <a id="U1:76" class="idref" href="#U1:76"><span class="id" title="binder">U1</span></a> <a id="U2:77" class="idref" href="#U2:77"><span class="id" title="binder">U2</span></a> <a id="A:78" class="idref" href="#A:78"><span class="id" title="binder">A</span></a> <a id="S:79" class="idref" href="#S:79"><span class="id" title="binder">S</span></a> <a id="T:80" class="idref" href="#T:80"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:75"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="GADTRules.html#U1:76"><span class="id" title="variable">U1</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#U2:77"><span class="id" title="variable">U2</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#U2:77"><span class="id" title="variable">U2</span></a> <a class="idref" href="Definitions.html#10234f31520f57f77eb553d53e364f88"><span class="id" title="notation">↘</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#A:78"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="GADTRules.html#S:79"><span class="id" title="variable">S</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T:80"><span class="id" title="variable">T</span></a><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:75"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="GADTRules.html#U1:76"><span class="id" title="variable">U1</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#A:78"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="GADTRules.html#S:79"><span class="id" title="variable">S</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T:80"><span class="id" title="variable">T</span></a><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hs</span> [<span class="id" title="var">ls</span> <span class="id" title="var">Hu</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><span class="id" title="var">A</span> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <span class="id" title="var">S</span> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">T</span><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">typ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hu</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;typ&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqtyp</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqtyp</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;fld&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqtyp</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqtyp</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;andl&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GADTRules.html#invert_subtyp_and2_s"><span class="id" title="lemma">invert_subtyp_and2_s</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hs1</span> <span class="id" title="var">Hs2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;andr&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GADTRules.html#invert_subtyp_and2_s"><span class="id" title="lemma">invert_subtyp_and2_s</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hs1</span> <span class="id" title="var">Hs2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reduce_subtyp_fld2_s" class="idref" href="#reduce_subtyp_fld2_s"><span class="id" title="lemma">reduce_subtyp_fld2_s</span></a> : <span class="id" title="keyword">∀</span> <a id="G:81" class="idref" href="#G:81"><span class="id" title="binder">G</span></a> <a id="U1:82" class="idref" href="#U1:82"><span class="id" title="binder">U1</span></a> <a id="U2:83" class="idref" href="#U2:83"><span class="id" title="binder">U2</span></a> <a id="a:84" class="idref" href="#a:84"><span class="id" title="binder">a</span></a> <a id="T:85" class="idref" href="#T:85"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:81"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="GADTRules.html#U1:82"><span class="id" title="variable">U1</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#U2:83"><span class="id" title="variable">U2</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#U2:83"><span class="id" title="variable">U2</span></a> <a class="idref" href="Definitions.html#10234f31520f57f77eb553d53e364f88"><span class="id" title="notation">↘</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#a:84"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="GADTRules.html#T:85"><span class="id" title="variable">T</span></a><a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:81"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="GADTRules.html#U1:82"><span class="id" title="variable">U1</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#a:84"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="GADTRules.html#T:85"><span class="id" title="variable">T</span></a><a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hs</span> [<span class="id" title="var">ls</span> <span class="id" title="var">Hu</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hu</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;fld&nbsp;*)</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;andl&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GADTRules.html#invert_subtyp_and2_s"><span class="id" title="lemma">invert_subtyp_and2_s</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hs1</span> <span class="id" title="var">Hs2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;andr&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GADTRules.html#invert_subtyp_and2_s"><span class="id" title="lemma">invert_subtyp_and2_s</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hs1</span> <span class="id" title="var">Hs2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unique_membership_in_typ_labels" class="idref" href="#unique_membership_in_typ_labels"><span class="id" title="lemma">unique_membership_in_typ_labels</span></a> : <span class="id" title="keyword">∀</span> <a id="U:86" class="idref" href="#U:86"><span class="id" title="binder">U</span></a> <a id="L:87" class="idref" href="#L:87"><span class="id" title="binder">L</span></a> <a id="A:88" class="idref" href="#A:88"><span class="id" title="binder">A</span></a> <a id="S:89" class="idref" href="#S:89"><span class="id" title="binder">S</span></a> <a id="T:90" class="idref" href="#T:90"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#unique_membership"><span class="id" title="inductive">unique_membership</span></a> <a class="idref" href="GADTRules.html#U:86"><span class="id" title="variable">U</span></a> <a class="idref" href="GADTRules.html#L:87"><span class="id" title="variable">L</span></a> (<a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#A:88"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="GADTRules.html#S:89"><span class="id" title="variable">S</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T:90"><span class="id" title="variable">T</span></a><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a>) <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#label_typ"><span class="id" title="constructor">label_typ</span></a> <a class="idref" href="GADTRules.html#A:88"><span class="id" title="variable">A</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">in</span> <a class="idref" href="GADTRules.html#L:87"><span class="id" title="variable">L</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> (<a class="idref" href="Definitions.html#dec_typ"><span class="id" title="constructor">dec_typ</span></a> <span class="id" title="var">A</span> <span class="id" title="var">S</span> <span class="id" title="var">T</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">T1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;typ&nbsp;*)</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqT1</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">in_singleton_self</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;fld&nbsp;*)</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqT1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">HeqT1</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;andl&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHunique_membership1</span> <span class="id" title="var">HeqT1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">in_union</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;andr&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHunique_membership2</span> <span class="id" title="var">HeqT1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">in_union</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unique_membership_in_trm_labels" class="idref" href="#unique_membership_in_trm_labels"><span class="id" title="lemma">unique_membership_in_trm_labels</span></a> : <span class="id" title="keyword">∀</span> <a id="U:91" class="idref" href="#U:91"><span class="id" title="binder">U</span></a> <a id="L:92" class="idref" href="#L:92"><span class="id" title="binder">L</span></a> <a id="a:93" class="idref" href="#a:93"><span class="id" title="binder">a</span></a> <a id="T:94" class="idref" href="#T:94"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#unique_membership"><span class="id" title="inductive">unique_membership</span></a> <a class="idref" href="GADTRules.html#U:91"><span class="id" title="variable">U</span></a> <a class="idref" href="GADTRules.html#L:92"><span class="id" title="variable">L</span></a> (<a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#a:93"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="GADTRules.html#T:94"><span class="id" title="variable">T</span></a><a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">}</span></a>) <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#label_trm"><span class="id" title="constructor">label_trm</span></a> <a class="idref" href="GADTRules.html#a:93"><span class="id" title="variable">a</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">in</span> <a class="idref" href="GADTRules.html#L:92"><span class="id" title="variable">L</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">in_singleton_self</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;andl&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHunique_membership1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="constructor">eq_refl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">in_union</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;andr&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHunique_membership2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="constructor">eq_refl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">in_union</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subtyp_s_trm_typ_false" class="idref" href="#subtyp_s_trm_typ_false"><span class="id" title="lemma">subtyp_s_trm_typ_false</span></a> : <span class="id" title="keyword">∀</span> <a id="G:95" class="idref" href="#G:95"><span class="id" title="binder">G</span></a> <a id="a:96" class="idref" href="#a:96"><span class="id" title="binder">a</span></a> <a id="U:97" class="idref" href="#U:97"><span class="id" title="binder">U</span></a> <a id="A:98" class="idref" href="#A:98"><span class="id" title="binder">A</span></a> <a id="S:99" class="idref" href="#S:99"><span class="id" title="binder">S</span></a> <a id="T:100" class="idref" href="#T:100"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">~</span> <a class="idref" href="GADTRules.html#G:95"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#a:96"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="GADTRules.html#U:97"><span class="id" title="variable">U</span></a><a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">}</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#A:98"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="GADTRules.html#S:99"><span class="id" title="variable">S</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T:100"><span class="id" title="variable">T</span></a><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">{</span></a><span class="id" title="var">a</span> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">⦂</span></a> <span class="id" title="var">U</span><a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">}</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">trm1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><span class="id" title="var">A</span> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <span class="id" title="var">S</span> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">T</span><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">typ2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">Heqtrm1</span> <span class="id" title="var">into</span> <span class="id" title="var">Heq1</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">Heqtyp2</span> <span class="id" title="var">into</span> <span class="id" title="var">Heq2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">gen</span> <span class="id" title="var">U</span> <span class="id" title="var">S</span> <span class="id" title="var">T</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hn</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;top&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq2</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;bot&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq1</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;refl&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq2</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;and11&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq1</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;and12&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq1</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;and2&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq2</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;fld&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq2</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;typ&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq1</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;sngl_pq2&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHn</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;sngl_qp2&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHn</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;sngl_pq1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">S'</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHn</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;sngl_qp1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">S'</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHn</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;sel2&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq2</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;sel1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq1</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;all&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq1</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subtyp_s_typ_trm_false" class="idref" href="#subtyp_s_typ_trm_false"><span class="id" title="lemma">subtyp_s_typ_trm_false</span></a> : <span class="id" title="keyword">∀</span> <a id="G:101" class="idref" href="#G:101"><span class="id" title="binder">G</span></a> <a id="a:102" class="idref" href="#a:102"><span class="id" title="binder">a</span></a> <a id="U:103" class="idref" href="#U:103"><span class="id" title="binder">U</span></a> <a id="A:104" class="idref" href="#A:104"><span class="id" title="binder">A</span></a> <a id="S:105" class="idref" href="#S:105"><span class="id" title="binder">S</span></a> <a id="T:106" class="idref" href="#T:106"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">~</span> <a class="idref" href="GADTRules.html#G:101"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#A:104"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="GADTRules.html#S:105"><span class="id" title="variable">S</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T:106"><span class="id" title="variable">T</span></a><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#a:102"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="GADTRules.html#U:103"><span class="id" title="variable">U</span></a><a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hsub</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hsub</span>; <span class="id" title="var">inv_repl_typ_rcd</span>; <span class="id" title="var">inv_repl_dec</span>; <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHsub</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subtyp_s_rec_typ_false" class="idref" href="#subtyp_s_rec_typ_false"><span class="id" title="lemma">subtyp_s_rec_typ_false</span></a> : <span class="id" title="keyword">∀</span> <a id="G:107" class="idref" href="#G:107"><span class="id" title="binder">G</span></a> <a id="U:108" class="idref" href="#U:108"><span class="id" title="binder">U</span></a> <a id="A:109" class="idref" href="#A:109"><span class="id" title="binder">A</span></a> <a id="S:110" class="idref" href="#S:110"><span class="id" title="binder">S</span></a> <a id="T:111" class="idref" href="#T:111"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">~</span> <a class="idref" href="GADTRules.html#G:107"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="Definitions.html#57e8a3f1aebb1c6069654ec2f0cd7a19"><span class="id" title="notation">μ</span></a> <a class="idref" href="GADTRules.html#U:108"><span class="id" title="variable">U</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#A:109"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="GADTRules.html#S:110"><span class="id" title="variable">S</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T:111"><span class="id" title="variable">T</span></a><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hs</span>. <span class="id" title="var">remember</span> (<a class="idref" href="Definitions.html#57e8a3f1aebb1c6069654ec2f0cd7a19"><span class="id" title="notation">μ</span></a> <span class="id" title="var">U</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">t1</span>. <span class="id" title="var">remember</span> (<a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><span class="id" title="var">A</span> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <span class="id" title="var">S</span> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">T</span><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">t2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">gen</span> <span class="id" title="var">U</span> <span class="id" title="var">S</span> <span class="id" title="var">T</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hs</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Heq1</span>; <span class="id" title="var">introv</span> <span class="id" title="var">Heq2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span> <span class="id" title="var">T</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>; <span class="id" title="var">inv_repl_typ_rcd_full</span>; <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>; <span class="id" title="var">inv_repl_typ_rcd_full</span>; <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="var">inv_repl_typ_rec</span>. <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="var">inv_repl_typ_rec</span>. <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subtyp_s_rec_fld_false" class="idref" href="#subtyp_s_rec_fld_false"><span class="id" title="lemma">subtyp_s_rec_fld_false</span></a> : <span class="id" title="keyword">∀</span> <a id="G:112" class="idref" href="#G:112"><span class="id" title="binder">G</span></a> <a id="U:113" class="idref" href="#U:113"><span class="id" title="binder">U</span></a> <a id="a:114" class="idref" href="#a:114"><span class="id" title="binder">a</span></a> <a id="T:115" class="idref" href="#T:115"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">~</span> <a class="idref" href="GADTRules.html#G:112"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="Definitions.html#57e8a3f1aebb1c6069654ec2f0cd7a19"><span class="id" title="notation">μ</span></a> <a class="idref" href="GADTRules.html#U:113"><span class="id" title="variable">U</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#a:114"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="GADTRules.html#T:115"><span class="id" title="variable">T</span></a><a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">inv_repl_typ_rcd</span>; <span class="id" title="var">inv_repl_dec</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="constructor">eq_refl</span> <span class="id" title="constructor">eq_refl</span>); <span class="id" title="var">false</span>× <span class="id" title="var">IHHs</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">inv_repl_typ_rec</span>; <span class="id" title="tactic">apply</span>× <span class="id" title="var">IHHs</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="invert_subtyp_and1_s_rcd" class="idref" href="#invert_subtyp_and1_s_rcd"><span class="id" title="lemma">invert_subtyp_and1_s_rcd</span></a> : <span class="id" title="keyword">∀</span> <a id="G:116" class="idref" href="#G:116"><span class="id" title="binder">G</span></a> <a id="U1:117" class="idref" href="#U1:117"><span class="id" title="binder">U1</span></a> <a id="U2:118" class="idref" href="#U2:118"><span class="id" title="binder">U2</span></a> <a id="D:119" class="idref" href="#D:119"><span class="id" title="binder">D</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:116"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="Definitions.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <a class="idref" href="GADTRules.html#U1:117"><span class="id" title="variable">U1</span></a> <a class="idref" href="GADTRules.html#U2:118"><span class="id" title="variable">U2</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="GADTRules.html#D:119"><span class="id" title="variable">D</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:116"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="GADTRules.html#U1:117"><span class="id" title="variable">U1</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="GADTRules.html#D:119"><span class="id" title="variable">D</span></a> <span class="id" title="notation">∨</span> <a class="idref" href="GADTRules.html#G:116"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="GADTRules.html#U2:118"><span class="id" title="variable">U2</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="GADTRules.html#D:119"><span class="id" title="variable">D</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Definitions.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <span class="id" title="var">U1</span> <span class="id" title="var">U2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">and1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <span class="id" title="var">D</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">rcd2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">Heqand1</span> <span class="id" title="var">into</span> <span class="id" title="var">He1</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">Heqrcd2</span> <span class="id" title="var">into</span> <span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">gen</span> <span class="id" title="var">U1</span> <span class="id" title="var">U2</span> <span class="id" title="var">D</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;top&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;bot&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;refl&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">T</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;and11&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He1</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">left</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;and12&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He2</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">He1</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;and2&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;fld&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;typ&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;sngl_pq2&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">T'</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Definitions.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <span class="id" title="var">U1</span> <span class="id" title="var">U2</span> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <span class="id" title="var">U1</span> <span class="id" title="var">U2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq1</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <span class="id" title="var">D1</span> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <span class="id" title="var">D1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq2</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq1</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq2</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">IH1</span> | <span class="id" title="var">IH2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;sngl_qp2&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">T'</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Definitions.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <span class="id" title="var">U1</span> <span class="id" title="var">U2</span> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <span class="id" title="var">U1</span> <span class="id" title="var">U2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq1</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <span class="id" title="var">D1</span> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <span class="id" title="var">D1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq2</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq1</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq2</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">IH1</span> | <span class="id" title="var">IH2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;sngl_pq1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">S'</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">assert</span> (<a class="idref" href="Definitions.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <span class="id" title="var">T1</span> <span class="id" title="var">U2</span> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <span class="id" title="var">T1</span> <span class="id" title="var">U2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq1</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <span class="id" title="var">D</span> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <span class="id" title="var">D</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq2</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq1</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq2</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">IH1</span> | <span class="id" title="var">IH2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">assert</span> (<a class="idref" href="Definitions.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <span class="id" title="var">U1</span> <span class="id" title="var">T1</span> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <span class="id" title="var">U1</span> <span class="id" title="var">T1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq1</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <span class="id" title="var">D</span> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <span class="id" title="var">D</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq2</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq1</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq2</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">IH1</span> | <span class="id" title="var">IH2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;sngl_qp1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">S'</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">assert</span> (<a class="idref" href="Definitions.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <span class="id" title="var">T1</span> <span class="id" title="var">U2</span> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <span class="id" title="var">T1</span> <span class="id" title="var">U2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq1</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <span class="id" title="var">D</span> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <span class="id" title="var">D</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq2</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq1</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq2</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">IH1</span> | <span class="id" title="var">IH2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">assert</span> (<a class="idref" href="Definitions.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <span class="id" title="var">U1</span> <span class="id" title="var">T1</span> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <span class="id" title="var">U1</span> <span class="id" title="var">T1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq1</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <span class="id" title="var">D</span> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <span class="id" title="var">D</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq2</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq1</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq2</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">IH1</span> | <span class="id" title="var">IH2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;sel2&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;sel1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;all&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He1</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unique_membership_notin_typ_labels" class="idref" href="#unique_membership_notin_typ_labels"><span class="id" title="lemma">unique_membership_notin_typ_labels</span></a> : <span class="id" title="keyword">∀</span> <a id="G:120" class="idref" href="#G:120"><span class="id" title="binder">G</span></a> <a id="U:121" class="idref" href="#U:121"><span class="id" title="binder">U</span></a> <a id="L:122" class="idref" href="#L:122"><span class="id" title="binder">L</span></a> <a id="T1:123" class="idref" href="#T1:123"><span class="id" title="binder">T1</span></a> <a id="A:124" class="idref" href="#A:124"><span class="id" title="binder">A</span></a> <a id="S:125" class="idref" href="#S:125"><span class="id" title="binder">S</span></a> <a id="T:126" class="idref" href="#T:126"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#unique_membership"><span class="id" title="inductive">unique_membership</span></a> <a class="idref" href="GADTRules.html#U:121"><span class="id" title="variable">U</span></a> <a class="idref" href="GADTRules.html#L:122"><span class="id" title="variable">L</span></a> <a class="idref" href="GADTRules.html#T1:123"><span class="id" title="variable">T1</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="Definitions.html#label_typ"><span class="id" title="constructor">label_typ</span></a> <a class="idref" href="GADTRules.html#A:124"><span class="id" title="variable">A</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GADTRules.html#L:122"><span class="id" title="variable">L</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">~</span> <a class="idref" href="GADTRules.html#G:120"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="GADTRules.html#U:121"><span class="id" title="variable">U</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> (<a class="idref" href="Definitions.html#dec_typ"><span class="id" title="constructor">dec_typ</span></a> <a class="idref" href="GADTRules.html#A:124"><span class="id" title="variable">A</span></a> <a class="idref" href="GADTRules.html#S:125"><span class="id" title="variable">S</span></a> <a class="idref" href="GADTRules.html#T:126"><span class="id" title="variable">T</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">G</span> <span class="id" title="var">U</span> <span class="id" title="var">L</span> <span class="id" title="var">T1</span> <span class="id" title="var">A</span> <span class="id" title="var">S</span> <span class="id" title="var">T</span> <span class="id" title="var">H1</span> <span class="id" title="var">Hn</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;typ&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> → <span class="id" title="lemma">notin_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GADTRules.html#invert_subtyp_typ_s_label"><span class="id" title="lemma">invert_subtyp_typ_s_label</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">A0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;fld&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="GADTRules.html#subtyp_s_trm_typ_false"><span class="id" title="lemma">subtyp_s_trm_typ_false</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>× <a class="idref" href="GADTRules.html#subtyp_s_rec_typ_false"><span class="id" title="lemma">subtyp_s_rec_typ_false</span></a>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;andl&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">notin_union</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hn</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hn1</span> <span class="id" title="var">Hn2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GADTRules.html#invert_subtyp_and1_s_rcd"><span class="id" title="lemma">invert_subtyp_and1_s_rcd</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHunique_membership1</span> <span class="id" title="var">Hn1</span> <span class="id" title="var">H0</span>). <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHunique_membership2</span> <span class="id" title="var">Hn2</span> <span class="id" title="var">H0</span>). <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;andl&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">notin_union</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hn</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hn1</span> <span class="id" title="var">Hn2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GADTRules.html#invert_subtyp_and1_s_rcd"><span class="id" title="lemma">invert_subtyp_and1_s_rcd</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHunique_membership1</span> <span class="id" title="var">Hn1</span> <span class="id" title="var">H0</span>). <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHunique_membership2</span> <span class="id" title="var">Hn2</span> <span class="id" title="var">H0</span>). <span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unique_membership_notin_trm_labels" class="idref" href="#unique_membership_notin_trm_labels"><span class="id" title="lemma">unique_membership_notin_trm_labels</span></a> : <span class="id" title="keyword">∀</span> <a id="G:127" class="idref" href="#G:127"><span class="id" title="binder">G</span></a> <a id="U:128" class="idref" href="#U:128"><span class="id" title="binder">U</span></a> <a id="L:129" class="idref" href="#L:129"><span class="id" title="binder">L</span></a> <a id="T1:130" class="idref" href="#T1:130"><span class="id" title="binder">T1</span></a> <a id="a:131" class="idref" href="#a:131"><span class="id" title="binder">a</span></a> <a id="T:132" class="idref" href="#T:132"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#unique_membership"><span class="id" title="inductive">unique_membership</span></a> <a class="idref" href="GADTRules.html#U:128"><span class="id" title="variable">U</span></a> <a class="idref" href="GADTRules.html#L:129"><span class="id" title="variable">L</span></a> <a class="idref" href="GADTRules.html#T1:130"><span class="id" title="variable">T1</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="Definitions.html#label_trm"><span class="id" title="constructor">label_trm</span></a> <a class="idref" href="GADTRules.html#a:131"><span class="id" title="variable">a</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="GADTRules.html#L:129"><span class="id" title="variable">L</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">~</span> <a class="idref" href="GADTRules.html#G:127"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="GADTRules.html#U:128"><span class="id" title="variable">U</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#a:131"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="GADTRules.html#T:132"><span class="id" title="variable">T</span></a><a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hm</span> <span class="id" title="var">Hn</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;typ&nbsp;*)</span> <span class="id" title="var">false</span>× <a class="idref" href="GADTRules.html#subtyp_s_typ_trm_false"><span class="id" title="lemma">subtyp_s_typ_trm_false</span></a>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;fld&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> → <span class="id" title="lemma">notin_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GADTRules.html#invert_subtyp_fld_s_label"><span class="id" title="lemma">invert_subtyp_fld_s_label</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">a0</span>. <span class="id" title="var">false</span>× <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">false</span>× <a class="idref" href="GADTRules.html#subtyp_s_rec_fld_false"><span class="id" title="lemma">subtyp_s_rec_fld_false</span></a>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;andl&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">notin_union</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hn</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hn1</span> <span class="id" title="var">Hn2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GADTRules.html#invert_subtyp_and1_s_rcd"><span class="id" title="lemma">invert_subtyp_and1_s_rcd</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHm1</span> <span class="id" title="var">Hn1</span> <span class="id" title="var">H0</span>). <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHm2</span> <span class="id" title="var">Hn2</span> <span class="id" title="var">H0</span>). <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;andl&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">notin_union</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hn</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hn1</span> <span class="id" title="var">Hn2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GADTRules.html#invert_subtyp_and1_s_rcd"><span class="id" title="lemma">invert_subtyp_and1_s_rcd</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHm1</span> <span class="id" title="var">Hn1</span> <span class="id" title="var">H0</span>). <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHm2</span> <span class="id" title="var">Hn2</span> <span class="id" title="var">H0</span>). <span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reduce_subtyp_rcd1_s" class="idref" href="#reduce_subtyp_rcd1_s"><span class="id" title="lemma">reduce_subtyp_rcd1_s</span></a> : <span class="id" title="keyword">∀</span> <a id="G:133" class="idref" href="#G:133"><span class="id" title="binder">G</span></a> <a id="U1:134" class="idref" href="#U1:134"><span class="id" title="binder">U1</span></a> <a id="A:135" class="idref" href="#A:135"><span class="id" title="binder">A</span></a> <a id="S1:136" class="idref" href="#S1:136"><span class="id" title="binder">S1</span></a> <a id="T1:137" class="idref" href="#T1:137"><span class="id" title="binder">T1</span></a> <a id="S2:138" class="idref" href="#S2:138"><span class="id" title="binder">S2</span></a> <a id="T2:139" class="idref" href="#T2:139"><span class="id" title="binder">T2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:133"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="GADTRules.html#U1:134"><span class="id" title="variable">U1</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#A:135"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="GADTRules.html#S2:138"><span class="id" title="variable">S2</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T2:139"><span class="id" title="variable">T2</span></a><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#U1:134"><span class="id" title="variable">U1</span></a> <a class="idref" href="Definitions.html#10234f31520f57f77eb553d53e364f88"><span class="id" title="notation">↘</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#A:135"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="GADTRules.html#S1:136"><span class="id" title="variable">S1</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T1:137"><span class="id" title="variable">T1</span></a><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:133"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#A:135"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="GADTRules.html#S1:136"><span class="id" title="variable">S1</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T1:137"><span class="id" title="variable">T1</span></a><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#A:135"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="GADTRules.html#S2:138"><span class="id" title="variable">S2</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T2:139"><span class="id" title="variable">T2</span></a><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hs</span> [<span class="id" title="var">ls</span> <span class="id" title="var">Hu</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><span class="id" title="var">A</span> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <span class="id" title="var">S1</span> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <span class="id" title="var">T1</span><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">typ1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hu</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">Heqtyp1</span> <span class="id" title="var">into</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hu</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;typ&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;fld&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;andl&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GADTRules.html#invert_subtyp_and1_s_rcd"><span class="id" title="lemma">invert_subtyp_and1_s_rcd</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hs</span> | <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">subst</span> <span class="id" title="var">T0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GADTRules.html#unique_membership_in_typ_labels"><span class="id" title="lemma">unique_membership_in_typ_labels</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hu1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="lemma">disjoint_in_notin</span> <span class="id" title="var">H</span> <span class="id" title="var">Hu1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hni</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="GADTRules.html#unique_membership_notin_typ_labels"><span class="id" title="lemma">unique_membership_notin_typ_labels</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hu2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hni</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;andr&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GADTRules.html#invert_subtyp_and1_s_rcd"><span class="id" title="lemma">invert_subtyp_and1_s_rcd</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hs</span> | <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GADTRules.html#unique_membership_in_typ_labels"><span class="id" title="lemma">unique_membership_in_typ_labels</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hu2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">disjoint_comm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="lemma">disjoint_in_notin</span> <span class="id" title="var">H</span> <span class="id" title="var">Hu2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hni</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="GADTRules.html#unique_membership_notin_typ_labels"><span class="id" title="lemma">unique_membership_notin_typ_labels</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hu1</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hni</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reduce_subtyp_fld1_s" class="idref" href="#reduce_subtyp_fld1_s"><span class="id" title="lemma">reduce_subtyp_fld1_s</span></a> : <span class="id" title="keyword">∀</span> <a id="G:140" class="idref" href="#G:140"><span class="id" title="binder">G</span></a> <a id="U1:141" class="idref" href="#U1:141"><span class="id" title="binder">U1</span></a> <a id="a:142" class="idref" href="#a:142"><span class="id" title="binder">a</span></a> <a id="T1:143" class="idref" href="#T1:143"><span class="id" title="binder">T1</span></a> <a id="T2:144" class="idref" href="#T2:144"><span class="id" title="binder">T2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:140"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="GADTRules.html#U1:141"><span class="id" title="variable">U1</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#a:142"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="GADTRules.html#T2:144"><span class="id" title="variable">T2</span></a><a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#U1:141"><span class="id" title="variable">U1</span></a> <a class="idref" href="Definitions.html#10234f31520f57f77eb553d53e364f88"><span class="id" title="notation">↘</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#a:142"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="GADTRules.html#T1:143"><span class="id" title="variable">T1</span></a><a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:140"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#a:142"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="GADTRules.html#T1:143"><span class="id" title="variable">T1</span></a><a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">}</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#a:142"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="GADTRules.html#T2:144"><span class="id" title="variable">T2</span></a><a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hs</span> [<span class="id" title="var">ls</span> <span class="id" title="var">Hu</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hu</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;andl&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GADTRules.html#invert_subtyp_and1_s_rcd"><span class="id" title="lemma">invert_subtyp_and1_s_rcd</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hs</span> | <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="GADTRules.html#unique_membership_in_trm_labels"><span class="id" title="lemma">unique_membership_in_trm_labels</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hu1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="lemma">disjoint_in_notin</span> <span class="id" title="var">H</span> <span class="id" title="var">Hu1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hni</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="GADTRules.html#unique_membership_notin_trm_labels"><span class="id" title="lemma">unique_membership_notin_trm_labels</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hu2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hni</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;andr&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GADTRules.html#invert_subtyp_and1_s_rcd"><span class="id" title="lemma">invert_subtyp_and1_s_rcd</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hs</span> | <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="GADTRules.html#unique_membership_in_trm_labels"><span class="id" title="lemma">unique_membership_in_trm_labels</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hu2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">disjoint_comm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="lemma">disjoint_in_notin</span> <span class="id" title="var">H</span> <span class="id" title="var">Hu2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hni</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="GADTRules.html#unique_membership_notin_trm_labels"><span class="id" title="lemma">unique_membership_notin_trm_labels</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hu1</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hni</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reduce_subtyp_rcd_both_s" class="idref" href="#reduce_subtyp_rcd_both_s"><span class="id" title="lemma">reduce_subtyp_rcd_both_s</span></a> : <span class="id" title="keyword">∀</span> <a id="G:145" class="idref" href="#G:145"><span class="id" title="binder">G</span></a> <a id="U1:146" class="idref" href="#U1:146"><span class="id" title="binder">U1</span></a> <a id="U2:147" class="idref" href="#U2:147"><span class="id" title="binder">U2</span></a> <a id="A:148" class="idref" href="#A:148"><span class="id" title="binder">A</span></a> <a id="S1:149" class="idref" href="#S1:149"><span class="id" title="binder">S1</span></a> <a id="T1:150" class="idref" href="#T1:150"><span class="id" title="binder">T1</span></a> <a id="S2:151" class="idref" href="#S2:151"><span class="id" title="binder">S2</span></a> <a id="T2:152" class="idref" href="#T2:152"><span class="id" title="binder">T2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#U1:146"><span class="id" title="variable">U1</span></a> <a class="idref" href="Definitions.html#10234f31520f57f77eb553d53e364f88"><span class="id" title="notation">↘</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#A:148"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="GADTRules.html#S1:149"><span class="id" title="variable">S1</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T1:150"><span class="id" title="variable">T1</span></a><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#U2:147"><span class="id" title="variable">U2</span></a> <a class="idref" href="Definitions.html#10234f31520f57f77eb553d53e364f88"><span class="id" title="notation">↘</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#A:148"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="GADTRules.html#S2:151"><span class="id" title="variable">S2</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T2:152"><span class="id" title="variable">T2</span></a><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:145"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="GADTRules.html#U1:146"><span class="id" title="variable">U1</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#U2:147"><span class="id" title="variable">U2</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:145"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#A:148"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="GADTRules.html#S1:149"><span class="id" title="variable">S1</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T1:150"><span class="id" title="variable">T1</span></a><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#A:148"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="GADTRules.html#S2:151"><span class="id" title="variable">S2</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T2:152"><span class="id" title="variable">T2</span></a><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hu1</span> <span class="id" title="var">Hu2</span> <span class="id" title="var">Hsub</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="GADTRules.html#reduce_subtyp_rcd2_s"><span class="id" title="lemma">reduce_subtyp_rcd2_s</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hsub</span> <span class="id" title="var">Hu2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="GADTRules.html#reduce_subtyp_rcd1_s"><span class="id" title="lemma">reduce_subtyp_rcd1_s</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span> <span class="id" title="var">Hu1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reduce_subtyp_fld_both_s" class="idref" href="#reduce_subtyp_fld_both_s"><span class="id" title="lemma">reduce_subtyp_fld_both_s</span></a> : <span class="id" title="keyword">∀</span> <a id="G:153" class="idref" href="#G:153"><span class="id" title="binder">G</span></a> <a id="U1:154" class="idref" href="#U1:154"><span class="id" title="binder">U1</span></a> <a id="U2:155" class="idref" href="#U2:155"><span class="id" title="binder">U2</span></a> <a id="a:156" class="idref" href="#a:156"><span class="id" title="binder">a</span></a> <a id="T1:157" class="idref" href="#T1:157"><span class="id" title="binder">T1</span></a> <a id="T2:158" class="idref" href="#T2:158"><span class="id" title="binder">T2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#U1:154"><span class="id" title="variable">U1</span></a> <a class="idref" href="Definitions.html#10234f31520f57f77eb553d53e364f88"><span class="id" title="notation">↘</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#a:156"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="GADTRules.html#T1:157"><span class="id" title="variable">T1</span></a><a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#U2:155"><span class="id" title="variable">U2</span></a> <a class="idref" href="Definitions.html#10234f31520f57f77eb553d53e364f88"><span class="id" title="notation">↘</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#a:156"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="GADTRules.html#T2:158"><span class="id" title="variable">T2</span></a><a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:153"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="GADTRules.html#U1:154"><span class="id" title="variable">U1</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#U2:155"><span class="id" title="variable">U2</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:153"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#a:156"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="GADTRules.html#T1:157"><span class="id" title="variable">T1</span></a><a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">}</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#a:156"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="GADTRules.html#T2:158"><span class="id" title="variable">T2</span></a><a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hu1</span> <span class="id" title="var">Hu2</span> <span class="id" title="var">Hsub</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="GADTRules.html#reduce_subtyp_fld2_s"><span class="id" title="lemma">reduce_subtyp_fld2_s</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hsub</span> <span class="id" title="var">Hu2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="GADTRules.html#reduce_subtyp_fld1_s"><span class="id" title="lemma">reduce_subtyp_fld1_s</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span> <span class="id" title="var">Hu1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="invert_subtyp_rcd_s" class="idref" href="#invert_subtyp_rcd_s"><span class="id" title="lemma">invert_subtyp_rcd_s</span></a> : <span class="id" title="keyword">∀</span> <a id="G:159" class="idref" href="#G:159"><span class="id" title="binder">G</span></a> <a id="U1:160" class="idref" href="#U1:160"><span class="id" title="binder">U1</span></a> <a id="A:161" class="idref" href="#A:161"><span class="id" title="binder">A</span></a> <a id="S1:162" class="idref" href="#S1:162"><span class="id" title="binder">S1</span></a> <a id="T1:163" class="idref" href="#T1:163"><span class="id" title="binder">T1</span></a> <a id="S2:164" class="idref" href="#S2:164"><span class="id" title="binder">S2</span></a> <a id="T2:165" class="idref" href="#T2:165"><span class="id" title="binder">T2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#U1:160"><span class="id" title="variable">U1</span></a> <a class="idref" href="Definitions.html#10234f31520f57f77eb553d53e364f88"><span class="id" title="notation">↘</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#A:161"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="GADTRules.html#S1:162"><span class="id" title="variable">S1</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T1:163"><span class="id" title="variable">T1</span></a><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:159"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="GADTRules.html#U1:160"><span class="id" title="variable">U1</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#A:161"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="GADTRules.html#S2:164"><span class="id" title="variable">S2</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T2:165"><span class="id" title="variable">T2</span></a><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:159"><span class="id" title="variable">G</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <a class="idref" href="GADTRules.html#S2:164"><span class="id" title="variable">S2</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#S1:162"><span class="id" title="variable">S1</span></a> <span class="id" title="notation">∧</span> <a class="idref" href="GADTRules.html#G:159"><span class="id" title="variable">G</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <a class="idref" href="GADTRules.html#T1:163"><span class="id" title="variable">T1</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T2:165"><span class="id" title="variable">T2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hu1</span> <span class="id" title="var">Hsub</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hr</span>: (<a class="idref" href="GADTRules.html#reduce_subtyp_rcd1_s"><span class="id" title="lemma">reduce_subtyp_rcd1_s</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hsub</span> <span class="id" title="var">Hu1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GADTRules.html#invert_subtyp_typ_s"><span class="id" title="lemma">invert_subtyp_typ_s</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="invert_subtyp_rcd_t" class="idref" href="#invert_subtyp_rcd_t"><span class="id" title="lemma">invert_subtyp_rcd_t</span></a> : <span class="id" title="keyword">∀</span> <a id="G:166" class="idref" href="#G:166"><span class="id" title="binder">G</span></a> <a id="U1:167" class="idref" href="#U1:167"><span class="id" title="binder">U1</span></a> <a id="A:168" class="idref" href="#A:168"><span class="id" title="binder">A</span></a> <a id="S1:169" class="idref" href="#S1:169"><span class="id" title="binder">S1</span></a> <a id="T1:170" class="idref" href="#T1:170"><span class="id" title="binder">T1</span></a> <a id="S2:171" class="idref" href="#S2:171"><span class="id" title="binder">S2</span></a> <a id="T2:172" class="idref" href="#T2:172"><span class="id" title="binder">T2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="GADTRules.html#G:166"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#U1:167"><span class="id" title="variable">U1</span></a> <a class="idref" href="Definitions.html#10234f31520f57f77eb553d53e364f88"><span class="id" title="notation">↘</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#A:168"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="GADTRules.html#S1:169"><span class="id" title="variable">S1</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T1:170"><span class="id" title="variable">T1</span></a><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:166"><span class="id" title="variable">G</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <a class="idref" href="GADTRules.html#U1:167"><span class="id" title="variable">U1</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#A:168"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&gt;:</span></a> <a class="idref" href="GADTRules.html#S2:171"><span class="id" title="variable">S2</span></a> <a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T2:172"><span class="id" title="variable">T2</span></a><a class="idref" href="Definitions.html#b194d02349b51cad3901d2caba34fa00"><span class="id" title="notation">}</span></a>  <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:166"><span class="id" title="variable">G</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <a class="idref" href="GADTRules.html#S2:171"><span class="id" title="variable">S2</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#S1:169"><span class="id" title="variable">S1</span></a> <span class="id" title="notation">∧</span> <a class="idref" href="GADTRules.html#G:166"><span class="id" title="variable">G</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <a class="idref" href="GADTRules.html#T1:170"><span class="id" title="variable">T1</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T2:172"><span class="id" title="variable">T2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hu1</span> <span class="id" title="var">Hsub</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GADTRules.html#invert_subtyp_rcd_s"><span class="id" title="lemma">invert_subtyp_rcd_s</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="SemanticSubtyping.html#tight_to_semantic"><span class="id" title="lemma">tight_to_semantic</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="invert_subtyp_fld_s" class="idref" href="#invert_subtyp_fld_s"><span class="id" title="lemma">invert_subtyp_fld_s</span></a> : <span class="id" title="keyword">∀</span> <a id="G:173" class="idref" href="#G:173"><span class="id" title="binder">G</span></a> <a id="U1:174" class="idref" href="#U1:174"><span class="id" title="binder">U1</span></a> <a id="a:175" class="idref" href="#a:175"><span class="id" title="binder">a</span></a> <a id="T1:176" class="idref" href="#T1:176"><span class="id" title="binder">T1</span></a> <a id="T2:177" class="idref" href="#T2:177"><span class="id" title="binder">T2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#U1:174"><span class="id" title="variable">U1</span></a> <a class="idref" href="Definitions.html#10234f31520f57f77eb553d53e364f88"><span class="id" title="notation">↘</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#a:175"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="GADTRules.html#T1:176"><span class="id" title="variable">T1</span></a><a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:173"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="GADTRules.html#U1:174"><span class="id" title="variable">U1</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#a:175"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="GADTRules.html#T2:177"><span class="id" title="variable">T2</span></a><a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:173"><span class="id" title="variable">G</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">⊢{}</span></a> <a class="idref" href="GADTRules.html#T1:176"><span class="id" title="variable">T1</span></a> <a class="idref" href="SemanticSubtyping.html#f3f7ab722fb6616f2dde54e185a9209e"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T2:177"><span class="id" title="variable">T2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hu1</span> <span class="id" title="var">Hsub</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Hr</span>: (<a class="idref" href="GADTRules.html#reduce_subtyp_fld1_s"><span class="id" title="lemma">reduce_subtyp_fld1_s</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hsub</span> <span class="id" title="var">Hu1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GADTRules.html#invert_subtyp_trm_s"><span class="id" title="lemma">invert_subtyp_trm_s</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="invert_subtyp_fld_t" class="idref" href="#invert_subtyp_fld_t"><span class="id" title="lemma">invert_subtyp_fld_t</span></a> : <span class="id" title="keyword">∀</span> <a id="G:178" class="idref" href="#G:178"><span class="id" title="binder">G</span></a> <a id="U1:179" class="idref" href="#U1:179"><span class="id" title="binder">U1</span></a> <a id="a:180" class="idref" href="#a:180"><span class="id" title="binder">a</span></a> <a id="T1:181" class="idref" href="#T1:181"><span class="id" title="binder">T1</span></a> <a id="T2:182" class="idref" href="#T2:182"><span class="id" title="binder">T2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#inert"><span class="id" title="inductive">inert</span></a> <a class="idref" href="GADTRules.html#G:178"><span class="id" title="variable">G</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#U1:179"><span class="id" title="variable">U1</span></a> <a class="idref" href="Definitions.html#10234f31520f57f77eb553d53e364f88"><span class="id" title="notation">↘</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#a:180"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="GADTRules.html#T1:181"><span class="id" title="variable">T1</span></a><a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:178"><span class="id" title="variable">G</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <a class="idref" href="GADTRules.html#U1:179"><span class="id" title="variable">U1</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">{</span></a><a class="idref" href="GADTRules.html#a:180"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">⦂</span></a> <a class="idref" href="GADTRules.html#T2:182"><span class="id" title="variable">T2</span></a><a class="idref" href="Definitions.html#18cbe8108c7275adbcbe2d488cc0d64e"><span class="id" title="notation">}</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#G:178"><span class="id" title="variable">G</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&vdash;<sub>&#35;</sub></span></a> <a class="idref" href="GADTRules.html#T1:181"><span class="id" title="variable">T1</span></a> <a class="idref" href="TightTyping.html#3350a03272d49af9ea81ab2b6cc8bf1f"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="GADTRules.html#T2:182"><span class="id" title="variable">T2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hu1</span> <span class="id" title="var">Hsub</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SemanticSubtyping.html#semantic_to_tight"><span class="id" title="lemma">semantic_to_tight</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GADTRules.html#invert_subtyp_fld_s"><span class="id" title="lemma">invert_subtyp_fld_s</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="SemanticSubtyping.html#tight_to_semantic"><span class="id" title="lemma">tight_to_semantic</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_unique_membership_labels" class="idref" href="#subst_unique_membership_labels"><span class="id" title="lemma">subst_unique_membership_labels</span></a> : <span class="id" title="keyword">∀</span> <a id="x:183" class="idref" href="#x:183"><span class="id" title="binder">x</span></a> <a id="p:184" class="idref" href="#p:184"><span class="id" title="binder">p</span></a> <a id="U:185" class="idref" href="#U:185"><span class="id" title="binder">U</span></a> <a id="L:186" class="idref" href="#L:186"><span class="id" title="binder">L</span></a> <a id="T:187" class="idref" href="#T:187"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#unique_membership"><span class="id" title="inductive">unique_membership</span></a> <a class="idref" href="GADTRules.html#U:185"><span class="id" title="variable">U</span></a> <a class="idref" href="GADTRules.html#L:186"><span class="id" title="variable">L</span></a> <a class="idref" href="GADTRules.html#T:187"><span class="id" title="variable">T</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#unique_membership"><span class="id" title="inductive">unique_membership</span></a> (<a class="idref" href="Binding.html#subst_typ"><span class="id" title="definition">subst_typ</span></a> <a class="idref" href="GADTRules.html#x:183"><span class="id" title="variable">x</span></a> <a class="idref" href="GADTRules.html#p:184"><span class="id" title="variable">p</span></a> <a class="idref" href="GADTRules.html#U:185"><span class="id" title="variable">U</span></a>) <a class="idref" href="GADTRules.html#L:186"><span class="id" title="variable">L</span></a> (<a class="idref" href="Binding.html#subst_typ"><span class="id" title="definition">subst_typ</span></a> <a class="idref" href="GADTRules.html#x:183"><span class="id" title="variable">x</span></a> <a class="idref" href="GADTRules.html#p:184"><span class="id" title="variable">p</span></a> <a class="idref" href="GADTRules.html#T:187"><span class="id" title="variable">T</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hu</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Hu</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_unique_membership" class="idref" href="#subst_unique_membership"><span class="id" title="lemma">subst_unique_membership</span></a> : <span class="id" title="keyword">∀</span> <a id="x:188" class="idref" href="#x:188"><span class="id" title="binder">x</span></a> <a id="p:189" class="idref" href="#p:189"><span class="id" title="binder">p</span></a> <a id="U:190" class="idref" href="#U:190"><span class="id" title="binder">U</span></a> <a id="T:191" class="idref" href="#T:191"><span class="id" title="binder">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="GADTRules.html#U:190"><span class="id" title="variable">U</span></a> <a class="idref" href="Definitions.html#10234f31520f57f77eb553d53e364f88"><span class="id" title="notation">↘</span></a> <a class="idref" href="GADTRules.html#T:191"><span class="id" title="variable">T</span></a> <span class="id" title="notation">→</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Binding.html#subst_typ"><span class="id" title="definition">subst_typ</span></a> <a class="idref" href="GADTRules.html#x:188"><span class="id" title="variable">x</span></a> <a class="idref" href="GADTRules.html#p:189"><span class="id" title="variable">p</span></a> <a class="idref" href="GADTRules.html#U:190"><span class="id" title="variable">U</span></a> <a class="idref" href="Definitions.html#10234f31520f57f77eb553d53e364f88"><span class="id" title="notation">↘</span></a> <a class="idref" href="Binding.html#subst_typ"><span class="id" title="definition">subst_typ</span></a> <a class="idref" href="GADTRules.html#x:188"><span class="id" title="variable">x</span></a> <a class="idref" href="GADTRules.html#p:189"><span class="id" title="variable">p</span></a> <a class="idref" href="GADTRules.html#T:191"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> [<span class="id" title="var">ls</span> <span class="id" title="var">H</span>]. <span class="id" title="tactic">∃</span> <span class="id" title="var">ls</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>× <a class="idref" href="GADTRules.html#subst_unique_membership_labels"><span class="id" title="lemma">subst_unique_membership_labels</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;-&nbsp;<span class="comment">(*&nbsp;typ&nbsp;*)</span>&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;-&nbsp;<span class="comment">(*&nbsp;fld&nbsp;*)</span>&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;-&nbsp;<span class="comment">(*&nbsp;andl&nbsp;*)</span>&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;-&nbsp;<span class="comment">(*&nbsp;andr&nbsp;*)</span>&nbsp;*)</span><br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
